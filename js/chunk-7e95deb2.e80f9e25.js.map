{"version":3,"sources":["webpack:///./node_modules/echarts/lib/component/tooltip.js","webpack:///./node_modules/echarts/lib/coord/cartesian/cartesianAxisHelper.js","webpack:///./node_modules/echarts/lib/component/tooltip/TooltipContent.js","webpack:///./node_modules/echarts/lib/component/axisPointer/findPointFromSeries.js","webpack:///./src/views/Statistics/Statistics.vue?681b","webpack:///./node_modules/echarts/lib/component/axisPointer/globalListener.js","webpack:///./node_modules/echarts/lib/chart/pie/PieView.js","webpack:///./node_modules/echarts/lib/chart/pie/pieLayout.js","webpack:///./src/components/content/echart/Echart_Doughnut.vue?b1f7","webpack:///./node_modules/echarts/lib/component/tooltip/TooltipView.js","webpack:///./node_modules/echarts/lib/component/legend/legendAction.js","webpack:///./node_modules/echarts/lib/component/axisPointer/AxisPointerModel.js","webpack:///./node_modules/echarts/lib/component/axisPointer/CartesianAxisPointer.js","webpack:///./node_modules/echarts/lib/component/legend/LegendView.js","webpack:///./node_modules/echarts/lib/component/axis/AxisView.js","webpack:///./node_modules/echarts/lib/component/helper/selectableMixin.js","webpack:///./node_modules/echarts/lib/action/createDataSelectAction.js","webpack:///./node_modules/echarts/lib/component/helper/listComponent.js","webpack:///./node_modules/echarts/lib/component/tooltip/TooltipRichContent.js","webpack:///./node_modules/echarts/lib/component/legend/LegendModel.js","webpack:///./node_modules/echarts/lib/component/legend/legendFilter.js","webpack:///./src/views/Statistics/Statistics.vue?862f","webpack:///./src/components/content/echart/Echart_Doughnut.vue?083f","webpack:///src/components/content/echart/Echart_Doughnut.vue","webpack:///./src/components/content/echart/Echart_Doughnut.vue?89b3","webpack:///./src/components/content/echart/Echart_Doughnut.vue","webpack:///src/views/Statistics/Statistics.vue","webpack:///./src/views/Statistics/Statistics.vue?1e2c","webpack:///./src/views/Statistics/Statistics.vue","webpack:///./node_modules/echarts/lib/visual/dataColor.js","webpack:///./node_modules/echarts/lib/component/tooltip/TooltipModel.js","webpack:///./node_modules/echarts/lib/chart/pie/labelLayout.js","webpack:///./node_modules/echarts/lib/chart/pie.js","webpack:///./node_modules/echarts/lib/visual/LegendVisualProvider.js","webpack:///./node_modules/echarts/lib/component/axisPointer.js","webpack:///./node_modules/echarts/lib/component/axisPointer/modelHelper.js","webpack:///./node_modules/echarts/lib/component/legend.js","webpack:///./node_modules/echarts/lib/processor/dataFilter.js","webpack:///./node_modules/echarts/lib/component/axisPointer/AxisPointerView.js","webpack:///./node_modules/echarts/lib/component/axisPointer/BaseAxisPointer.js","webpack:///./node_modules/echarts/lib/chart/helper/createListSimply.js","webpack:///./node_modules/echarts/lib/component/axisPointer/axisTrigger.js","webpack:///./node_modules/echarts/lib/chart/pie/PieSeries.js","webpack:///./node_modules/echarts/lib/component/axis/AxisBuilder.js","webpack:///./node_modules/echarts/lib/component/axisPointer/viewHelper.js"],"names":["echarts","registerAction","type","event","update","zrUtil","layout","gridModel","axisModel","opt","grid","coordinateSystem","axis","otherAxisOnZeroOf","getAxesOnZeroOf","rawAxisPosition","position","axisPosition","axisDim","dim","rect","getRect","rectBound","x","width","y","height","idx","left","right","top","bottom","onZero","axisOffset","get","posBound","onZeroCoord","toGlobalCoord","dataToCoord","Math","max","min","rotation","PI","dirMap","labelDirection","tickDirection","nameDirection","labelOffset","retrieve","labelInside","labelRotate","z2","exports","zrColor","eventUtil","domUtil","env","formatUtil","each","toCamelCase","vendors","gCssText","assembleTransition","duration","transitionCurve","transitionText","map","vendorPrefix","join","assembleFont","textStyleModel","cssText","fontSize","color","getTextColor","push","getFont","round","name","val","assembleCssText","tooltipModel","transitionDuration","backgroundColor","getModel","padding","canvasSupported","toHex","borderName","camelCase","normalizeCssArray","makeStyleCoord","out","zr","appendToBody","zrX","zrY","zrPainter","painter","zrViewportRoot","getViewportRoot","transformLocalCoord","document","body","viewportRootOffset","getViewportRootOffset","offsetLeft","offsetTop","TooltipContent","container","api","wxa","el","createElement","domBelongToZr","this","_zr","getZr","_appendToBody","_styleCoord","getWidth","getHeight","appendChild","_container","_show","_hideTimeout","self","onmouseenter","_enterable","clearTimeout","_inContent","onmousemove","e","window","handler","normalizeEvent","dispatch","onmouseleave","hideLater","_hideDelay","prototype","constructor","stl","currentStyle","defaultView","getComputedStyle","domStyle","style","show","styleCoord","display","innerHTML","pointerEvents","setContent","content","setEnterable","enterable","getSize","clientWidth","clientHeight","moveTo","hide","time","setTimeout","bind","isShow","dispose","parentNode","removeChild","getOuterSize","parseInt","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","_default","module","modelUtil","finder","ecModel","seriesModel","point","seriesIndex","getSeriesByIndex","data","getData","dataIndex","queryDataIndex","isArray","getItemGraphicEl","coordSys","getTooltipPosition","dataToPoint","getValues","dimensions","mapDimension","getBoundingRect","clone","applyTransform","transform","_model","makeInner","inner","register","key","node","records","initGlobalListeners","record","useHandler","eventType","cb","on","dis","makeDispatchAction","dispatchAction","dispatchTooltipFinally","pendings","initialized","curry","doEnter","onLeave","actuallyPayload","showLen","showTip","length","hideLen","hideTip","currTrigger","payload","pendingList","unregister","graphic","ChartView","updateDataSelected","uid","hasAnimation","getName","selectedOffset","from","seriesId","id","toggleItemSelected","getItemLayout","isSelected","midAngle","startAngle","endAngle","dx","cos","dy","sin","offset","animate","when","start","attr","PiePiece","Group","call","sector","Sector","polyline","Polyline","text","Text","add","updateData","piePieceProto","firstCreate","childAt","labelLine","labelText","hostModel","itemModel","getItemModel","sectorShape","extend","label","animationTypeUpdate","getShallow","setShape","animationType","shape","r","r0","initProps","updateProps","visualColor","getItemVisual","useStyle","defaults","lineJoin","fill","getItemStyle","hoverStyle","cursorStyle","withAnimation","_updateLabel","highDownOnUpdate","isAnimationEnabled","fromState","toState","ignore","hoverIgnore","stopAnimation","animateTo","normalIgnore","setHoverStyle","labelLayout","isNaN","targetLineShape","points","linePoints","targetTextStyle","origin","labelModel","labelHoverModel","labelLineModel","labelLineHoverModel","setLabelStyle","labelFetcher","labelDataIndex","defaultText","autoColor","useInsideStyle","inside","textAlign","textVerticalAlign","verticalAlign","opacity","setStyle","stroke","getLineStyle","smooth","inherits","PieView","init","sectorGroup","_sectorGroup","render","oldData","_data","group","isFirstRender","onSectorClick","selectedMode","diff","piePiece","eachChild","child","setItemGraphicEl","newIdx","oldIdx","off","remove","execute","count","s","removeClipPath","setClipPath","_createClipPath","cx","cy","clockwise","clipPath","initOrUpdate","containPoint","itemLayout","radius","sqrt","_number","parsePercent","linearMap","PI2","RADIAN","getViewRect","getLayoutRect","getBoxLayoutParams","seriesType","eachSeriesByType","valueDim","viewRect","center","size","minAngle","validDataCount","value","sum","getSum","unitRadian","roseType","stillShowZeroSum","extent","getDataExtent","restAngle","valueSumLargerThanMinAngle","currentAngle","dir","angle","setItemLayout","NaN","TooltipRichContent","numberUtil","findPointFromSeries","layoutUtil","Model","globalListener","axisHelper","axisPointerViewHelper","getTooltipRenderMode","proxyRect","Rect","extendComponentView","tooltipContent","getComponent","renderMode","_renderMode","getDom","_newLine","_tooltipContent","removeAll","_tooltipModel","_ecModel","_api","_lastDataByCoordSys","_alwaysShowContent","_initGlobalListener","_keepShow","triggerOn","indexOf","_tryShow","_hide","_lastX","_lastY","_refreshUpdateTimeout","isDisposed","manuallyShowTip","_ticket","dataByCoordSys","tooltip","offsetX","offsetY","target","tooltipOption","_manuallyAxisShowTip","pointInfo","findHover","manuallyHideTip","coordSysAxesInfo","buildTooltipModel","model","_showAxisTooltip","_showSeriesItemTooltip","_showComponentItemTooltip","_showOrMove","delay","_showTimout","globalTooltipModel","singleDefaultHTML","singleParamsList","singleTooltipModel","newLine","markers","itemCoordSys","dataByAxis","item","axisIndex","axisValue","seriesDefaultHTML","valueLabel","getValueLabel","seriesDataIndices","valueLabelOpt","idxItem","series","dataIndexInside","dataParams","getDataParams","axisType","axisId","getAxisRawValue","axisValueLabel","html","seriesTooltip","formatTooltip","isObject","newMarkers","merge","firstLine","encodeHTML","reverse","positionExpr","_updateContentNotChangedOnAxis","_updatePosition","_showTooltipContent","random","undefined","dataModel","dataType","tooltipTrigger","defaultHtml","params","asyncTicket","getRawIndex","tooltipOpt","formatter","subTooltipModel","formatTpl","callback","cbTicket","viewWidth","viewHeight","contentSize","align","vAlign","viewSize","slice","layoutRect","pos","calcTooltipPosition","refixTooltipPosition","isCenterAlign","confineTooltipPosition","lastCoordSys","contentNotChanged","lastItemCoordSys","indexCoordSys","lastDataByAxis","thisItemCoordSys","thisDataByAxis","lastItem","indexAxis","thisItem","lastIndices","newIndices","lastIdxItem","j","newIdxItem","modelCascade","resultModel","pop","isInstance","gapH","gapV","domWidth","domHeight","gap","rectWidth","rectHeight","legendSelectActionHandler","methodName","selectedMap","isToggleSelect","eachComponent","legendModel","legendData","isItemSelected","hasOwnProperty","selected","AxisPointerModel","extendComponentModel","defaultOption","zlevel","z","snap","triggerTooltip","status","link","animation","animationDurationUpdate","lineStyle","shadowStyle","precision","margin","borderColor","borderWidth","shadowBlur","shadowColor","handle","icon","shadowOffsetX","shadowOffsetY","throttle","BaseAxisPointer","viewHelper","cartesianAxisHelper","AxisView","CartesianAxisPointer","makeElOption","elOption","axisPointerModel","axisPointerType","otherExtent","getCartesian","getOtherAxis","getGlobalExtent","pixelValue","elStyle","buildElStyle","pointerOption","pointerShapeBuilder","graphicKey","pointer","layoutInfo","buildCartesianSingleLabelElOption","getHandleTransform","labelMargin","getTransformedPosition","updateHandleTransform","delta","axisExtent","dimIndex","currPosition","cursorOtherValue","cursorPoint","tooltipOptions","index","line","targetShape","makeLineShape","getAxisDimIndex","subPixelOptimize","shadow","bandWidth","getBandWidth","span","makeRectShape","registerAxisPointerClass","_config","__DEV__","_symbol","createSymbol","_listComponent","makeBackground","newlineDisabled","_contentGroup","_backgroundEl","_selectorGroup","_isFirstRender","getContentGroup","getSelectorGroup","resetInner","itemAlign","orient","selector","selectorPosition","renderInner","positionInfo","viewportSize","maxSize","mainRect","layoutInner","contentGroup","legendDrawnMap","createHashMap","selectMode","excludeSeriesId","eachRawSeries","getSeriesByName","getVisual","legendSymbolType","symbolType","itemGroup","_createItem","dispatchSelectAction","dispatchHighlightAction","dispatchDownplayAction","set","legendVisualProvider","provider","containName","indexOfName","newline","_createSelector","selectorGroup","createSelectorButton","selectorItem","onclick","emphasisLabelModel","title","isRectText","itemWidth","itemHeight","inactiveColor","inactiveBorderColor","symbolKeepAspect","legendModelItemStyle","itemIcon","legendGlobalTooltipModel","parentModel","legendSymbol","setSymbolStyle","legendSymbolCenter","textX","replace","setTextStyle","textFill","hitRect","invisible","formatterParams","componentType","legendIndex","componentIndex","$vars","option","silent","__legendDataIndex","box","contentRect","contentPos","selectorRect","selectorPos","selectorButtonGap","orientIdx","getOrient","wh","hw","yx","symbol","itemStyle","seriesName","dataName","storage","getDisplayList","useHoverLayer","axisPointerModelHelper","_axisPointer","axisPointerClass","fixValue","superApply","arguments","updateAxisPointer","force","axisPointer","disposeAxisPointer","axisView","forceRender","Clazz","getAxisPointerClass","getAxisPointerModel","axisPointerClazz","clazz","updateSelectedMap","targetList","_targetList","_selectTargetMap","reduce","targetMap","select","unSelect","toggleSelected","actionInfos","actionInfo","mainType","subType","query","method","_layout","layoutBox","positionElement","componentModel","boxLayoutParams","markerRich","prefix","suffix","startId","endId","substr","textWidth","textHeight","textBorderRadius","textBackgroundColor","textOffset","rich","textLineHeight","textPadding","bounding","isNameSpecified","lang","langSelector","legend","defaultSelectorOption","all","inverse","LegendModel","dependencies","layoutMode","ignoreSize","mergeDefaultAndTheme","_updateSelector","mergeOption","superCall","isString","optionUpdated","_updateData","hasSelected","i","potentialData","availableNames","isPotential","names","getAllNames","isSeriesFiltered","concat","_availableNames","rawData","dataItem","allSelect","inverseSelect","borderRadius","itemGap","textStyle","selectorLabel","fontFamily","emphasis","selectorItemGap","legendModels","findComponents","filterSeries","_vm","_h","$createElement","_c","_self","staticClass","_v","staticRenderFns","attrs","component","components","EchartDoughnut","_util","getTargetSeries","paletteScope","seiresModelMap","__paletteScope","reset","dataAll","getRawData","idxMap","rawIdx","filteredIdx","singleDataColor","singleDataBorderColor","getColorFromPalette","setItemVisual","showContent","trigger","alwaysShowContent","displayMode","confine","showDelay","hideDelay","extraCssText","animationEasingUpdate","crossStyle","textContain","adjustSingleSide","list","viewLeft","viewTop","farthestX","shiftDown","end","shiftUp","changeX","isDownList","lastDeltaX","Number","MAX_VALUE","l","labelAlignTo","deltaY","abs","len","length2","len2","deltaX","sort","a","b","lastY","upList","downList","avoidOverlap","labelLayoutList","leftList","rightList","leftmostX","rightmostX","isPositionCenter","targetTextWidth","isAlignToEdge","realTextWidth","textRect","labelDistance","bleedMargin","truncateText","font","dist","hasLabelRotate","minShowLabelRadian","labelPosition","labelLineLen","labelLineLen2","textY","getFormattedLabel","isLabelInside","x1","y1","x2","y2","x3","y3","rotate","createDataSelectAction","dataColor","pieLayout","dataFilter","registerVisual","registerLayout","registerProcessor","LegendVisualProvider","getDataWithEncodedVisual","mapArray","dataWithEncodedVisual","axisTrigger","registerPreprocessor","PRIORITY","PROCESSOR","STATISTIC","collect","result","axesInfo","seriesInvolved","coordSysMap","collectAxesInfo","collectSeriesInfo","globalAxisPointerModel","linksOption","linkGroups","getCoordinateSystems","axisPointerEnabled","coordSysKey","makeKey","axesInfoInCoordSys","coordSysModel","baseTooltipModel","getAxes","saveTooltipAxisInfo","getTooltipAxes","triggerAxis","cross","tooltipAxes","baseAxes","otherAxes","fromTooltip","axisPointerShow","isHandleTrigger","makeAxisPointerModel","involveSeries","axisInfo","useHandle","seriesModels","groupIndex","getLinkGroupIndex","linkGroup","mapper","tooltipAxisPointerModel","volatileOption","field","labelOption","tooltipAxisPointerLabelShow","eachSeries","seriesTooltipTrigger","seriesTooltipShow","getAxis","seriesDataCount","linkOption","checkPropInLink","linkPropValue","axisPropValue","getAxisInfo","scale","parse","getExtent","isBlank","legendFilter","Component","SERIES_FILTER","registerSubTypeDefaulter","filterSelf","AxisPointerView","clazzUtil","eventTool","throttleUtil","animationModel","moveAnimation","props","propsEqual","lastProp","lastProps","newProps","equals","updateLabelShowHide","labelEl","getHandleTransProps","trans","updateMandatoryProps","traverse","_group","_lastGraphicKey","_handle","_dragging","_lastValue","_lastStatus","_payloadInfo","animationThreshold","_axisModel","_axisPointerModel","clear","_moveAnimation","determineAnimation","doUpdateProps","updatePointerEl","updateLabelEl","createPointerEl","createLabelEl","_renderHandle","isCategoryAxis","useSnap","pointerEl","isInit","handleModel","createIcon","cursor","draggable","stop","onmousedown","_onHandleDragMove","drift","ondragend","_onHandleDragEnd","includeStyles","handleSize","createOrUpdate","_moveHandleToValue","_doDispatchAxisPointer","payloadInfo","doClear","buildLabel","xy","xDimIndex","enableClassExtend","createDimensions","List","nameList","coordDimensions","source","getSource","dimensionsInfo","initData","modelHelper","illegalPoint","isIllegalPoint","inputAxesInfo","shouldHide","outputFinder","showValueMap","updaters","showPointer","showTooltip","coordSysContainsPoint","inputAxisInfo","findInputAxisInfo","pointToData","processOnAxis","linkTriggers","tarAxisInfo","tarKey","srcAxisInfo","srcKey","srcValItem","makeMapperParam","updateModelActually","dispatchTooltipActually","dispatchHighDownActually","newValue","dontSnap","containData","buildPayloadsBySeries","payloadBatch","snapToValue","minDist","minDiff","seriesNestestValue","dataIndices","dataDim","getAxisTooltipData","nestestValue","indicesOfNearest","isFinite","coordSysItem","coordSysId","coordSysIndex","coordSysType","coordSysMainType","outputAxesInfo","valItem","sampleItem","escapeConnect","highDownKey","lastHighlights","newHighlights","batchItem","toHighlight","toDownplay","batch","axisName","createListSimply","getPercentWithPrecision","dataSelectableMixin","_dataProvider","retrieveRawAttr","_sourceHelper","makeSeriesEncodeForNameBased","PieSeries","extendSeriesModel","_createSelectableList","_defaultLabelLine","newOption","getInitialData","encodeDefaulter","valueList","percent","defaultEmphasis","labelLineNormalOpt","labelLineEmphasisOpt","legendHoverLink","hoverAnimation","minShowLabelAngle","hoverOffset","avoidLabelOverlap","percentPrecision","alignTo","distanceToLabelLine","animationEasing","mixin","isRadianAroundZero","remRadian","matrixUtil","_vector","v2ApplyTransform","_axisHelper","shouldShowAllLabels","AxisBuilder","dumbGroup","updateTransform","_transform","_dumbGroup","hasBuilder","builders","getGroup","axisLine","matrix","pt1","pt2","lineCap","Line","anid","strokeContainThreshold","arrows","arrowSize","arrowOffset","symbolWidth","symbolHeight","axisTickLabel","ticksEls","buildAxisMajorTicks","labelEls","buildAxisLabel","fixMinMaxLabelShow","buildAxisMinorTicks","axisNameAvailableWidth","nameLocation","gapSignal","isNameLocationCenter","nameRotation","innerTextLayout","endTextLayout","textFont","truncateOpt","ellipsis","maxWidth","nameTruncateMaxWidth","truncatedText","minChar","placeholder","textEl","__fullText","__truncatedText","isLabelSilent","eventData","makeAxisEventDataBase","targetType","decomposeTransform","axisRotation","textRotation","direction","rotationDiff","textPosition","textRotate","onLeft","tickEls","showMinLabel","showMaxLabel","firstLabel","nextLabel","lastLabel","prevLabel","firstTick","nextTick","lastTick","prevTick","ignoreEl","isTwoLabelOverlapped","current","next","firstRect","nextRect","mRotationBack","identity","mul","getLocalTransform","intersect","createTicks","ticksCoords","tickTransform","tickEndCoord","tickLineStyle","aniid","tickCoord","coord","tickEl","tickValue","axisBuilder","tickModel","lineStyleModel","getTicksCoords","minorTickModel","minorTicksCoords","getMinorTicksCoords","minorTickLineStyle","minorTicksEls","k","axisLabelShow","labels","getViewLabels","labelRotation","rawCategoryData","getCategories","triggerEvent","labelItem","formattedLabel","rawLabel","itemLabelModel","textColor","styleModel","getAreaStyle","buildLabelElOption","labelPos","paddings","confineInContainer","bgColor","lineWidth","getLabel","axisDimension","seriesData","isFunction","create","translate","textLayout","p1","p2","makeSectorShape"],"mappings":"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","file":"js/chunk-7e95deb2.e80f9e25.js","sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nrequire(\"./axisPointer\");\n\nrequire(\"./tooltip/TooltipModel\");\n\nrequire(\"./tooltip/TooltipView\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// FIXME Better way to pack data in graphic element\n\n/**\n * @action\n * @property {string} type\n * @property {number} seriesIndex\n * @property {number} dataIndex\n * @property {number} [x]\n * @property {number} [y]\n */\necharts.registerAction({\n  type: 'showTip',\n  event: 'showTip',\n  update: 'tooltip:manuallyShowTip'\n}, // noop\nfunction () {});\necharts.registerAction({\n  type: 'hideTip',\n  event: 'hideTip',\n  update: 'tooltip:manuallyHideTip'\n}, // noop\nfunction () {});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Can only be called after coordinate system creation stage.\n * (Can be called before coordinate system update stage).\n *\n * @param {Object} opt {labelInside}\n * @return {Object} {\n *  position, rotation, labelDirection, labelOffset,\n *  tickDirection, labelRotate, z2\n * }\n */\nfunction layout(gridModel, axisModel, opt) {\n  opt = opt || {};\n  var grid = gridModel.coordinateSystem;\n  var axis = axisModel.axis;\n  var layout = {};\n  var otherAxisOnZeroOf = axis.getAxesOnZeroOf()[0];\n  var rawAxisPosition = axis.position;\n  var axisPosition = otherAxisOnZeroOf ? 'onZero' : rawAxisPosition;\n  var axisDim = axis.dim;\n  var rect = grid.getRect();\n  var rectBound = [rect.x, rect.x + rect.width, rect.y, rect.y + rect.height];\n  var idx = {\n    left: 0,\n    right: 1,\n    top: 0,\n    bottom: 1,\n    onZero: 2\n  };\n  var axisOffset = axisModel.get('offset') || 0;\n  var posBound = axisDim === 'x' ? [rectBound[2] - axisOffset, rectBound[3] + axisOffset] : [rectBound[0] - axisOffset, rectBound[1] + axisOffset];\n\n  if (otherAxisOnZeroOf) {\n    var onZeroCoord = otherAxisOnZeroOf.toGlobalCoord(otherAxisOnZeroOf.dataToCoord(0));\n    posBound[idx.onZero] = Math.max(Math.min(onZeroCoord, posBound[1]), posBound[0]);\n  } // Axis position\n\n\n  layout.position = [axisDim === 'y' ? posBound[idx[axisPosition]] : rectBound[0], axisDim === 'x' ? posBound[idx[axisPosition]] : rectBound[3]]; // Axis rotation\n\n  layout.rotation = Math.PI / 2 * (axisDim === 'x' ? 0 : 1); // Tick and label direction, x y is axisDim\n\n  var dirMap = {\n    top: -1,\n    bottom: 1,\n    left: -1,\n    right: 1\n  };\n  layout.labelDirection = layout.tickDirection = layout.nameDirection = dirMap[rawAxisPosition];\n  layout.labelOffset = otherAxisOnZeroOf ? posBound[idx[rawAxisPosition]] - posBound[idx.onZero] : 0;\n\n  if (axisModel.get('axisTick.inside')) {\n    layout.tickDirection = -layout.tickDirection;\n  }\n\n  if (zrUtil.retrieve(opt.labelInside, axisModel.get('axisLabel.inside'))) {\n    layout.labelDirection = -layout.labelDirection;\n  } // Special label rotation\n\n\n  var labelRotate = axisModel.get('axisLabel.rotate');\n  layout.labelRotate = axisPosition === 'top' ? -labelRotate : labelRotate; // Over splitLine and splitArea\n\n  layout.z2 = 1;\n  return layout;\n}\n\nexports.layout = layout;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar zrColor = require(\"zrender/lib/tool/color\");\n\nvar eventUtil = require(\"zrender/lib/core/event\");\n\nvar domUtil = require(\"zrender/lib/core/dom\");\n\nvar env = require(\"zrender/lib/core/env\");\n\nvar formatUtil = require(\"../../util/format\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar each = zrUtil.each;\nvar toCamelCase = formatUtil.toCamelCase;\nvar vendors = ['', '-webkit-', '-moz-', '-o-'];\nvar gCssText = 'position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;';\n/**\n * @param {number} duration\n * @return {string}\n * @inner\n */\n\nfunction assembleTransition(duration) {\n  var transitionCurve = 'cubic-bezier(0.23, 1, 0.32, 1)';\n  var transitionText = 'left ' + duration + 's ' + transitionCurve + ',' + 'top ' + duration + 's ' + transitionCurve;\n  return zrUtil.map(vendors, function (vendorPrefix) {\n    return vendorPrefix + 'transition:' + transitionText;\n  }).join(';');\n}\n/**\n * @param {Object} textStyle\n * @return {string}\n * @inner\n */\n\n\nfunction assembleFont(textStyleModel) {\n  var cssText = [];\n  var fontSize = textStyleModel.get('fontSize');\n  var color = textStyleModel.getTextColor();\n  color && cssText.push('color:' + color);\n  cssText.push('font:' + textStyleModel.getFont());\n  fontSize && cssText.push('line-height:' + Math.round(fontSize * 3 / 2) + 'px');\n  each(['decoration', 'align'], function (name) {\n    var val = textStyleModel.get(name);\n    val && cssText.push('text-' + name + ':' + val);\n  });\n  return cssText.join(';');\n}\n/**\n * @param {Object} tooltipModel\n * @return {string}\n * @inner\n */\n\n\nfunction assembleCssText(tooltipModel) {\n  var cssText = [];\n  var transitionDuration = tooltipModel.get('transitionDuration');\n  var backgroundColor = tooltipModel.get('backgroundColor');\n  var textStyleModel = tooltipModel.getModel('textStyle');\n  var padding = tooltipModel.get('padding'); // Animation transition. Do not animate when transitionDuration is 0.\n\n  transitionDuration && cssText.push(assembleTransition(transitionDuration));\n\n  if (backgroundColor) {\n    if (env.canvasSupported) {\n      cssText.push('background-Color:' + backgroundColor);\n    } else {\n      // for ie\n      cssText.push('background-Color:#' + zrColor.toHex(backgroundColor));\n      cssText.push('filter:alpha(opacity=70)');\n    }\n  } // Border style\n\n\n  each(['width', 'color', 'radius'], function (name) {\n    var borderName = 'border-' + name;\n    var camelCase = toCamelCase(borderName);\n    var val = tooltipModel.get(camelCase);\n    val != null && cssText.push(borderName + ':' + val + (name === 'color' ? '' : 'px'));\n  }); // Text style\n\n  cssText.push(assembleFont(textStyleModel)); // Padding\n\n  if (padding != null) {\n    cssText.push('padding:' + formatUtil.normalizeCssArray(padding).join('px ') + 'px');\n  }\n\n  return cssText.join(';') + ';';\n} // If not able to make, do not modify the input `out`.\n\n\nfunction makeStyleCoord(out, zr, appendToBody, zrX, zrY) {\n  var zrPainter = zr && zr.painter;\n\n  if (appendToBody) {\n    var zrViewportRoot = zrPainter && zrPainter.getViewportRoot();\n\n    if (zrViewportRoot) {\n      // Some APPs might use scale on body, so we support CSS transform here.\n      domUtil.transformLocalCoord(out, zrViewportRoot, document.body, zrX, zrY);\n    }\n  } else {\n    out[0] = zrX;\n    out[1] = zrY; // xy should be based on canvas root. But tooltipContent is\n    // the sibling of canvas root. So padding of ec container\n    // should be considered here.\n\n    var viewportRootOffset = zrPainter && zrPainter.getViewportRootOffset();\n\n    if (viewportRootOffset) {\n      out[0] += viewportRootOffset.offsetLeft;\n      out[1] += viewportRootOffset.offsetTop;\n    }\n  }\n}\n/**\n * @alias module:echarts/component/tooltip/TooltipContent\n * @param {HTMLElement} container\n * @param {ExtensionAPI} api\n * @param {Object} [opt]\n * @param {boolean} [opt.appendToBody]\n *        `false`: the DOM element will be inside the container. Default value.\n *        `true`: the DOM element will be appended to HTML body, which avoid\n *                some overflow clip but intrude outside of the container.\n * @constructor\n */\n\n\nfunction TooltipContent(container, api, opt) {\n  if (env.wxa) {\n    return null;\n  }\n\n  var el = document.createElement('div');\n  el.domBelongToZr = true;\n  this.el = el;\n  var zr = this._zr = api.getZr();\n  var appendToBody = this._appendToBody = opt && opt.appendToBody;\n  this._styleCoord = [0, 0];\n  makeStyleCoord(this._styleCoord, zr, appendToBody, api.getWidth() / 2, api.getHeight() / 2);\n\n  if (appendToBody) {\n    document.body.appendChild(el);\n  } else {\n    container.appendChild(el);\n  }\n\n  this._container = container;\n  this._show = false;\n  /**\n   * @private\n   */\n\n  this._hideTimeout; // FIXME\n  // Is it needed to trigger zr event manually if\n  // the browser do not support `pointer-events: none`.\n\n  var self = this;\n\n  el.onmouseenter = function () {\n    // clear the timeout in hideLater and keep showing tooltip\n    if (self._enterable) {\n      clearTimeout(self._hideTimeout);\n      self._show = true;\n    }\n\n    self._inContent = true;\n  };\n\n  el.onmousemove = function (e) {\n    e = e || window.event;\n\n    if (!self._enterable) {\n      // `pointer-events: none` is set to tooltip content div\n      // if `enterable` is set as `false`, and `el.onmousemove`\n      // can not be triggered. But in browser that do not\n      // support `pointer-events`, we need to do this:\n      // Try trigger zrender event to avoid mouse\n      // in and out shape too frequently\n      var handler = zr.handler;\n      var zrViewportRoot = zr.painter.getViewportRoot();\n      eventUtil.normalizeEvent(zrViewportRoot, e, true);\n      handler.dispatch('mousemove', e);\n    }\n  };\n\n  el.onmouseleave = function () {\n    if (self._enterable) {\n      if (self._show) {\n        self.hideLater(self._hideDelay);\n      }\n    }\n\n    self._inContent = false;\n  };\n}\n\nTooltipContent.prototype = {\n  constructor: TooltipContent,\n\n  /**\n   * @private\n   * @type {boolean}\n   */\n  _enterable: true,\n\n  /**\n   * Update when tooltip is rendered\n   */\n  update: function () {\n    // FIXME\n    // Move this logic to ec main?\n    var container = this._container;\n    var stl = container.currentStyle || document.defaultView.getComputedStyle(container);\n    var domStyle = container.style;\n\n    if (domStyle.position !== 'absolute' && stl.position !== 'absolute') {\n      domStyle.position = 'relative';\n    } // Hide the tooltip\n    // PENDING\n    // this.hide();\n\n  },\n  show: function (tooltipModel) {\n    clearTimeout(this._hideTimeout);\n    var el = this.el;\n    var styleCoord = this._styleCoord;\n    el.style.cssText = gCssText + assembleCssText(tooltipModel) // Because of the reason described in:\n    // http://stackoverflow.com/questions/21125587/css3-transition-not-working-in-chrome-anymore\n    // we should set initial value to `left` and `top`.\n    + ';left:' + styleCoord[0] + 'px;top:' + styleCoord[1] + 'px;' + (tooltipModel.get('extraCssText') || '');\n    el.style.display = el.innerHTML ? 'block' : 'none'; // If mouse occsionally move over the tooltip, a mouseout event will be\n    // triggered by canvas, and cuase some unexpectable result like dragging\n    // stop, \"unfocusAdjacency\". Here `pointer-events: none` is used to solve\n    // it. Although it is not suppored by IE8~IE10, fortunately it is a rare\n    // scenario.\n\n    el.style.pointerEvents = this._enterable ? 'auto' : 'none';\n    this._show = true;\n  },\n  setContent: function (content) {\n    this.el.innerHTML = content == null ? '' : content;\n  },\n  setEnterable: function (enterable) {\n    this._enterable = enterable;\n  },\n  getSize: function () {\n    var el = this.el;\n    return [el.clientWidth, el.clientHeight];\n  },\n  moveTo: function (zrX, zrY) {\n    var styleCoord = this._styleCoord;\n    makeStyleCoord(styleCoord, this._zr, this._appendToBody, zrX, zrY);\n    var style = this.el.style;\n    style.left = styleCoord[0] + 'px';\n    style.top = styleCoord[1] + 'px';\n  },\n  hide: function () {\n    this.el.style.display = 'none';\n    this._show = false;\n  },\n  hideLater: function (time) {\n    if (this._show && !(this._inContent && this._enterable)) {\n      if (time) {\n        this._hideDelay = time; // Set show false to avoid invoke hideLater mutiple times\n\n        this._show = false;\n        this._hideTimeout = setTimeout(zrUtil.bind(this.hide, this), time);\n      } else {\n        this.hide();\n      }\n    }\n  },\n  isShow: function () {\n    return this._show;\n  },\n  dispose: function () {\n    this.el.parentNode.removeChild(this.el);\n  },\n  getOuterSize: function () {\n    var width = this.el.clientWidth;\n    var height = this.el.clientHeight; // Consider browser compatibility.\n    // IE8 does not support getComputedStyle.\n\n    if (document.defaultView && document.defaultView.getComputedStyle) {\n      var stl = document.defaultView.getComputedStyle(this.el);\n\n      if (stl) {\n        width += parseInt(stl.borderLeftWidth, 10) + parseInt(stl.borderRightWidth, 10);\n        height += parseInt(stl.borderTopWidth, 10) + parseInt(stl.borderBottomWidth, 10);\n      }\n    }\n\n    return {\n      width: width,\n      height: height\n    };\n  }\n};\nvar _default = TooltipContent;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar modelUtil = require(\"../../util/model\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @param {Object} finder contains {seriesIndex, dataIndex, dataIndexInside}\n * @param {module:echarts/model/Global} ecModel\n * @return {Object} {point: [x, y], el: ...} point Will not be null.\n */\nfunction _default(finder, ecModel) {\n  var point = [];\n  var seriesIndex = finder.seriesIndex;\n  var seriesModel;\n\n  if (seriesIndex == null || !(seriesModel = ecModel.getSeriesByIndex(seriesIndex))) {\n    return {\n      point: []\n    };\n  }\n\n  var data = seriesModel.getData();\n  var dataIndex = modelUtil.queryDataIndex(data, finder);\n\n  if (dataIndex == null || dataIndex < 0 || zrUtil.isArray(dataIndex)) {\n    return {\n      point: []\n    };\n  }\n\n  var el = data.getItemGraphicEl(dataIndex);\n  var coordSys = seriesModel.coordinateSystem;\n\n  if (seriesModel.getTooltipPosition) {\n    point = seriesModel.getTooltipPosition(dataIndex) || [];\n  } else if (coordSys && coordSys.dataToPoint) {\n    point = coordSys.dataToPoint(data.getValues(zrUtil.map(coordSys.dimensions, function (dim) {\n      return data.mapDimension(dim);\n    }), dataIndex, true)) || [];\n  } else if (el) {\n    // Use graphic bounding rect\n    var rect = el.getBoundingRect().clone();\n    rect.applyTransform(el.transform);\n    point = [rect.x + rect.width / 2, rect.y + rect.height / 2];\n  }\n\n  return {\n    point: point,\n    el: el\n  };\n}\n\nmodule.exports = _default;","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Statistics.vue?vue&type=style&index=0&id=0da4ad32&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Statistics.vue?vue&type=style&index=0&id=0da4ad32&scoped=true&lang=css&\"","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar env = require(\"zrender/lib/core/env\");\n\nvar _model = require(\"../../util/model\");\n\nvar makeInner = _model.makeInner;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar inner = makeInner();\nvar each = zrUtil.each;\n/**\n * @param {string} key\n * @param {module:echarts/ExtensionAPI} api\n * @param {Function} handler\n *      param: {string} currTrigger\n *      param: {Array.<number>} point\n */\n\nfunction register(key, api, handler) {\n  if (env.node) {\n    return;\n  }\n\n  var zr = api.getZr();\n  inner(zr).records || (inner(zr).records = {});\n  initGlobalListeners(zr, api);\n  var record = inner(zr).records[key] || (inner(zr).records[key] = {});\n  record.handler = handler;\n}\n\nfunction initGlobalListeners(zr, api) {\n  if (inner(zr).initialized) {\n    return;\n  }\n\n  inner(zr).initialized = true;\n  useHandler('click', zrUtil.curry(doEnter, 'click'));\n  useHandler('mousemove', zrUtil.curry(doEnter, 'mousemove')); // useHandler('mouseout', onLeave);\n\n  useHandler('globalout', onLeave);\n\n  function useHandler(eventType, cb) {\n    zr.on(eventType, function (e) {\n      var dis = makeDispatchAction(api);\n      each(inner(zr).records, function (record) {\n        record && cb(record, e, dis.dispatchAction);\n      });\n      dispatchTooltipFinally(dis.pendings, api);\n    });\n  }\n}\n\nfunction dispatchTooltipFinally(pendings, api) {\n  var showLen = pendings.showTip.length;\n  var hideLen = pendings.hideTip.length;\n  var actuallyPayload;\n\n  if (showLen) {\n    actuallyPayload = pendings.showTip[showLen - 1];\n  } else if (hideLen) {\n    actuallyPayload = pendings.hideTip[hideLen - 1];\n  }\n\n  if (actuallyPayload) {\n    actuallyPayload.dispatchAction = null;\n    api.dispatchAction(actuallyPayload);\n  }\n}\n\nfunction onLeave(record, e, dispatchAction) {\n  record.handler('leave', null, dispatchAction);\n}\n\nfunction doEnter(currTrigger, record, e, dispatchAction) {\n  record.handler(currTrigger, e, dispatchAction);\n}\n\nfunction makeDispatchAction(api) {\n  var pendings = {\n    showTip: [],\n    hideTip: []\n  }; // FIXME\n  // better approach?\n  // 'showTip' and 'hideTip' can be triggered by axisPointer and tooltip,\n  // which may be conflict, (axisPointer call showTip but tooltip call hideTip);\n  // So we have to add \"final stage\" to merge those dispatched actions.\n\n  var dispatchAction = function (payload) {\n    var pendingList = pendings[payload.type];\n\n    if (pendingList) {\n      pendingList.push(payload);\n    } else {\n      payload.dispatchAction = dispatchAction;\n      api.dispatchAction(payload);\n    }\n  };\n\n  return {\n    dispatchAction: dispatchAction,\n    pendings: pendings\n  };\n}\n/**\n * @param {string} key\n * @param {module:echarts/ExtensionAPI} api\n */\n\n\nfunction unregister(key, api) {\n  if (env.node) {\n    return;\n  }\n\n  var zr = api.getZr();\n  var record = (inner(zr).records || {})[key];\n\n  if (record) {\n    inner(zr).records[key] = null;\n  }\n}\n\nexports.register = register;\nexports.unregister = unregister;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar ChartView = require(\"../../view/Chart\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @param {module:echarts/model/Series} seriesModel\n * @param {boolean} hasAnimation\n * @inner\n */\nfunction updateDataSelected(uid, seriesModel, hasAnimation, api) {\n  var data = seriesModel.getData();\n  var dataIndex = this.dataIndex;\n  var name = data.getName(dataIndex);\n  var selectedOffset = seriesModel.get('selectedOffset');\n  api.dispatchAction({\n    type: 'pieToggleSelect',\n    from: uid,\n    name: name,\n    seriesId: seriesModel.id\n  });\n  data.each(function (idx) {\n    toggleItemSelected(data.getItemGraphicEl(idx), data.getItemLayout(idx), seriesModel.isSelected(data.getName(idx)), selectedOffset, hasAnimation);\n  });\n}\n/**\n * @param {module:zrender/graphic/Sector} el\n * @param {Object} layout\n * @param {boolean} isSelected\n * @param {number} selectedOffset\n * @param {boolean} hasAnimation\n * @inner\n */\n\n\nfunction toggleItemSelected(el, layout, isSelected, selectedOffset, hasAnimation) {\n  var midAngle = (layout.startAngle + layout.endAngle) / 2;\n  var dx = Math.cos(midAngle);\n  var dy = Math.sin(midAngle);\n  var offset = isSelected ? selectedOffset : 0;\n  var position = [dx * offset, dy * offset];\n  hasAnimation // animateTo will stop revious animation like update transition\n  ? el.animate().when(200, {\n    position: position\n  }).start('bounceOut') : el.attr('position', position);\n}\n/**\n * Piece of pie including Sector, Label, LabelLine\n * @constructor\n * @extends {module:zrender/graphic/Group}\n */\n\n\nfunction PiePiece(data, idx) {\n  graphic.Group.call(this);\n  var sector = new graphic.Sector({\n    z2: 2\n  });\n  var polyline = new graphic.Polyline();\n  var text = new graphic.Text();\n  this.add(sector);\n  this.add(polyline);\n  this.add(text);\n  this.updateData(data, idx, true);\n}\n\nvar piePieceProto = PiePiece.prototype;\n\npiePieceProto.updateData = function (data, idx, firstCreate) {\n  var sector = this.childAt(0);\n  var labelLine = this.childAt(1);\n  var labelText = this.childAt(2);\n  var seriesModel = data.hostModel;\n  var itemModel = data.getItemModel(idx);\n  var layout = data.getItemLayout(idx);\n  var sectorShape = zrUtil.extend({}, layout);\n  sectorShape.label = null;\n  var animationTypeUpdate = seriesModel.getShallow('animationTypeUpdate');\n\n  if (firstCreate) {\n    sector.setShape(sectorShape);\n    var animationType = seriesModel.getShallow('animationType');\n\n    if (animationType === 'scale') {\n      sector.shape.r = layout.r0;\n      graphic.initProps(sector, {\n        shape: {\n          r: layout.r\n        }\n      }, seriesModel, idx);\n    } // Expansion\n    else {\n        sector.shape.endAngle = layout.startAngle;\n        graphic.updateProps(sector, {\n          shape: {\n            endAngle: layout.endAngle\n          }\n        }, seriesModel, idx);\n      }\n  } else {\n    if (animationTypeUpdate === 'expansion') {\n      // Sectors are set to be target shape and an overlaying clipPath is used for animation\n      sector.setShape(sectorShape);\n    } else {\n      // Transition animation from the old shape\n      graphic.updateProps(sector, {\n        shape: sectorShape\n      }, seriesModel, idx);\n    }\n  } // Update common style\n\n\n  var visualColor = data.getItemVisual(idx, 'color');\n  sector.useStyle(zrUtil.defaults({\n    lineJoin: 'bevel',\n    fill: visualColor\n  }, itemModel.getModel('itemStyle').getItemStyle()));\n  sector.hoverStyle = itemModel.getModel('emphasis.itemStyle').getItemStyle();\n  var cursorStyle = itemModel.getShallow('cursor');\n  cursorStyle && sector.attr('cursor', cursorStyle); // Toggle selected\n\n  toggleItemSelected(this, data.getItemLayout(idx), seriesModel.isSelected(data.getName(idx)), seriesModel.get('selectedOffset'), seriesModel.get('animation')); // Label and text animation should be applied only for transition type animation when update\n\n  var withAnimation = !firstCreate && animationTypeUpdate === 'transition';\n\n  this._updateLabel(data, idx, withAnimation);\n\n  this.highDownOnUpdate = itemModel.get('hoverAnimation') && seriesModel.isAnimationEnabled() ? function (fromState, toState) {\n    if (toState === 'emphasis') {\n      labelLine.ignore = labelLine.hoverIgnore;\n      labelText.ignore = labelText.hoverIgnore; // Sector may has animation of updating data. Force to move to the last frame\n      // Or it may stopped on the wrong shape\n\n      sector.stopAnimation(true);\n      sector.animateTo({\n        shape: {\n          r: layout.r + seriesModel.get('hoverOffset')\n        }\n      }, 300, 'elasticOut');\n    } else {\n      labelLine.ignore = labelLine.normalIgnore;\n      labelText.ignore = labelText.normalIgnore;\n      sector.stopAnimation(true);\n      sector.animateTo({\n        shape: {\n          r: layout.r\n        }\n      }, 300, 'elasticOut');\n    }\n  } : null;\n  graphic.setHoverStyle(this);\n};\n\npiePieceProto._updateLabel = function (data, idx, withAnimation) {\n  var labelLine = this.childAt(1);\n  var labelText = this.childAt(2);\n  var seriesModel = data.hostModel;\n  var itemModel = data.getItemModel(idx);\n  var layout = data.getItemLayout(idx);\n  var labelLayout = layout.label;\n  var visualColor = data.getItemVisual(idx, 'color');\n\n  if (!labelLayout || isNaN(labelLayout.x) || isNaN(labelLayout.y)) {\n    labelText.ignore = labelText.normalIgnore = labelText.hoverIgnore = labelLine.ignore = labelLine.normalIgnore = labelLine.hoverIgnore = true;\n    return;\n  }\n\n  var targetLineShape = {\n    points: labelLayout.linePoints || [[labelLayout.x, labelLayout.y], [labelLayout.x, labelLayout.y], [labelLayout.x, labelLayout.y]]\n  };\n  var targetTextStyle = {\n    x: labelLayout.x,\n    y: labelLayout.y\n  };\n\n  if (withAnimation) {\n    graphic.updateProps(labelLine, {\n      shape: targetLineShape\n    }, seriesModel, idx);\n    graphic.updateProps(labelText, {\n      style: targetTextStyle\n    }, seriesModel, idx);\n  } else {\n    labelLine.attr({\n      shape: targetLineShape\n    });\n    labelText.attr({\n      style: targetTextStyle\n    });\n  }\n\n  labelText.attr({\n    rotation: labelLayout.rotation,\n    origin: [labelLayout.x, labelLayout.y],\n    z2: 10\n  });\n  var labelModel = itemModel.getModel('label');\n  var labelHoverModel = itemModel.getModel('emphasis.label');\n  var labelLineModel = itemModel.getModel('labelLine');\n  var labelLineHoverModel = itemModel.getModel('emphasis.labelLine');\n  var visualColor = data.getItemVisual(idx, 'color');\n  graphic.setLabelStyle(labelText.style, labelText.hoverStyle = {}, labelModel, labelHoverModel, {\n    labelFetcher: data.hostModel,\n    labelDataIndex: idx,\n    defaultText: labelLayout.text,\n    autoColor: visualColor,\n    useInsideStyle: !!labelLayout.inside\n  }, {\n    textAlign: labelLayout.textAlign,\n    textVerticalAlign: labelLayout.verticalAlign,\n    opacity: data.getItemVisual(idx, 'opacity')\n  });\n  labelText.ignore = labelText.normalIgnore = !labelModel.get('show');\n  labelText.hoverIgnore = !labelHoverModel.get('show');\n  labelLine.ignore = labelLine.normalIgnore = !labelLineModel.get('show');\n  labelLine.hoverIgnore = !labelLineHoverModel.get('show'); // Default use item visual color\n\n  labelLine.setStyle({\n    stroke: visualColor,\n    opacity: data.getItemVisual(idx, 'opacity')\n  });\n  labelLine.setStyle(labelLineModel.getModel('lineStyle').getLineStyle());\n  labelLine.hoverStyle = labelLineHoverModel.getModel('lineStyle').getLineStyle();\n  var smooth = labelLineModel.get('smooth');\n\n  if (smooth && smooth === true) {\n    smooth = 0.4;\n  }\n\n  labelLine.setShape({\n    smooth: smooth\n  });\n};\n\nzrUtil.inherits(PiePiece, graphic.Group); // Pie view\n\nvar PieView = ChartView.extend({\n  type: 'pie',\n  init: function () {\n    var sectorGroup = new graphic.Group();\n    this._sectorGroup = sectorGroup;\n  },\n  render: function (seriesModel, ecModel, api, payload) {\n    if (payload && payload.from === this.uid) {\n      return;\n    }\n\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var group = this.group;\n    var hasAnimation = ecModel.get('animation');\n    var isFirstRender = !oldData;\n    var animationType = seriesModel.get('animationType');\n    var animationTypeUpdate = seriesModel.get('animationTypeUpdate');\n    var onSectorClick = zrUtil.curry(updateDataSelected, this.uid, seriesModel, hasAnimation, api);\n    var selectedMode = seriesModel.get('selectedMode');\n    data.diff(oldData).add(function (idx) {\n      var piePiece = new PiePiece(data, idx); // Default expansion animation\n\n      if (isFirstRender && animationType !== 'scale') {\n        piePiece.eachChild(function (child) {\n          child.stopAnimation(true);\n        });\n      }\n\n      selectedMode && piePiece.on('click', onSectorClick);\n      data.setItemGraphicEl(idx, piePiece);\n      group.add(piePiece);\n    }).update(function (newIdx, oldIdx) {\n      var piePiece = oldData.getItemGraphicEl(oldIdx);\n\n      if (!isFirstRender && animationTypeUpdate !== 'transition') {\n        piePiece.eachChild(function (child) {\n          child.stopAnimation(true);\n        });\n      }\n\n      piePiece.updateData(data, newIdx);\n      piePiece.off('click');\n      selectedMode && piePiece.on('click', onSectorClick);\n      group.add(piePiece);\n      data.setItemGraphicEl(newIdx, piePiece);\n    }).remove(function (idx) {\n      var piePiece = oldData.getItemGraphicEl(idx);\n      group.remove(piePiece);\n    }).execute();\n\n    if (hasAnimation && data.count() > 0 && (isFirstRender ? animationType !== 'scale' : animationTypeUpdate !== 'transition')) {\n      var shape = data.getItemLayout(0);\n\n      for (var s = 1; isNaN(shape.startAngle) && s < data.count(); ++s) {\n        shape = data.getItemLayout(s);\n      }\n\n      var r = Math.max(api.getWidth(), api.getHeight()) / 2;\n      var removeClipPath = zrUtil.bind(group.removeClipPath, group);\n      group.setClipPath(this._createClipPath(shape.cx, shape.cy, r, shape.startAngle, shape.clockwise, removeClipPath, seriesModel, isFirstRender));\n    } else {\n      // clipPath is used in first-time animation, so remove it when otherwise. See: #8994\n      group.removeClipPath();\n    }\n\n    this._data = data;\n  },\n  dispose: function () {},\n  _createClipPath: function (cx, cy, r, startAngle, clockwise, cb, seriesModel, isFirstRender) {\n    var clipPath = new graphic.Sector({\n      shape: {\n        cx: cx,\n        cy: cy,\n        r0: 0,\n        r: r,\n        startAngle: startAngle,\n        endAngle: startAngle,\n        clockwise: clockwise\n      }\n    });\n    var initOrUpdate = isFirstRender ? graphic.initProps : graphic.updateProps;\n    initOrUpdate(clipPath, {\n      shape: {\n        endAngle: startAngle + (clockwise ? 1 : -1) * Math.PI * 2\n      }\n    }, seriesModel, cb);\n    return clipPath;\n  },\n\n  /**\n   * @implement\n   */\n  containPoint: function (point, seriesModel) {\n    var data = seriesModel.getData();\n    var itemLayout = data.getItemLayout(0);\n\n    if (itemLayout) {\n      var dx = point[0] - itemLayout.cx;\n      var dy = point[1] - itemLayout.cy;\n      var radius = Math.sqrt(dx * dx + dy * dy);\n      return radius <= itemLayout.r && radius >= itemLayout.r0;\n    }\n  }\n});\nvar _default = PieView;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _number = require(\"../../util/number\");\n\nvar parsePercent = _number.parsePercent;\nvar linearMap = _number.linearMap;\n\nvar layout = require(\"../../util/layout\");\n\nvar labelLayout = require(\"./labelLayout\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar PI2 = Math.PI * 2;\nvar RADIAN = Math.PI / 180;\n\nfunction getViewRect(seriesModel, api) {\n  return layout.getLayoutRect(seriesModel.getBoxLayoutParams(), {\n    width: api.getWidth(),\n    height: api.getHeight()\n  });\n}\n\nfunction _default(seriesType, ecModel, api, payload) {\n  ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n    var data = seriesModel.getData();\n    var valueDim = data.mapDimension('value');\n    var viewRect = getViewRect(seriesModel, api);\n    var center = seriesModel.get('center');\n    var radius = seriesModel.get('radius');\n\n    if (!zrUtil.isArray(radius)) {\n      radius = [0, radius];\n    }\n\n    if (!zrUtil.isArray(center)) {\n      center = [center, center];\n    }\n\n    var width = parsePercent(viewRect.width, api.getWidth());\n    var height = parsePercent(viewRect.height, api.getHeight());\n    var size = Math.min(width, height);\n    var cx = parsePercent(center[0], width) + viewRect.x;\n    var cy = parsePercent(center[1], height) + viewRect.y;\n    var r0 = parsePercent(radius[0], size / 2);\n    var r = parsePercent(radius[1], size / 2);\n    var startAngle = -seriesModel.get('startAngle') * RADIAN;\n    var minAngle = seriesModel.get('minAngle') * RADIAN;\n    var validDataCount = 0;\n    data.each(valueDim, function (value) {\n      !isNaN(value) && validDataCount++;\n    });\n    var sum = data.getSum(valueDim); // Sum may be 0\n\n    var unitRadian = Math.PI / (sum || validDataCount) * 2;\n    var clockwise = seriesModel.get('clockwise');\n    var roseType = seriesModel.get('roseType');\n    var stillShowZeroSum = seriesModel.get('stillShowZeroSum'); // [0...max]\n\n    var extent = data.getDataExtent(valueDim);\n    extent[0] = 0; // In the case some sector angle is smaller than minAngle\n\n    var restAngle = PI2;\n    var valueSumLargerThanMinAngle = 0;\n    var currentAngle = startAngle;\n    var dir = clockwise ? 1 : -1;\n    data.each(valueDim, function (value, idx) {\n      var angle;\n\n      if (isNaN(value)) {\n        data.setItemLayout(idx, {\n          angle: NaN,\n          startAngle: NaN,\n          endAngle: NaN,\n          clockwise: clockwise,\n          cx: cx,\n          cy: cy,\n          r0: r0,\n          r: roseType ? NaN : r,\n          viewRect: viewRect\n        });\n        return;\n      } // FIXME 兼容 2.0 但是 roseType 是 area 的时候才是这样？\n\n\n      if (roseType !== 'area') {\n        angle = sum === 0 && stillShowZeroSum ? unitRadian : value * unitRadian;\n      } else {\n        angle = PI2 / validDataCount;\n      }\n\n      if (angle < minAngle) {\n        angle = minAngle;\n        restAngle -= minAngle;\n      } else {\n        valueSumLargerThanMinAngle += value;\n      }\n\n      var endAngle = currentAngle + dir * angle;\n      data.setItemLayout(idx, {\n        angle: angle,\n        startAngle: currentAngle,\n        endAngle: endAngle,\n        clockwise: clockwise,\n        cx: cx,\n        cy: cy,\n        r0: r0,\n        r: roseType ? linearMap(value, extent, [r0, r]) : r,\n        viewRect: viewRect\n      });\n      currentAngle = endAngle;\n    }); // Some sector is constrained by minAngle\n    // Rest sectors needs recalculate angle\n\n    if (restAngle < PI2 && validDataCount) {\n      // Average the angle if rest angle is not enough after all angles is\n      // Constrained by minAngle\n      if (restAngle <= 1e-3) {\n        var angle = PI2 / validDataCount;\n        data.each(valueDim, function (value, idx) {\n          if (!isNaN(value)) {\n            var layout = data.getItemLayout(idx);\n            layout.angle = angle;\n            layout.startAngle = startAngle + dir * idx * angle;\n            layout.endAngle = startAngle + dir * (idx + 1) * angle;\n          }\n        });\n      } else {\n        unitRadian = restAngle / valueSumLargerThanMinAngle;\n        currentAngle = startAngle;\n        data.each(valueDim, function (value, idx) {\n          if (!isNaN(value)) {\n            var layout = data.getItemLayout(idx);\n            var angle = layout.angle === minAngle ? minAngle : value * unitRadian;\n            layout.startAngle = currentAngle;\n            layout.endAngle = currentAngle + dir * angle;\n            currentAngle += dir * angle;\n          }\n        });\n      }\n    }\n\n    labelLayout(seriesModel, r, viewRect.width, viewRect.height, viewRect.x, viewRect.y);\n  });\n}\n\nmodule.exports = _default;","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Echart_Doughnut.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Echart_Doughnut.vue?vue&type=style&index=0&lang=css&\"","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar env = require(\"zrender/lib/core/env\");\n\nvar TooltipContent = require(\"./TooltipContent\");\n\nvar TooltipRichContent = require(\"./TooltipRichContent\");\n\nvar formatUtil = require(\"../../util/format\");\n\nvar numberUtil = require(\"../../util/number\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar findPointFromSeries = require(\"../axisPointer/findPointFromSeries\");\n\nvar layoutUtil = require(\"../../util/layout\");\n\nvar Model = require(\"../../model/Model\");\n\nvar globalListener = require(\"../axisPointer/globalListener\");\n\nvar axisHelper = require(\"../../coord/axisHelper\");\n\nvar axisPointerViewHelper = require(\"../axisPointer/viewHelper\");\n\nvar _model = require(\"../../util/model\");\n\nvar getTooltipRenderMode = _model.getTooltipRenderMode;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar bind = zrUtil.bind;\nvar each = zrUtil.each;\nvar parsePercent = numberUtil.parsePercent;\nvar proxyRect = new graphic.Rect({\n  shape: {\n    x: -1,\n    y: -1,\n    width: 2,\n    height: 2\n  }\n});\n\nvar _default = echarts.extendComponentView({\n  type: 'tooltip',\n  init: function (ecModel, api) {\n    if (env.node) {\n      return;\n    }\n\n    var tooltipModel = ecModel.getComponent('tooltip');\n    var renderMode = tooltipModel.get('renderMode');\n    this._renderMode = getTooltipRenderMode(renderMode);\n    var tooltipContent;\n\n    if (this._renderMode === 'html') {\n      tooltipContent = new TooltipContent(api.getDom(), api, {\n        appendToBody: tooltipModel.get('appendToBody', true)\n      });\n      this._newLine = '<br/>';\n    } else {\n      tooltipContent = new TooltipRichContent(api);\n      this._newLine = '\\n';\n    }\n\n    this._tooltipContent = tooltipContent;\n  },\n  render: function (tooltipModel, ecModel, api) {\n    if (env.node) {\n      return;\n    } // Reset\n\n\n    this.group.removeAll();\n    /**\n     * @private\n     * @type {module:echarts/component/tooltip/TooltipModel}\n     */\n\n    this._tooltipModel = tooltipModel;\n    /**\n     * @private\n     * @type {module:echarts/model/Global}\n     */\n\n    this._ecModel = ecModel;\n    /**\n     * @private\n     * @type {module:echarts/ExtensionAPI}\n     */\n\n    this._api = api;\n    /**\n     * Should be cleaned when render.\n     * @private\n     * @type {Array.<Array.<Object>>}\n     */\n\n    this._lastDataByCoordSys = null;\n    /**\n     * @private\n     * @type {boolean}\n     */\n\n    this._alwaysShowContent = tooltipModel.get('alwaysShowContent');\n    var tooltipContent = this._tooltipContent;\n    tooltipContent.update();\n    tooltipContent.setEnterable(tooltipModel.get('enterable'));\n\n    this._initGlobalListener();\n\n    this._keepShow();\n  },\n  _initGlobalListener: function () {\n    var tooltipModel = this._tooltipModel;\n    var triggerOn = tooltipModel.get('triggerOn');\n    globalListener.register('itemTooltip', this._api, bind(function (currTrigger, e, dispatchAction) {\n      // If 'none', it is not controlled by mouse totally.\n      if (triggerOn !== 'none') {\n        if (triggerOn.indexOf(currTrigger) >= 0) {\n          this._tryShow(e, dispatchAction);\n        } else if (currTrigger === 'leave') {\n          this._hide(dispatchAction);\n        }\n      }\n    }, this));\n  },\n  _keepShow: function () {\n    var tooltipModel = this._tooltipModel;\n    var ecModel = this._ecModel;\n    var api = this._api; // Try to keep the tooltip show when refreshing\n\n    if (this._lastX != null && this._lastY != null // When user is willing to control tooltip totally using API,\n    // self.manuallyShowTip({x, y}) might cause tooltip hide,\n    // which is not expected.\n    && tooltipModel.get('triggerOn') !== 'none') {\n      var self = this;\n      clearTimeout(this._refreshUpdateTimeout);\n      this._refreshUpdateTimeout = setTimeout(function () {\n        // Show tip next tick after other charts are rendered\n        // In case highlight action has wrong result\n        // FIXME\n        !api.isDisposed() && self.manuallyShowTip(tooltipModel, ecModel, api, {\n          x: self._lastX,\n          y: self._lastY\n        });\n      });\n    }\n  },\n\n  /**\n   * Show tip manually by\n   * dispatchAction({\n   *     type: 'showTip',\n   *     x: 10,\n   *     y: 10\n   * });\n   * Or\n   * dispatchAction({\n   *      type: 'showTip',\n   *      seriesIndex: 0,\n   *      dataIndex or dataIndexInside or name\n   * });\n   *\n   *  TODO Batch\n   */\n  manuallyShowTip: function (tooltipModel, ecModel, api, payload) {\n    if (payload.from === this.uid || env.node) {\n      return;\n    }\n\n    var dispatchAction = makeDispatchAction(payload, api); // Reset ticket\n\n    this._ticket = ''; // When triggered from axisPointer.\n\n    var dataByCoordSys = payload.dataByCoordSys;\n\n    if (payload.tooltip && payload.x != null && payload.y != null) {\n      var el = proxyRect;\n      el.position = [payload.x, payload.y];\n      el.update();\n      el.tooltip = payload.tooltip; // Manually show tooltip while view is not using zrender elements.\n\n      this._tryShow({\n        offsetX: payload.x,\n        offsetY: payload.y,\n        target: el\n      }, dispatchAction);\n    } else if (dataByCoordSys) {\n      this._tryShow({\n        offsetX: payload.x,\n        offsetY: payload.y,\n        position: payload.position,\n        dataByCoordSys: payload.dataByCoordSys,\n        tooltipOption: payload.tooltipOption\n      }, dispatchAction);\n    } else if (payload.seriesIndex != null) {\n      if (this._manuallyAxisShowTip(tooltipModel, ecModel, api, payload)) {\n        return;\n      }\n\n      var pointInfo = findPointFromSeries(payload, ecModel);\n      var cx = pointInfo.point[0];\n      var cy = pointInfo.point[1];\n\n      if (cx != null && cy != null) {\n        this._tryShow({\n          offsetX: cx,\n          offsetY: cy,\n          position: payload.position,\n          target: pointInfo.el\n        }, dispatchAction);\n      }\n    } else if (payload.x != null && payload.y != null) {\n      // FIXME\n      // should wrap dispatchAction like `axisPointer/globalListener` ?\n      api.dispatchAction({\n        type: 'updateAxisPointer',\n        x: payload.x,\n        y: payload.y\n      });\n\n      this._tryShow({\n        offsetX: payload.x,\n        offsetY: payload.y,\n        position: payload.position,\n        target: api.getZr().findHover(payload.x, payload.y).target\n      }, dispatchAction);\n    }\n  },\n  manuallyHideTip: function (tooltipModel, ecModel, api, payload) {\n    var tooltipContent = this._tooltipContent;\n\n    if (!this._alwaysShowContent && this._tooltipModel) {\n      tooltipContent.hideLater(this._tooltipModel.get('hideDelay'));\n    }\n\n    this._lastX = this._lastY = null;\n\n    if (payload.from !== this.uid) {\n      this._hide(makeDispatchAction(payload, api));\n    }\n  },\n  // Be compatible with previous design, that is, when tooltip.type is 'axis' and\n  // dispatchAction 'showTip' with seriesIndex and dataIndex will trigger axis pointer\n  // and tooltip.\n  _manuallyAxisShowTip: function (tooltipModel, ecModel, api, payload) {\n    var seriesIndex = payload.seriesIndex;\n    var dataIndex = payload.dataIndex;\n    var coordSysAxesInfo = ecModel.getComponent('axisPointer').coordSysAxesInfo;\n\n    if (seriesIndex == null || dataIndex == null || coordSysAxesInfo == null) {\n      return;\n    }\n\n    var seriesModel = ecModel.getSeriesByIndex(seriesIndex);\n\n    if (!seriesModel) {\n      return;\n    }\n\n    var data = seriesModel.getData();\n    var tooltipModel = buildTooltipModel([data.getItemModel(dataIndex), seriesModel, (seriesModel.coordinateSystem || {}).model, tooltipModel]);\n\n    if (tooltipModel.get('trigger') !== 'axis') {\n      return;\n    }\n\n    api.dispatchAction({\n      type: 'updateAxisPointer',\n      seriesIndex: seriesIndex,\n      dataIndex: dataIndex,\n      position: payload.position\n    });\n    return true;\n  },\n  _tryShow: function (e, dispatchAction) {\n    var el = e.target;\n    var tooltipModel = this._tooltipModel;\n\n    if (!tooltipModel) {\n      return;\n    } // Save mouse x, mouse y. So we can try to keep showing the tip if chart is refreshed\n\n\n    this._lastX = e.offsetX;\n    this._lastY = e.offsetY;\n    var dataByCoordSys = e.dataByCoordSys;\n\n    if (dataByCoordSys && dataByCoordSys.length) {\n      this._showAxisTooltip(dataByCoordSys, e);\n    } // Always show item tooltip if mouse is on the element with dataIndex\n    else if (el && el.dataIndex != null) {\n        this._lastDataByCoordSys = null;\n\n        this._showSeriesItemTooltip(e, el, dispatchAction);\n      } // Tooltip provided directly. Like legend.\n      else if (el && el.tooltip) {\n          this._lastDataByCoordSys = null;\n\n          this._showComponentItemTooltip(e, el, dispatchAction);\n        } else {\n          this._lastDataByCoordSys = null;\n\n          this._hide(dispatchAction);\n        }\n  },\n  _showOrMove: function (tooltipModel, cb) {\n    // showDelay is used in this case: tooltip.enterable is set\n    // as true. User intent to move mouse into tooltip and click\n    // something. `showDelay` makes it easyer to enter the content\n    // but tooltip do not move immediately.\n    var delay = tooltipModel.get('showDelay');\n    cb = zrUtil.bind(cb, this);\n    clearTimeout(this._showTimout);\n    delay > 0 ? this._showTimout = setTimeout(cb, delay) : cb();\n  },\n  _showAxisTooltip: function (dataByCoordSys, e) {\n    var ecModel = this._ecModel;\n    var globalTooltipModel = this._tooltipModel;\n    var point = [e.offsetX, e.offsetY];\n    var singleDefaultHTML = [];\n    var singleParamsList = [];\n    var singleTooltipModel = buildTooltipModel([e.tooltipOption, globalTooltipModel]);\n    var renderMode = this._renderMode;\n    var newLine = this._newLine;\n    var markers = {};\n    each(dataByCoordSys, function (itemCoordSys) {\n      // var coordParamList = [];\n      // var coordDefaultHTML = [];\n      // var coordTooltipModel = buildTooltipModel([\n      //     e.tooltipOption,\n      //     itemCoordSys.tooltipOption,\n      //     ecModel.getComponent(itemCoordSys.coordSysMainType, itemCoordSys.coordSysIndex),\n      //     globalTooltipModel\n      // ]);\n      // var displayMode = coordTooltipModel.get('displayMode');\n      // var paramsList = displayMode === 'single' ? singleParamsList : [];\n      each(itemCoordSys.dataByAxis, function (item) {\n        var axisModel = ecModel.getComponent(item.axisDim + 'Axis', item.axisIndex);\n        var axisValue = item.value;\n        var seriesDefaultHTML = [];\n\n        if (!axisModel || axisValue == null) {\n          return;\n        }\n\n        var valueLabel = axisPointerViewHelper.getValueLabel(axisValue, axisModel.axis, ecModel, item.seriesDataIndices, item.valueLabelOpt);\n        zrUtil.each(item.seriesDataIndices, function (idxItem) {\n          var series = ecModel.getSeriesByIndex(idxItem.seriesIndex);\n          var dataIndex = idxItem.dataIndexInside;\n          var dataParams = series && series.getDataParams(dataIndex);\n          dataParams.axisDim = item.axisDim;\n          dataParams.axisIndex = item.axisIndex;\n          dataParams.axisType = item.axisType;\n          dataParams.axisId = item.axisId;\n          dataParams.axisValue = axisHelper.getAxisRawValue(axisModel.axis, axisValue);\n          dataParams.axisValueLabel = valueLabel;\n\n          if (dataParams) {\n            singleParamsList.push(dataParams);\n            var seriesTooltip = series.formatTooltip(dataIndex, true, null, renderMode);\n            var html;\n\n            if (zrUtil.isObject(seriesTooltip)) {\n              html = seriesTooltip.html;\n              var newMarkers = seriesTooltip.markers;\n              zrUtil.merge(markers, newMarkers);\n            } else {\n              html = seriesTooltip;\n            }\n\n            seriesDefaultHTML.push(html);\n          }\n        }); // Default tooltip content\n        // FIXME\n        // (1) shold be the first data which has name?\n        // (2) themeRiver, firstDataIndex is array, and first line is unnecessary.\n\n        var firstLine = valueLabel;\n\n        if (renderMode !== 'html') {\n          singleDefaultHTML.push(seriesDefaultHTML.join(newLine));\n        } else {\n          singleDefaultHTML.push((firstLine ? formatUtil.encodeHTML(firstLine) + newLine : '') + seriesDefaultHTML.join(newLine));\n        }\n      });\n    }, this); // In most case, the second axis is shown upper than the first one.\n\n    singleDefaultHTML.reverse();\n    singleDefaultHTML = singleDefaultHTML.join(this._newLine + this._newLine);\n    var positionExpr = e.position;\n\n    this._showOrMove(singleTooltipModel, function () {\n      if (this._updateContentNotChangedOnAxis(dataByCoordSys)) {\n        this._updatePosition(singleTooltipModel, positionExpr, point[0], point[1], this._tooltipContent, singleParamsList);\n      } else {\n        this._showTooltipContent(singleTooltipModel, singleDefaultHTML, singleParamsList, Math.random(), point[0], point[1], positionExpr, undefined, markers);\n      }\n    }); // Do not trigger events here, because this branch only be entered\n    // from dispatchAction.\n\n  },\n  _showSeriesItemTooltip: function (e, el, dispatchAction) {\n    var ecModel = this._ecModel; // Use dataModel in element if possible\n    // Used when mouseover on a element like markPoint or edge\n    // In which case, the data is not main data in series.\n\n    var seriesIndex = el.seriesIndex;\n    var seriesModel = ecModel.getSeriesByIndex(seriesIndex); // For example, graph link.\n\n    var dataModel = el.dataModel || seriesModel;\n    var dataIndex = el.dataIndex;\n    var dataType = el.dataType;\n    var data = dataModel.getData();\n    var tooltipModel = buildTooltipModel([data.getItemModel(dataIndex), dataModel, seriesModel && (seriesModel.coordinateSystem || {}).model, this._tooltipModel]);\n    var tooltipTrigger = tooltipModel.get('trigger');\n\n    if (tooltipTrigger != null && tooltipTrigger !== 'item') {\n      return;\n    }\n\n    var params = dataModel.getDataParams(dataIndex, dataType);\n    var seriesTooltip = dataModel.formatTooltip(dataIndex, false, dataType, this._renderMode);\n    var defaultHtml;\n    var markers;\n\n    if (zrUtil.isObject(seriesTooltip)) {\n      defaultHtml = seriesTooltip.html;\n      markers = seriesTooltip.markers;\n    } else {\n      defaultHtml = seriesTooltip;\n      markers = null;\n    }\n\n    var asyncTicket = 'item_' + dataModel.name + '_' + dataIndex;\n\n    this._showOrMove(tooltipModel, function () {\n      this._showTooltipContent(tooltipModel, defaultHtml, params, asyncTicket, e.offsetX, e.offsetY, e.position, e.target, markers);\n    }); // FIXME\n    // duplicated showtip if manuallyShowTip is called from dispatchAction.\n\n\n    dispatchAction({\n      type: 'showTip',\n      dataIndexInside: dataIndex,\n      dataIndex: data.getRawIndex(dataIndex),\n      seriesIndex: seriesIndex,\n      from: this.uid\n    });\n  },\n  _showComponentItemTooltip: function (e, el, dispatchAction) {\n    var tooltipOpt = el.tooltip;\n\n    if (typeof tooltipOpt === 'string') {\n      var content = tooltipOpt;\n      tooltipOpt = {\n        content: content,\n        // Fixed formatter\n        formatter: content\n      };\n    }\n\n    var subTooltipModel = new Model(tooltipOpt, this._tooltipModel, this._ecModel);\n    var defaultHtml = subTooltipModel.get('content');\n    var asyncTicket = Math.random(); // Do not check whether `trigger` is 'none' here, because `trigger`\n    // only works on cooridinate system. In fact, we have not found case\n    // that requires setting `trigger` nothing on component yet.\n\n    this._showOrMove(subTooltipModel, function () {\n      this._showTooltipContent(subTooltipModel, defaultHtml, subTooltipModel.get('formatterParams') || {}, asyncTicket, e.offsetX, e.offsetY, e.position, el);\n    }); // If not dispatch showTip, tip may be hide triggered by axis.\n\n\n    dispatchAction({\n      type: 'showTip',\n      from: this.uid\n    });\n  },\n  _showTooltipContent: function (tooltipModel, defaultHtml, params, asyncTicket, x, y, positionExpr, el, markers) {\n    // Reset ticket\n    this._ticket = '';\n\n    if (!tooltipModel.get('showContent') || !tooltipModel.get('show')) {\n      return;\n    }\n\n    var tooltipContent = this._tooltipContent;\n    var formatter = tooltipModel.get('formatter');\n    positionExpr = positionExpr || tooltipModel.get('position');\n    var html = defaultHtml;\n\n    if (formatter && typeof formatter === 'string') {\n      html = formatUtil.formatTpl(formatter, params, true);\n    } else if (typeof formatter === 'function') {\n      var callback = bind(function (cbTicket, html) {\n        if (cbTicket === this._ticket) {\n          tooltipContent.setContent(html, markers, tooltipModel);\n\n          this._updatePosition(tooltipModel, positionExpr, x, y, tooltipContent, params, el);\n        }\n      }, this);\n      this._ticket = asyncTicket;\n      html = formatter(params, asyncTicket, callback);\n    }\n\n    tooltipContent.setContent(html, markers, tooltipModel);\n    tooltipContent.show(tooltipModel);\n\n    this._updatePosition(tooltipModel, positionExpr, x, y, tooltipContent, params, el);\n  },\n\n  /**\n   * @param  {string|Function|Array.<number>|Object} positionExpr\n   * @param  {number} x Mouse x\n   * @param  {number} y Mouse y\n   * @param  {boolean} confine Whether confine tooltip content in view rect.\n   * @param  {Object|<Array.<Object>} params\n   * @param  {module:zrender/Element} el target element\n   * @param  {module:echarts/ExtensionAPI} api\n   * @return {Array.<number>}\n   */\n  _updatePosition: function (tooltipModel, positionExpr, x, y, content, params, el) {\n    var viewWidth = this._api.getWidth();\n\n    var viewHeight = this._api.getHeight();\n\n    positionExpr = positionExpr || tooltipModel.get('position');\n    var contentSize = content.getSize();\n    var align = tooltipModel.get('align');\n    var vAlign = tooltipModel.get('verticalAlign');\n    var rect = el && el.getBoundingRect().clone();\n    el && rect.applyTransform(el.transform);\n\n    if (typeof positionExpr === 'function') {\n      // Callback of position can be an array or a string specify the position\n      positionExpr = positionExpr([x, y], params, content.el, rect, {\n        viewSize: [viewWidth, viewHeight],\n        contentSize: contentSize.slice()\n      });\n    }\n\n    if (zrUtil.isArray(positionExpr)) {\n      x = parsePercent(positionExpr[0], viewWidth);\n      y = parsePercent(positionExpr[1], viewHeight);\n    } else if (zrUtil.isObject(positionExpr)) {\n      positionExpr.width = contentSize[0];\n      positionExpr.height = contentSize[1];\n      var layoutRect = layoutUtil.getLayoutRect(positionExpr, {\n        width: viewWidth,\n        height: viewHeight\n      });\n      x = layoutRect.x;\n      y = layoutRect.y;\n      align = null; // When positionExpr is left/top/right/bottom,\n      // align and verticalAlign will not work.\n\n      vAlign = null;\n    } // Specify tooltip position by string 'top' 'bottom' 'left' 'right' around graphic element\n    else if (typeof positionExpr === 'string' && el) {\n        var pos = calcTooltipPosition(positionExpr, rect, contentSize);\n        x = pos[0];\n        y = pos[1];\n      } else {\n        var pos = refixTooltipPosition(x, y, content, viewWidth, viewHeight, align ? null : 20, vAlign ? null : 20);\n        x = pos[0];\n        y = pos[1];\n      }\n\n    align && (x -= isCenterAlign(align) ? contentSize[0] / 2 : align === 'right' ? contentSize[0] : 0);\n    vAlign && (y -= isCenterAlign(vAlign) ? contentSize[1] / 2 : vAlign === 'bottom' ? contentSize[1] : 0);\n\n    if (tooltipModel.get('confine')) {\n      var pos = confineTooltipPosition(x, y, content, viewWidth, viewHeight);\n      x = pos[0];\n      y = pos[1];\n    }\n\n    content.moveTo(x, y);\n  },\n  // FIXME\n  // Should we remove this but leave this to user?\n  _updateContentNotChangedOnAxis: function (dataByCoordSys) {\n    var lastCoordSys = this._lastDataByCoordSys;\n    var contentNotChanged = !!lastCoordSys && lastCoordSys.length === dataByCoordSys.length;\n    contentNotChanged && each(lastCoordSys, function (lastItemCoordSys, indexCoordSys) {\n      var lastDataByAxis = lastItemCoordSys.dataByAxis || {};\n      var thisItemCoordSys = dataByCoordSys[indexCoordSys] || {};\n      var thisDataByAxis = thisItemCoordSys.dataByAxis || [];\n      contentNotChanged &= lastDataByAxis.length === thisDataByAxis.length;\n      contentNotChanged && each(lastDataByAxis, function (lastItem, indexAxis) {\n        var thisItem = thisDataByAxis[indexAxis] || {};\n        var lastIndices = lastItem.seriesDataIndices || [];\n        var newIndices = thisItem.seriesDataIndices || [];\n        contentNotChanged &= lastItem.value === thisItem.value && lastItem.axisType === thisItem.axisType && lastItem.axisId === thisItem.axisId && lastIndices.length === newIndices.length;\n        contentNotChanged && each(lastIndices, function (lastIdxItem, j) {\n          var newIdxItem = newIndices[j];\n          contentNotChanged &= lastIdxItem.seriesIndex === newIdxItem.seriesIndex && lastIdxItem.dataIndex === newIdxItem.dataIndex;\n        });\n      });\n    });\n    this._lastDataByCoordSys = dataByCoordSys;\n    return !!contentNotChanged;\n  },\n  _hide: function (dispatchAction) {\n    // Do not directly hideLater here, because this behavior may be prevented\n    // in dispatchAction when showTip is dispatched.\n    // FIXME\n    // duplicated hideTip if manuallyHideTip is called from dispatchAction.\n    this._lastDataByCoordSys = null;\n    dispatchAction({\n      type: 'hideTip',\n      from: this.uid\n    });\n  },\n  dispose: function (ecModel, api) {\n    if (env.node) {\n      return;\n    }\n\n    this._tooltipContent.dispose();\n\n    globalListener.unregister('itemTooltip', api);\n  }\n});\n/**\n * @param {Array.<Object|module:echarts/model/Model>} modelCascade\n * From top to bottom. (the last one should be globalTooltipModel);\n */\n\n\nfunction buildTooltipModel(modelCascade) {\n  var resultModel = modelCascade.pop();\n\n  while (modelCascade.length) {\n    var tooltipOpt = modelCascade.pop();\n\n    if (tooltipOpt) {\n      if (Model.isInstance(tooltipOpt)) {\n        tooltipOpt = tooltipOpt.get('tooltip', true);\n      } // In each data item tooltip can be simply write:\n      // {\n      //  value: 10,\n      //  tooltip: 'Something you need to know'\n      // }\n\n\n      if (typeof tooltipOpt === 'string') {\n        tooltipOpt = {\n          formatter: tooltipOpt\n        };\n      }\n\n      resultModel = new Model(tooltipOpt, resultModel, resultModel.ecModel);\n    }\n  }\n\n  return resultModel;\n}\n\nfunction makeDispatchAction(payload, api) {\n  return payload.dispatchAction || zrUtil.bind(api.dispatchAction, api);\n}\n\nfunction refixTooltipPosition(x, y, content, viewWidth, viewHeight, gapH, gapV) {\n  var size = content.getOuterSize();\n  var width = size.width;\n  var height = size.height;\n\n  if (gapH != null) {\n    if (x + width + gapH > viewWidth) {\n      x -= width + gapH;\n    } else {\n      x += gapH;\n    }\n  }\n\n  if (gapV != null) {\n    if (y + height + gapV > viewHeight) {\n      y -= height + gapV;\n    } else {\n      y += gapV;\n    }\n  }\n\n  return [x, y];\n}\n\nfunction confineTooltipPosition(x, y, content, viewWidth, viewHeight) {\n  var size = content.getOuterSize();\n  var width = size.width;\n  var height = size.height;\n  x = Math.min(x + width, viewWidth) - width;\n  y = Math.min(y + height, viewHeight) - height;\n  x = Math.max(x, 0);\n  y = Math.max(y, 0);\n  return [x, y];\n}\n\nfunction calcTooltipPosition(position, rect, contentSize) {\n  var domWidth = contentSize[0];\n  var domHeight = contentSize[1];\n  var gap = 5;\n  var x = 0;\n  var y = 0;\n  var rectWidth = rect.width;\n  var rectHeight = rect.height;\n\n  switch (position) {\n    case 'inside':\n      x = rect.x + rectWidth / 2 - domWidth / 2;\n      y = rect.y + rectHeight / 2 - domHeight / 2;\n      break;\n\n    case 'top':\n      x = rect.x + rectWidth / 2 - domWidth / 2;\n      y = rect.y - domHeight - gap;\n      break;\n\n    case 'bottom':\n      x = rect.x + rectWidth / 2 - domWidth / 2;\n      y = rect.y + rectHeight + gap;\n      break;\n\n    case 'left':\n      x = rect.x - domWidth - gap;\n      y = rect.y + rectHeight / 2 - domHeight / 2;\n      break;\n\n    case 'right':\n      x = rect.x + rectWidth + gap;\n      y = rect.y + rectHeight / 2 - domHeight / 2;\n  }\n\n  return [x, y];\n}\n\nfunction isCenterAlign(align) {\n  return align === 'center' || align === 'middle';\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction legendSelectActionHandler(methodName, payload, ecModel) {\n  var selectedMap = {};\n  var isToggleSelect = methodName === 'toggleSelected';\n  var isSelected; // Update all legend components\n\n  ecModel.eachComponent('legend', function (legendModel) {\n    if (isToggleSelect && isSelected != null) {\n      // Force other legend has same selected status\n      // Or the first is toggled to true and other are toggled to false\n      // In the case one legend has some item unSelected in option. And if other legend\n      // doesn't has the item, they will assume it is selected.\n      legendModel[isSelected ? 'select' : 'unSelect'](payload.name);\n    } else if (methodName === 'allSelect' || methodName === 'inverseSelect') {\n      legendModel[methodName]();\n    } else {\n      legendModel[methodName](payload.name);\n      isSelected = legendModel.isSelected(payload.name);\n    }\n\n    var legendData = legendModel.getData();\n    zrUtil.each(legendData, function (model) {\n      var name = model.get('name'); // Wrap element\n\n      if (name === '\\n' || name === '') {\n        return;\n      }\n\n      var isItemSelected = legendModel.isSelected(name);\n\n      if (selectedMap.hasOwnProperty(name)) {\n        // Unselected if any legend is unselected\n        selectedMap[name] = selectedMap[name] && isItemSelected;\n      } else {\n        selectedMap[name] = isItemSelected;\n      }\n    });\n  }); // Return the event explicitly\n\n  return methodName === 'allSelect' || methodName === 'inverseSelect' ? {\n    selected: selectedMap\n  } : {\n    name: payload.name,\n    selected: selectedMap\n  };\n}\n/**\n * @event legendToggleSelect\n * @type {Object}\n * @property {string} type 'legendToggleSelect'\n * @property {string} [from]\n * @property {string} name Series name or data item name\n */\n\n\necharts.registerAction('legendToggleSelect', 'legendselectchanged', zrUtil.curry(legendSelectActionHandler, 'toggleSelected'));\necharts.registerAction('legendAllSelect', 'legendselectall', zrUtil.curry(legendSelectActionHandler, 'allSelect'));\necharts.registerAction('legendInverseSelect', 'legendinverseselect', zrUtil.curry(legendSelectActionHandler, 'inverseSelect'));\n/**\n * @event legendSelect\n * @type {Object}\n * @property {string} type 'legendSelect'\n * @property {string} name Series name or data item name\n */\n\necharts.registerAction('legendSelect', 'legendselected', zrUtil.curry(legendSelectActionHandler, 'select'));\n/**\n * @event legendUnSelect\n * @type {Object}\n * @property {string} type 'legendUnSelect'\n * @property {string} name Series name or data item name\n */\n\necharts.registerAction('legendUnSelect', 'legendunselected', zrUtil.curry(legendSelectActionHandler, 'unSelect'));","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar AxisPointerModel = echarts.extendComponentModel({\n  type: 'axisPointer',\n  coordSysAxesInfo: null,\n  defaultOption: {\n    // 'auto' means that show when triggered by tooltip or handle.\n    show: 'auto',\n    // 'click' | 'mousemove' | 'none'\n    triggerOn: null,\n    // set default in AxisPonterView.js\n    zlevel: 0,\n    z: 50,\n    type: 'line',\n    // 'line' 'shadow' 'cross' 'none'.\n    // axispointer triggered by tootip determine snap automatically,\n    // see `modelHelper`.\n    snap: false,\n    triggerTooltip: true,\n    value: null,\n    status: null,\n    // Init value depends on whether handle is used.\n    // [group0, group1, ...]\n    // Each group can be: {\n    //      mapper: function () {},\n    //      singleTooltip: 'multiple',  // 'multiple' or 'single'\n    //      xAxisId: ...,\n    //      yAxisName: ...,\n    //      angleAxisIndex: ...\n    // }\n    // mapper: can be ignored.\n    //      input: {axisInfo, value}\n    //      output: {axisInfo, value}\n    link: [],\n    // Do not set 'auto' here, otherwise global animation: false\n    // will not effect at this axispointer.\n    animation: null,\n    animationDurationUpdate: 200,\n    lineStyle: {\n      color: '#aaa',\n      width: 1,\n      type: 'solid'\n    },\n    shadowStyle: {\n      color: 'rgba(150,150,150,0.3)'\n    },\n    label: {\n      show: true,\n      formatter: null,\n      // string | Function\n      precision: 'auto',\n      // Or a number like 0, 1, 2 ...\n      margin: 3,\n      color: '#fff',\n      padding: [5, 7, 5, 7],\n      backgroundColor: 'auto',\n      // default: axis line color\n      borderColor: null,\n      borderWidth: 0,\n      shadowBlur: 3,\n      shadowColor: '#aaa' // Considering applicability, common style should\n      // better not have shadowOffset.\n      // shadowOffsetX: 0,\n      // shadowOffsetY: 2\n\n    },\n    handle: {\n      show: false,\n\n      /* eslint-disable */\n      icon: 'M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z',\n      // jshint ignore:line\n\n      /* eslint-enable */\n      size: 45,\n      // handle margin is from symbol center to axis, which is stable when circular move.\n      margin: 50,\n      // color: '#1b8bbd'\n      // color: '#2f4554'\n      color: '#333',\n      shadowBlur: 3,\n      shadowColor: '#aaa',\n      shadowOffsetX: 0,\n      shadowOffsetY: 2,\n      // For mobile performance\n      throttle: 40\n    }\n  }\n});\nvar _default = AxisPointerModel;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar BaseAxisPointer = require(\"./BaseAxisPointer\");\n\nvar viewHelper = require(\"./viewHelper\");\n\nvar cartesianAxisHelper = require(\"../../coord/cartesian/cartesianAxisHelper\");\n\nvar AxisView = require(\"../axis/AxisView\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar CartesianAxisPointer = BaseAxisPointer.extend({\n  /**\n   * @override\n   */\n  makeElOption: function (elOption, value, axisModel, axisPointerModel, api) {\n    var axis = axisModel.axis;\n    var grid = axis.grid;\n    var axisPointerType = axisPointerModel.get('type');\n    var otherExtent = getCartesian(grid, axis).getOtherAxis(axis).getGlobalExtent();\n    var pixelValue = axis.toGlobalCoord(axis.dataToCoord(value, true));\n\n    if (axisPointerType && axisPointerType !== 'none') {\n      var elStyle = viewHelper.buildElStyle(axisPointerModel);\n      var pointerOption = pointerShapeBuilder[axisPointerType](axis, pixelValue, otherExtent);\n      pointerOption.style = elStyle;\n      elOption.graphicKey = pointerOption.type;\n      elOption.pointer = pointerOption;\n    }\n\n    var layoutInfo = cartesianAxisHelper.layout(grid.model, axisModel);\n    viewHelper.buildCartesianSingleLabelElOption(value, elOption, layoutInfo, axisModel, axisPointerModel, api);\n  },\n\n  /**\n   * @override\n   */\n  getHandleTransform: function (value, axisModel, axisPointerModel) {\n    var layoutInfo = cartesianAxisHelper.layout(axisModel.axis.grid.model, axisModel, {\n      labelInside: false\n    });\n    layoutInfo.labelMargin = axisPointerModel.get('handle.margin');\n    return {\n      position: viewHelper.getTransformedPosition(axisModel.axis, value, layoutInfo),\n      rotation: layoutInfo.rotation + (layoutInfo.labelDirection < 0 ? Math.PI : 0)\n    };\n  },\n\n  /**\n   * @override\n   */\n  updateHandleTransform: function (transform, delta, axisModel, axisPointerModel) {\n    var axis = axisModel.axis;\n    var grid = axis.grid;\n    var axisExtent = axis.getGlobalExtent(true);\n    var otherExtent = getCartesian(grid, axis).getOtherAxis(axis).getGlobalExtent();\n    var dimIndex = axis.dim === 'x' ? 0 : 1;\n    var currPosition = transform.position;\n    currPosition[dimIndex] += delta[dimIndex];\n    currPosition[dimIndex] = Math.min(axisExtent[1], currPosition[dimIndex]);\n    currPosition[dimIndex] = Math.max(axisExtent[0], currPosition[dimIndex]);\n    var cursorOtherValue = (otherExtent[1] + otherExtent[0]) / 2;\n    var cursorPoint = [cursorOtherValue, cursorOtherValue];\n    cursorPoint[dimIndex] = currPosition[dimIndex]; // Make tooltip do not overlap axisPointer and in the middle of the grid.\n\n    var tooltipOptions = [{\n      verticalAlign: 'middle'\n    }, {\n      align: 'center'\n    }];\n    return {\n      position: currPosition,\n      rotation: transform.rotation,\n      cursorPoint: cursorPoint,\n      tooltipOption: tooltipOptions[dimIndex]\n    };\n  }\n});\n\nfunction getCartesian(grid, axis) {\n  var opt = {};\n  opt[axis.dim + 'AxisIndex'] = axis.index;\n  return grid.getCartesian(opt);\n}\n\nvar pointerShapeBuilder = {\n  line: function (axis, pixelValue, otherExtent) {\n    var targetShape = viewHelper.makeLineShape([pixelValue, otherExtent[0]], [pixelValue, otherExtent[1]], getAxisDimIndex(axis));\n    return {\n      type: 'Line',\n      subPixelOptimize: true,\n      shape: targetShape\n    };\n  },\n  shadow: function (axis, pixelValue, otherExtent) {\n    var bandWidth = Math.max(1, axis.getBandWidth());\n    var span = otherExtent[1] - otherExtent[0];\n    return {\n      type: 'Rect',\n      shape: viewHelper.makeRectShape([pixelValue - bandWidth / 2, otherExtent[0]], [bandWidth, span], getAxisDimIndex(axis))\n    };\n  }\n};\n\nfunction getAxisDimIndex(axis) {\n  return axis.dim === 'x' ? 0 : 1;\n}\n\nAxisView.registerAxisPointerClass('CartesianAxisPointer', CartesianAxisPointer);\nvar _default = CartesianAxisPointer;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _symbol = require(\"../../util/symbol\");\n\nvar createSymbol = _symbol.createSymbol;\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _listComponent = require(\"../helper/listComponent\");\n\nvar makeBackground = _listComponent.makeBackground;\n\nvar layoutUtil = require(\"../../util/layout\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar curry = zrUtil.curry;\nvar each = zrUtil.each;\nvar Group = graphic.Group;\n\nvar _default = echarts.extendComponentView({\n  type: 'legend.plain',\n  newlineDisabled: false,\n\n  /**\n   * @override\n   */\n  init: function () {\n    /**\n     * @private\n     * @type {module:zrender/container/Group}\n     */\n    this.group.add(this._contentGroup = new Group());\n    /**\n     * @private\n     * @type {module:zrender/Element}\n     */\n\n    this._backgroundEl;\n    /**\n     * @private\n     * @type {module:zrender/container/Group}\n     */\n\n    this.group.add(this._selectorGroup = new Group());\n    /**\n     * If first rendering, `contentGroup.position` is [0, 0], which\n     * does not make sense and may cause unexepcted animation if adopted.\n     * @private\n     * @type {boolean}\n     */\n\n    this._isFirstRender = true;\n  },\n\n  /**\n   * @protected\n   */\n  getContentGroup: function () {\n    return this._contentGroup;\n  },\n\n  /**\n   * @protected\n   */\n  getSelectorGroup: function () {\n    return this._selectorGroup;\n  },\n\n  /**\n   * @override\n   */\n  render: function (legendModel, ecModel, api) {\n    var isFirstRender = this._isFirstRender;\n    this._isFirstRender = false;\n    this.resetInner();\n\n    if (!legendModel.get('show', true)) {\n      return;\n    }\n\n    var itemAlign = legendModel.get('align');\n    var orient = legendModel.get('orient');\n\n    if (!itemAlign || itemAlign === 'auto') {\n      itemAlign = legendModel.get('left') === 'right' && orient === 'vertical' ? 'right' : 'left';\n    }\n\n    var selector = legendModel.get('selector', true);\n    var selectorPosition = legendModel.get('selectorPosition', true);\n\n    if (selector && (!selectorPosition || selectorPosition === 'auto')) {\n      selectorPosition = orient === 'horizontal' ? 'end' : 'start';\n    }\n\n    this.renderInner(itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition); // Perform layout.\n\n    var positionInfo = legendModel.getBoxLayoutParams();\n    var viewportSize = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    };\n    var padding = legendModel.get('padding');\n    var maxSize = layoutUtil.getLayoutRect(positionInfo, viewportSize, padding);\n    var mainRect = this.layoutInner(legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition); // Place mainGroup, based on the calculated `mainRect`.\n\n    var layoutRect = layoutUtil.getLayoutRect(zrUtil.defaults({\n      width: mainRect.width,\n      height: mainRect.height\n    }, positionInfo), viewportSize, padding);\n    this.group.attr('position', [layoutRect.x - mainRect.x, layoutRect.y - mainRect.y]); // Render background after group is layout.\n\n    this.group.add(this._backgroundEl = makeBackground(mainRect, legendModel));\n  },\n\n  /**\n   * @protected\n   */\n  resetInner: function () {\n    this.getContentGroup().removeAll();\n    this._backgroundEl && this.group.remove(this._backgroundEl);\n    this.getSelectorGroup().removeAll();\n  },\n\n  /**\n   * @protected\n   */\n  renderInner: function (itemAlign, legendModel, ecModel, api, selector, orient, selectorPosition) {\n    var contentGroup = this.getContentGroup();\n    var legendDrawnMap = zrUtil.createHashMap();\n    var selectMode = legendModel.get('selectedMode');\n    var excludeSeriesId = [];\n    ecModel.eachRawSeries(function (seriesModel) {\n      !seriesModel.get('legendHoverLink') && excludeSeriesId.push(seriesModel.id);\n    });\n    each(legendModel.getData(), function (itemModel, dataIndex) {\n      var name = itemModel.get('name'); // Use empty string or \\n as a newline string\n\n      if (!this.newlineDisabled && (name === '' || name === '\\n')) {\n        contentGroup.add(new Group({\n          newline: true\n        }));\n        return;\n      } // Representitive series.\n\n\n      var seriesModel = ecModel.getSeriesByName(name)[0];\n\n      if (legendDrawnMap.get(name)) {\n        // Have been drawed\n        return;\n      } // Legend to control series.\n\n\n      if (seriesModel) {\n        var data = seriesModel.getData();\n        var color = data.getVisual('color');\n        var borderColor = data.getVisual('borderColor'); // If color is a callback function\n\n        if (typeof color === 'function') {\n          // Use the first data\n          color = color(seriesModel.getDataParams(0));\n        } // If borderColor is a callback function\n\n\n        if (typeof borderColor === 'function') {\n          // Use the first data\n          borderColor = borderColor(seriesModel.getDataParams(0));\n        } // Using rect symbol defaultly\n\n\n        var legendSymbolType = data.getVisual('legendSymbol') || 'roundRect';\n        var symbolType = data.getVisual('symbol');\n\n        var itemGroup = this._createItem(name, dataIndex, itemModel, legendModel, legendSymbolType, symbolType, itemAlign, color, borderColor, selectMode);\n\n        itemGroup.on('click', curry(dispatchSelectAction, name, null, api, excludeSeriesId)).on('mouseover', curry(dispatchHighlightAction, seriesModel.name, null, api, excludeSeriesId)).on('mouseout', curry(dispatchDownplayAction, seriesModel.name, null, api, excludeSeriesId));\n        legendDrawnMap.set(name, true);\n      } else {\n        // Legend to control data. In pie and funnel.\n        ecModel.eachRawSeries(function (seriesModel) {\n          // In case multiple series has same data name\n          if (legendDrawnMap.get(name)) {\n            return;\n          }\n\n          if (seriesModel.legendVisualProvider) {\n            var provider = seriesModel.legendVisualProvider;\n\n            if (!provider.containName(name)) {\n              return;\n            }\n\n            var idx = provider.indexOfName(name);\n            var color = provider.getItemVisual(idx, 'color');\n            var borderColor = provider.getItemVisual(idx, 'borderColor');\n            var legendSymbolType = 'roundRect';\n\n            var itemGroup = this._createItem(name, dataIndex, itemModel, legendModel, legendSymbolType, null, itemAlign, color, borderColor, selectMode); // FIXME: consider different series has items with the same name.\n\n\n            itemGroup.on('click', curry(dispatchSelectAction, null, name, api, excludeSeriesId)) // Should not specify the series name, consider legend controls\n            // more than one pie series.\n            .on('mouseover', curry(dispatchHighlightAction, null, name, api, excludeSeriesId)).on('mouseout', curry(dispatchDownplayAction, null, name, api, excludeSeriesId));\n            legendDrawnMap.set(name, true);\n          }\n        }, this);\n      }\n    }, this);\n\n    if (selector) {\n      this._createSelector(selector, legendModel, api, orient, selectorPosition);\n    }\n  },\n  _createSelector: function (selector, legendModel, api, orient, selectorPosition) {\n    var selectorGroup = this.getSelectorGroup();\n    each(selector, function (selectorItem) {\n      createSelectorButton(selectorItem);\n    });\n\n    function createSelectorButton(selectorItem) {\n      var type = selectorItem.type;\n      var labelText = new graphic.Text({\n        style: {\n          x: 0,\n          y: 0,\n          align: 'center',\n          verticalAlign: 'middle'\n        },\n        onclick: function () {\n          api.dispatchAction({\n            type: type === 'all' ? 'legendAllSelect' : 'legendInverseSelect'\n          });\n        }\n      });\n      selectorGroup.add(labelText);\n      var labelModel = legendModel.getModel('selectorLabel');\n      var emphasisLabelModel = legendModel.getModel('emphasis.selectorLabel');\n      graphic.setLabelStyle(labelText.style, labelText.hoverStyle = {}, labelModel, emphasisLabelModel, {\n        defaultText: selectorItem.title,\n        isRectText: false\n      });\n      graphic.setHoverStyle(labelText);\n    }\n  },\n  _createItem: function (name, dataIndex, itemModel, legendModel, legendSymbolType, symbolType, itemAlign, color, borderColor, selectMode) {\n    var itemWidth = legendModel.get('itemWidth');\n    var itemHeight = legendModel.get('itemHeight');\n    var inactiveColor = legendModel.get('inactiveColor');\n    var inactiveBorderColor = legendModel.get('inactiveBorderColor');\n    var symbolKeepAspect = legendModel.get('symbolKeepAspect');\n    var legendModelItemStyle = legendModel.getModel('itemStyle');\n    var isSelected = legendModel.isSelected(name);\n    var itemGroup = new Group();\n    var textStyleModel = itemModel.getModel('textStyle');\n    var itemIcon = itemModel.get('icon');\n    var tooltipModel = itemModel.getModel('tooltip');\n    var legendGlobalTooltipModel = tooltipModel.parentModel; // Use user given icon first\n\n    legendSymbolType = itemIcon || legendSymbolType;\n    var legendSymbol = createSymbol(legendSymbolType, 0, 0, itemWidth, itemHeight, isSelected ? color : inactiveColor, // symbolKeepAspect default true for legend\n    symbolKeepAspect == null ? true : symbolKeepAspect);\n    itemGroup.add(setSymbolStyle(legendSymbol, legendSymbolType, legendModelItemStyle, borderColor, inactiveBorderColor, isSelected)); // Compose symbols\n    // PENDING\n\n    if (!itemIcon && symbolType // At least show one symbol, can't be all none\n    && (symbolType !== legendSymbolType || symbolType === 'none')) {\n      var size = itemHeight * 0.8;\n\n      if (symbolType === 'none') {\n        symbolType = 'circle';\n      }\n\n      var legendSymbolCenter = createSymbol(symbolType, (itemWidth - size) / 2, (itemHeight - size) / 2, size, size, isSelected ? color : inactiveColor, // symbolKeepAspect default true for legend\n      symbolKeepAspect == null ? true : symbolKeepAspect); // Put symbol in the center\n\n      itemGroup.add(setSymbolStyle(legendSymbolCenter, symbolType, legendModelItemStyle, borderColor, inactiveBorderColor, isSelected));\n    }\n\n    var textX = itemAlign === 'left' ? itemWidth + 5 : -5;\n    var textAlign = itemAlign;\n    var formatter = legendModel.get('formatter');\n    var content = name;\n\n    if (typeof formatter === 'string' && formatter) {\n      content = formatter.replace('{name}', name != null ? name : '');\n    } else if (typeof formatter === 'function') {\n      content = formatter(name);\n    }\n\n    itemGroup.add(new graphic.Text({\n      style: graphic.setTextStyle({}, textStyleModel, {\n        text: content,\n        x: textX,\n        y: itemHeight / 2,\n        textFill: isSelected ? textStyleModel.getTextColor() : inactiveColor,\n        textAlign: textAlign,\n        textVerticalAlign: 'middle'\n      })\n    })); // Add a invisible rect to increase the area of mouse hover\n\n    var hitRect = new graphic.Rect({\n      shape: itemGroup.getBoundingRect(),\n      invisible: true,\n      tooltip: tooltipModel.get('show') ? zrUtil.extend({\n        content: name,\n        // Defaul formatter\n        formatter: legendGlobalTooltipModel.get('formatter', true) || function () {\n          return name;\n        },\n        formatterParams: {\n          componentType: 'legend',\n          legendIndex: legendModel.componentIndex,\n          name: name,\n          $vars: ['name']\n        }\n      }, tooltipModel.option) : null\n    });\n    itemGroup.add(hitRect);\n    itemGroup.eachChild(function (child) {\n      child.silent = true;\n    });\n    hitRect.silent = !selectMode;\n    this.getContentGroup().add(itemGroup);\n    graphic.setHoverStyle(itemGroup);\n    itemGroup.__legendDataIndex = dataIndex;\n    return itemGroup;\n  },\n\n  /**\n   * @protected\n   */\n  layoutInner: function (legendModel, itemAlign, maxSize, isFirstRender, selector, selectorPosition) {\n    var contentGroup = this.getContentGroup();\n    var selectorGroup = this.getSelectorGroup(); // Place items in contentGroup.\n\n    layoutUtil.box(legendModel.get('orient'), contentGroup, legendModel.get('itemGap'), maxSize.width, maxSize.height);\n    var contentRect = contentGroup.getBoundingRect();\n    var contentPos = [-contentRect.x, -contentRect.y];\n\n    if (selector) {\n      // Place buttons in selectorGroup\n      layoutUtil.box( // Buttons in selectorGroup always layout horizontally\n      'horizontal', selectorGroup, legendModel.get('selectorItemGap', true));\n      var selectorRect = selectorGroup.getBoundingRect();\n      var selectorPos = [-selectorRect.x, -selectorRect.y];\n      var selectorButtonGap = legendModel.get('selectorButtonGap', true);\n      var orientIdx = legendModel.getOrient().index;\n      var wh = orientIdx === 0 ? 'width' : 'height';\n      var hw = orientIdx === 0 ? 'height' : 'width';\n      var yx = orientIdx === 0 ? 'y' : 'x';\n\n      if (selectorPosition === 'end') {\n        selectorPos[orientIdx] += contentRect[wh] + selectorButtonGap;\n      } else {\n        contentPos[orientIdx] += selectorRect[wh] + selectorButtonGap;\n      } //Always align selector to content as 'middle'\n\n\n      selectorPos[1 - orientIdx] += contentRect[hw] / 2 - selectorRect[hw] / 2;\n      selectorGroup.attr('position', selectorPos);\n      contentGroup.attr('position', contentPos);\n      var mainRect = {\n        x: 0,\n        y: 0\n      };\n      mainRect[wh] = contentRect[wh] + selectorButtonGap + selectorRect[wh];\n      mainRect[hw] = Math.max(contentRect[hw], selectorRect[hw]);\n      mainRect[yx] = Math.min(0, selectorRect[yx] + selectorPos[1 - orientIdx]);\n      return mainRect;\n    } else {\n      contentGroup.attr('position', contentPos);\n      return this.group.getBoundingRect();\n    }\n  },\n\n  /**\n   * @protected\n   */\n  remove: function () {\n    this.getContentGroup().removeAll();\n    this._isFirstRender = true;\n  }\n});\n\nfunction setSymbolStyle(symbol, symbolType, legendModelItemStyle, borderColor, inactiveBorderColor, isSelected) {\n  var itemStyle;\n\n  if (symbolType !== 'line' && symbolType.indexOf('empty') < 0) {\n    itemStyle = legendModelItemStyle.getItemStyle();\n    symbol.style.stroke = borderColor;\n\n    if (!isSelected) {\n      itemStyle.stroke = inactiveBorderColor;\n    }\n  } else {\n    itemStyle = legendModelItemStyle.getItemStyle(['borderWidth', 'borderColor']);\n  }\n\n  return symbol.setStyle(itemStyle);\n}\n\nfunction dispatchSelectAction(seriesName, dataName, api, excludeSeriesId) {\n  // downplay before unselect\n  dispatchDownplayAction(seriesName, dataName, api, excludeSeriesId);\n  api.dispatchAction({\n    type: 'legendToggleSelect',\n    name: seriesName != null ? seriesName : dataName\n  }); // highlight after select\n\n  dispatchHighlightAction(seriesName, dataName, api, excludeSeriesId);\n}\n\nfunction dispatchHighlightAction(seriesName, dataName, api, excludeSeriesId) {\n  // If element hover will move to a hoverLayer.\n  var el = api.getZr().storage.getDisplayList()[0];\n\n  if (!(el && el.useHoverLayer)) {\n    api.dispatchAction({\n      type: 'highlight',\n      seriesName: seriesName,\n      name: dataName,\n      excludeSeriesId: excludeSeriesId\n    });\n  }\n}\n\nfunction dispatchDownplayAction(seriesName, dataName, api, excludeSeriesId) {\n  // If element hover will move to a hoverLayer.\n  var el = api.getZr().storage.getDisplayList()[0];\n\n  if (!(el && el.useHoverLayer)) {\n    api.dispatchAction({\n      type: 'downplay',\n      seriesName: seriesName,\n      name: dataName,\n      excludeSeriesId: excludeSeriesId\n    });\n  }\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = require(\"../../echarts\");\n\nvar axisPointerModelHelper = require(\"../axisPointer/modelHelper\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Base class of AxisView.\n */\nvar AxisView = echarts.extendComponentView({\n  type: 'axis',\n\n  /**\n   * @private\n   */\n  _axisPointer: null,\n\n  /**\n   * @protected\n   * @type {string}\n   */\n  axisPointerClass: null,\n\n  /**\n   * @override\n   */\n  render: function (axisModel, ecModel, api, payload) {\n    // FIXME\n    // This process should proformed after coordinate systems updated\n    // (axis scale updated), and should be performed each time update.\n    // So put it here temporarily, although it is not appropriate to\n    // put a model-writing procedure in `view`.\n    this.axisPointerClass && axisPointerModelHelper.fixValue(axisModel);\n    AxisView.superApply(this, 'render', arguments);\n    updateAxisPointer(this, axisModel, ecModel, api, payload, true);\n  },\n\n  /**\n   * Action handler.\n   * @public\n   * @param {module:echarts/coord/cartesian/AxisModel} axisModel\n   * @param {module:echarts/model/Global} ecModel\n   * @param {module:echarts/ExtensionAPI} api\n   * @param {Object} payload\n   */\n  updateAxisPointer: function (axisModel, ecModel, api, payload, force) {\n    updateAxisPointer(this, axisModel, ecModel, api, payload, false);\n  },\n\n  /**\n   * @override\n   */\n  remove: function (ecModel, api) {\n    var axisPointer = this._axisPointer;\n    axisPointer && axisPointer.remove(api);\n    AxisView.superApply(this, 'remove', arguments);\n  },\n\n  /**\n   * @override\n   */\n  dispose: function (ecModel, api) {\n    disposeAxisPointer(this, api);\n    AxisView.superApply(this, 'dispose', arguments);\n  }\n});\n\nfunction updateAxisPointer(axisView, axisModel, ecModel, api, payload, forceRender) {\n  var Clazz = AxisView.getAxisPointerClass(axisView.axisPointerClass);\n\n  if (!Clazz) {\n    return;\n  }\n\n  var axisPointerModel = axisPointerModelHelper.getAxisPointerModel(axisModel);\n  axisPointerModel ? (axisView._axisPointer || (axisView._axisPointer = new Clazz())).render(axisModel, axisPointerModel, api, forceRender) : disposeAxisPointer(axisView, api);\n}\n\nfunction disposeAxisPointer(axisView, ecModel, api) {\n  var axisPointer = axisView._axisPointer;\n  axisPointer && axisPointer.dispose(ecModel, api);\n  axisView._axisPointer = null;\n}\n\nvar axisPointerClazz = [];\n\nAxisView.registerAxisPointerClass = function (type, clazz) {\n  axisPointerClazz[type] = clazz;\n};\n\nAxisView.getAxisPointerClass = function (type) {\n  return type && axisPointerClazz[type];\n};\n\nvar _default = AxisView;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Data selectable mixin for chart series.\n * To eanble data select, option of series must have `selectedMode`.\n * And each data item will use `selected` to toggle itself selected status\n */\nvar _default = {\n  /**\n   * @param {Array.<Object>} targetList [{name, value, selected}, ...]\n   *        If targetList is an array, it should like [{name: ..., value: ...}, ...].\n   *        If targetList is a \"List\", it must have coordDim: 'value' dimension and name.\n   */\n  updateSelectedMap: function (targetList) {\n    this._targetList = zrUtil.isArray(targetList) ? targetList.slice() : [];\n    this._selectTargetMap = zrUtil.reduce(targetList || [], function (targetMap, target) {\n      targetMap.set(target.name, target);\n      return targetMap;\n    }, zrUtil.createHashMap());\n  },\n\n  /**\n   * Either name or id should be passed as input here.\n   * If both of them are defined, id is used.\n   *\n   * @param {string|undefined} name name of data\n   * @param {number|undefined} id dataIndex of data\n   */\n  // PENGING If selectedMode is null ?\n  select: function (name, id) {\n    var target = id != null ? this._targetList[id] : this._selectTargetMap.get(name);\n    var selectedMode = this.get('selectedMode');\n\n    if (selectedMode === 'single') {\n      this._selectTargetMap.each(function (target) {\n        target.selected = false;\n      });\n    }\n\n    target && (target.selected = true);\n  },\n\n  /**\n   * Either name or id should be passed as input here.\n   * If both of them are defined, id is used.\n   *\n   * @param {string|undefined} name name of data\n   * @param {number|undefined} id dataIndex of data\n   */\n  unSelect: function (name, id) {\n    var target = id != null ? this._targetList[id] : this._selectTargetMap.get(name); // var selectedMode = this.get('selectedMode');\n    // selectedMode !== 'single' && target && (target.selected = false);\n\n    target && (target.selected = false);\n  },\n\n  /**\n   * Either name or id should be passed as input here.\n   * If both of them are defined, id is used.\n   *\n   * @param {string|undefined} name name of data\n   * @param {number|undefined} id dataIndex of data\n   */\n  toggleSelected: function (name, id) {\n    var target = id != null ? this._targetList[id] : this._selectTargetMap.get(name);\n\n    if (target != null) {\n      this[target.selected ? 'unSelect' : 'select'](name, id);\n      return target.selected;\n    }\n  },\n\n  /**\n   * Either name or id should be passed as input here.\n   * If both of them are defined, id is used.\n   *\n   * @param {string|undefined} name name of data\n   * @param {number|undefined} id dataIndex of data\n   */\n  isSelected: function (name, id) {\n    var target = id != null ? this._targetList[id] : this._selectTargetMap.get(name);\n    return target && target.selected;\n  }\n};\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction _default(seriesType, actionInfos) {\n  zrUtil.each(actionInfos, function (actionInfo) {\n    actionInfo.update = 'updateView';\n    /**\n     * @payload\n     * @property {string} seriesName\n     * @property {string} name\n     */\n\n    echarts.registerAction(actionInfo, function (payload, ecModel) {\n      var selected = {};\n      ecModel.eachComponent({\n        mainType: 'series',\n        subType: seriesType,\n        query: payload\n      }, function (seriesModel) {\n        if (seriesModel[actionInfo.method]) {\n          seriesModel[actionInfo.method](payload.name, payload.dataIndex);\n        }\n\n        var data = seriesModel.getData(); // Create selected map\n\n        data.each(function (idx) {\n          var name = data.getName(idx);\n          selected[name] = seriesModel.isSelected(name) || false;\n        });\n      });\n      return {\n        name: payload.name,\n        selected: selected,\n        seriesId: payload.seriesId\n      };\n    });\n  });\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _layout = require(\"../../util/layout\");\n\nvar getLayoutRect = _layout.getLayoutRect;\nvar layoutBox = _layout.box;\nvar positionElement = _layout.positionElement;\n\nvar formatUtil = require(\"../../util/format\");\n\nvar graphic = require(\"../../util/graphic\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Layout list like component.\n * It will box layout each items in group of component and then position the whole group in the viewport\n * @param {module:zrender/group/Group} group\n * @param {module:echarts/model/Component} componentModel\n * @param {module:echarts/ExtensionAPI}\n */\nfunction layout(group, componentModel, api) {\n  var boxLayoutParams = componentModel.getBoxLayoutParams();\n  var padding = componentModel.get('padding');\n  var viewportSize = {\n    width: api.getWidth(),\n    height: api.getHeight()\n  };\n  var rect = getLayoutRect(boxLayoutParams, viewportSize, padding);\n  layoutBox(componentModel.get('orient'), group, componentModel.get('itemGap'), rect.width, rect.height);\n  positionElement(group, boxLayoutParams, viewportSize, padding);\n}\n\nfunction makeBackground(rect, componentModel) {\n  var padding = formatUtil.normalizeCssArray(componentModel.get('padding'));\n  var style = componentModel.getItemStyle(['color', 'opacity']);\n  style.fill = componentModel.get('backgroundColor');\n  var rect = new graphic.Rect({\n    shape: {\n      x: rect.x - padding[3],\n      y: rect.y - padding[0],\n      width: rect.width + padding[1] + padding[3],\n      height: rect.height + padding[0] + padding[2],\n      r: componentModel.get('borderRadius')\n    },\n    style: style,\n    silent: true,\n    z2: -1\n  }); // FIXME\n  // `subPixelOptimizeRect` may bring some gap between edge of viewpart\n  // and background rect when setting like `left: 0`, `top: 0`.\n  // graphic.subPixelOptimizeRect(rect);\n\n  return rect;\n}\n\nexports.layout = layout;\nexports.makeBackground = makeBackground;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar Text = require(\"zrender/lib/graphic/Text\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// import Group from 'zrender/src/container/Group';\n\n/**\n * @alias module:echarts/component/tooltip/TooltipRichContent\n * @constructor\n */\nfunction TooltipRichContent(api) {\n  this._zr = api.getZr();\n  this._show = false;\n  /**\n   * @private\n   */\n\n  this._hideTimeout;\n}\n\nTooltipRichContent.prototype = {\n  constructor: TooltipRichContent,\n\n  /**\n   * @private\n   * @type {boolean}\n   */\n  _enterable: true,\n\n  /**\n   * Update when tooltip is rendered\n   */\n  update: function () {// noop\n  },\n  show: function (tooltipModel) {\n    if (this._hideTimeout) {\n      clearTimeout(this._hideTimeout);\n    }\n\n    this.el.attr('show', true);\n    this._show = true;\n  },\n\n  /**\n   * Set tooltip content\n   *\n   * @param {string} content rich text string of content\n   * @param {Object} markerRich rich text style\n   * @param {Object} tooltipModel tooltip model\n   */\n  setContent: function (content, markerRich, tooltipModel) {\n    if (this.el) {\n      this._zr.remove(this.el);\n    }\n\n    var markers = {};\n    var text = content;\n    var prefix = '{marker';\n    var suffix = '|}';\n    var startId = text.indexOf(prefix);\n\n    while (startId >= 0) {\n      var endId = text.indexOf(suffix);\n      var name = text.substr(startId + prefix.length, endId - startId - prefix.length);\n\n      if (name.indexOf('sub') > -1) {\n        markers['marker' + name] = {\n          textWidth: 4,\n          textHeight: 4,\n          textBorderRadius: 2,\n          textBackgroundColor: markerRich[name],\n          // TODO: textOffset is not implemented for rich text\n          textOffset: [3, 0]\n        };\n      } else {\n        markers['marker' + name] = {\n          textWidth: 10,\n          textHeight: 10,\n          textBorderRadius: 5,\n          textBackgroundColor: markerRich[name]\n        };\n      }\n\n      text = text.substr(endId + 1);\n      startId = text.indexOf('{marker');\n    }\n\n    this.el = new Text({\n      style: {\n        rich: markers,\n        text: content,\n        textLineHeight: 20,\n        textBackgroundColor: tooltipModel.get('backgroundColor'),\n        textBorderRadius: tooltipModel.get('borderRadius'),\n        textFill: tooltipModel.get('textStyle.color'),\n        textPadding: tooltipModel.get('padding')\n      },\n      z: tooltipModel.get('z')\n    });\n\n    this._zr.add(this.el);\n\n    var self = this;\n    this.el.on('mouseover', function () {\n      // clear the timeout in hideLater and keep showing tooltip\n      if (self._enterable) {\n        clearTimeout(self._hideTimeout);\n        self._show = true;\n      }\n\n      self._inContent = true;\n    });\n    this.el.on('mouseout', function () {\n      if (self._enterable) {\n        if (self._show) {\n          self.hideLater(self._hideDelay);\n        }\n      }\n\n      self._inContent = false;\n    });\n  },\n  setEnterable: function (enterable) {\n    this._enterable = enterable;\n  },\n  getSize: function () {\n    var bounding = this.el.getBoundingRect();\n    return [bounding.width, bounding.height];\n  },\n  moveTo: function (x, y) {\n    if (this.el) {\n      this.el.attr('position', [x, y]);\n    }\n  },\n  hide: function () {\n    if (this.el) {\n      this.el.hide();\n    }\n\n    this._show = false;\n  },\n  hideLater: function (time) {\n    if (this._show && !(this._inContent && this._enterable)) {\n      if (time) {\n        this._hideDelay = time; // Set show false to avoid invoke hideLater mutiple times\n\n        this._show = false;\n        this._hideTimeout = setTimeout(zrUtil.bind(this.hide, this), time);\n      } else {\n        this.hide();\n      }\n    }\n  },\n  isShow: function () {\n    return this._show;\n  },\n  getOuterSize: function () {\n    var size = this.getSize();\n    return {\n      width: size[0],\n      height: size[1]\n    };\n  }\n};\nvar _default = TooltipRichContent;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar Model = require(\"../../model/Model\");\n\nvar _model = require(\"../../util/model\");\n\nvar isNameSpecified = _model.isNameSpecified;\n\nvar lang = require(\"../../lang\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar langSelector = lang.legend.selector;\nvar defaultSelectorOption = {\n  all: {\n    type: 'all',\n    title: zrUtil.clone(langSelector.all)\n  },\n  inverse: {\n    type: 'inverse',\n    title: zrUtil.clone(langSelector.inverse)\n  }\n};\nvar LegendModel = echarts.extendComponentModel({\n  type: 'legend.plain',\n  dependencies: ['series'],\n  layoutMode: {\n    type: 'box',\n    // legend.width/height are maxWidth/maxHeight actually,\n    // whereas realy width/height is calculated by its content.\n    // (Setting {left: 10, right: 10} does not make sense).\n    // So consider the case:\n    // `setOption({legend: {left: 10});`\n    // then `setOption({legend: {right: 10});`\n    // The previous `left` should be cleared by setting `ignoreSize`.\n    ignoreSize: true\n  },\n  init: function (option, parentModel, ecModel) {\n    this.mergeDefaultAndTheme(option, ecModel);\n    option.selected = option.selected || {};\n\n    this._updateSelector(option);\n  },\n  mergeOption: function (option) {\n    LegendModel.superCall(this, 'mergeOption', option);\n\n    this._updateSelector(option);\n  },\n  _updateSelector: function (option) {\n    var selector = option.selector;\n\n    if (selector === true) {\n      selector = option.selector = ['all', 'inverse'];\n    }\n\n    if (zrUtil.isArray(selector)) {\n      zrUtil.each(selector, function (item, index) {\n        zrUtil.isString(item) && (item = {\n          type: item\n        });\n        selector[index] = zrUtil.merge(item, defaultSelectorOption[item.type]);\n      });\n    }\n  },\n  optionUpdated: function () {\n    this._updateData(this.ecModel);\n\n    var legendData = this._data; // If selectedMode is single, try to select one\n\n    if (legendData[0] && this.get('selectedMode') === 'single') {\n      var hasSelected = false; // If has any selected in option.selected\n\n      for (var i = 0; i < legendData.length; i++) {\n        var name = legendData[i].get('name');\n\n        if (this.isSelected(name)) {\n          // Force to unselect others\n          this.select(name);\n          hasSelected = true;\n          break;\n        }\n      } // Try select the first if selectedMode is single\n\n\n      !hasSelected && this.select(legendData[0].get('name'));\n    }\n  },\n  _updateData: function (ecModel) {\n    var potentialData = [];\n    var availableNames = [];\n    ecModel.eachRawSeries(function (seriesModel) {\n      var seriesName = seriesModel.name;\n      availableNames.push(seriesName);\n      var isPotential;\n\n      if (seriesModel.legendVisualProvider) {\n        var provider = seriesModel.legendVisualProvider;\n        var names = provider.getAllNames();\n\n        if (!ecModel.isSeriesFiltered(seriesModel)) {\n          availableNames = availableNames.concat(names);\n        }\n\n        if (names.length) {\n          potentialData = potentialData.concat(names);\n        } else {\n          isPotential = true;\n        }\n      } else {\n        isPotential = true;\n      }\n\n      if (isPotential && isNameSpecified(seriesModel)) {\n        potentialData.push(seriesModel.name);\n      }\n    });\n    /**\n     * @type {Array.<string>}\n     * @private\n     */\n\n    this._availableNames = availableNames; // If legend.data not specified in option, use availableNames as data,\n    // which is convinient for user preparing option.\n\n    var rawData = this.get('data') || potentialData;\n    var legendData = zrUtil.map(rawData, function (dataItem) {\n      // Can be string or number\n      if (typeof dataItem === 'string' || typeof dataItem === 'number') {\n        dataItem = {\n          name: dataItem\n        };\n      }\n\n      return new Model(dataItem, this, this.ecModel);\n    }, this);\n    /**\n     * @type {Array.<module:echarts/model/Model>}\n     * @private\n     */\n\n    this._data = legendData;\n  },\n\n  /**\n   * @return {Array.<module:echarts/model/Model>}\n   */\n  getData: function () {\n    return this._data;\n  },\n\n  /**\n   * @param {string} name\n   */\n  select: function (name) {\n    var selected = this.option.selected;\n    var selectedMode = this.get('selectedMode');\n\n    if (selectedMode === 'single') {\n      var data = this._data;\n      zrUtil.each(data, function (dataItem) {\n        selected[dataItem.get('name')] = false;\n      });\n    }\n\n    selected[name] = true;\n  },\n\n  /**\n   * @param {string} name\n   */\n  unSelect: function (name) {\n    if (this.get('selectedMode') !== 'single') {\n      this.option.selected[name] = false;\n    }\n  },\n\n  /**\n   * @param {string} name\n   */\n  toggleSelected: function (name) {\n    var selected = this.option.selected; // Default is true\n\n    if (!selected.hasOwnProperty(name)) {\n      selected[name] = true;\n    }\n\n    this[selected[name] ? 'unSelect' : 'select'](name);\n  },\n  allSelect: function () {\n    var data = this._data;\n    var selected = this.option.selected;\n    zrUtil.each(data, function (dataItem) {\n      selected[dataItem.get('name', true)] = true;\n    });\n  },\n  inverseSelect: function () {\n    var data = this._data;\n    var selected = this.option.selected;\n    zrUtil.each(data, function (dataItem) {\n      var name = dataItem.get('name', true); // Initially, default value is true\n\n      if (!selected.hasOwnProperty(name)) {\n        selected[name] = true;\n      }\n\n      selected[name] = !selected[name];\n    });\n  },\n\n  /**\n   * @param {string} name\n   */\n  isSelected: function (name) {\n    var selected = this.option.selected;\n    return !(selected.hasOwnProperty(name) && !selected[name]) && zrUtil.indexOf(this._availableNames, name) >= 0;\n  },\n  getOrient: function () {\n    return this.get('orient') === 'vertical' ? {\n      index: 1,\n      name: 'vertical'\n    } : {\n      index: 0,\n      name: 'horizontal'\n    };\n  },\n  defaultOption: {\n    // 一级层叠\n    zlevel: 0,\n    // 二级层叠\n    z: 4,\n    show: true,\n    // 布局方式，默认为水平布局，可选为：\n    // 'horizontal' | 'vertical'\n    orient: 'horizontal',\n    left: 'center',\n    // right: 'center',\n    top: 0,\n    // bottom: null,\n    // 水平对齐\n    // 'auto' | 'left' | 'right'\n    // 默认为 'auto', 根据 x 的位置判断是左对齐还是右对齐\n    align: 'auto',\n    backgroundColor: 'rgba(0,0,0,0)',\n    // 图例边框颜色\n    borderColor: '#ccc',\n    borderRadius: 0,\n    // 图例边框线宽，单位px，默认为0（无边框）\n    borderWidth: 0,\n    // 图例内边距，单位px，默认各方向内边距为5，\n    // 接受数组分别设定上右下左边距，同css\n    padding: 5,\n    // 各个item之间的间隔，单位px，默认为10，\n    // 横向布局时为水平间隔，纵向布局时为纵向间隔\n    itemGap: 10,\n    // the width of legend symbol\n    itemWidth: 25,\n    // the height of legend symbol\n    itemHeight: 14,\n    // the color of unselected legend symbol\n    inactiveColor: '#ccc',\n    // the borderColor of unselected legend symbol\n    inactiveBorderColor: '#ccc',\n    itemStyle: {\n      // the default borderWidth of legend symbol\n      borderWidth: 0\n    },\n    textStyle: {\n      // 图例文字颜色\n      color: '#333'\n    },\n    // formatter: '',\n    // 选择模式，默认开启图例开关\n    selectedMode: true,\n    // 配置默认选中状态，可配合LEGEND.SELECTED事件做动态数据载入\n    // selected: null,\n    // 图例内容（详见legend.data，数组中每一项代表一个item\n    // data: [],\n    // Usage:\n    // selector: [{type: 'all or inverse', title: xxx}]\n    // or\n    // selector: true\n    // or\n    // selector: ['all', 'inverse']\n    selector: false,\n    selectorLabel: {\n      show: true,\n      borderRadius: 10,\n      padding: [3, 5, 3, 5],\n      fontSize: 12,\n      fontFamily: ' sans-serif',\n      color: '#666',\n      borderWidth: 1,\n      borderColor: '#666'\n    },\n    emphasis: {\n      selectorLabel: {\n        show: true,\n        color: '#eee',\n        backgroundColor: '#666'\n      }\n    },\n    // Value can be 'start' or 'end'\n    selectorPosition: 'auto',\n    selectorItemGap: 7,\n    selectorButtonGap: 10,\n    // Tooltip 相关配置\n    tooltip: {\n      show: false\n    }\n  }\n});\nvar _default = LegendModel;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction _default(ecModel) {\n  var legendModels = ecModel.findComponents({\n    mainType: 'legend'\n  });\n\n  if (legendModels && legendModels.length) {\n    ecModel.filterSeries(function (series) {\n      // If in any legend component the status is not selected.\n      // Because in legend series is assumed selected when it is not in the legend data.\n      for (var i = 0; i < legendModels.length; i++) {\n        if (!legendModels[i].isSelected(series.name)) {\n          return false;\n        }\n      }\n\n      return true;\n    });\n  }\n}\n\nmodule.exports = _default;","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"statistics\"},[_c('p',{staticClass:\"module-name\"},[_vm._v(\"数据分析\")]),_c('EchartDoughnut')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"echart-container\"},[_c('v-chart',{attrs:{\"options\":_vm.option}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class='echart-container'>\r\n    <v-chart :options=\"option\"></v-chart>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport 'echarts/lib/chart/pie'\r\nimport 'echarts/lib/component/tooltip'\r\nimport 'echarts/lib/component/legend'\r\n\r\nexport default {\r\n  data(){\r\n    return {\r\n      option : {\r\n        tooltip: {\r\n            trigger: 'item',\r\n            formatter: '{a} <br/>{b}: {c} ({d}%)'\r\n        },\r\n        legend: {\r\n            orient: 'vertical',\r\n            left: 10,\r\n            data: ['直接访问', '邮件营销', '联盟广告', '视频广告', '搜索引擎']\r\n        },\r\n        series: [\r\n            {\r\n                name: '访问来源',\r\n                type: 'pie',\r\n                radius: ['50%', '70%'],\r\n                avoidLabelOverlap: false,\r\n                label: {\r\n                    show: false,\r\n                    position: 'center'\r\n                },\r\n                emphasis: {\r\n                    label: {\r\n                        show: true,\r\n                        fontSize: '30',\r\n                        fontWeight: 'bold'\r\n                    }\r\n                },\r\n                labelLine: {\r\n                    show: false\r\n                },\r\n                data: [\r\n                    {value: 335, name: '直接访问'},\r\n                    {value: 310, name: '邮件营销'},\r\n                    {value: 234, name: '联盟广告'},\r\n                    {value: 135, name: '视频广告'},\r\n                    {value: 1548, name: '搜索引擎'}\r\n                ]\r\n            }\r\n        ]\r\n    }\r\n\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n  .echart-title{\r\n    margin: 10px;\r\n    text-align: center;\r\n    font-size: 26px;\r\n  }\r\n\r\n  /**\r\n  * The default size is 600px×400px, for responsive charts\r\n  * you may need to set percentage values as follows (also\r\n  * don't forget to provide a size for the container).\r\n  */\r\n  .echarts {\r\n    width: 375px;\r\n    height: 300px;\r\n    margin: 0 auto;\r\n  }\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Echart_Doughnut.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Echart_Doughnut.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Echart_Doughnut.vue?vue&type=template&id=a3935890&\"\nimport script from \"./Echart_Doughnut.vue?vue&type=script&lang=js&\"\nexport * from \"./Echart_Doughnut.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Echart_Doughnut.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class='statistics'>\r\n    <p class='module-name'>数据分析</p>\r\n\r\n    <EchartDoughnut/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport EchartDoughnut from 'components/content/echart/Echart_Doughnut'\r\n\r\nexport default {\r\n  components:{\r\n    EchartDoughnut,\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  .statistics{\r\n    padding-top: 1rem;\r\n    padding-left: 0.2rem;\r\n  }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Statistics.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Statistics.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Statistics.vue?vue&type=template&id=0da4ad32&scoped=true&\"\nimport script from \"./Statistics.vue?vue&type=script&lang=js&\"\nexport * from \"./Statistics.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Statistics.vue?vue&type=style&index=0&id=0da4ad32&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0da4ad32\",\n  null\n  \n)\n\nexport default component.exports","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar createHashMap = _util.createHashMap;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Pick color from palette for each data item.\n// Applicable for charts that require applying color palette\n// in data level (like pie, funnel, chord).\nfunction _default(seriesType) {\n  return {\n    getTargetSeries: function (ecModel) {\n      // Pie and funnel may use diferrent scope\n      var paletteScope = {};\n      var seiresModelMap = createHashMap();\n      ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n        seriesModel.__paletteScope = paletteScope;\n        seiresModelMap.set(seriesModel.uid, seriesModel);\n      });\n      return seiresModelMap;\n    },\n    reset: function (seriesModel, ecModel) {\n      var dataAll = seriesModel.getRawData();\n      var idxMap = {};\n      var data = seriesModel.getData();\n      data.each(function (idx) {\n        var rawIdx = data.getRawIndex(idx);\n        idxMap[rawIdx] = idx;\n      });\n      dataAll.each(function (rawIdx) {\n        var filteredIdx = idxMap[rawIdx]; // If series.itemStyle.normal.color is a function. itemVisual may be encoded\n\n        var singleDataColor = filteredIdx != null && data.getItemVisual(filteredIdx, 'color', true);\n        var singleDataBorderColor = filteredIdx != null && data.getItemVisual(filteredIdx, 'borderColor', true);\n        var itemModel;\n\n        if (!singleDataColor || !singleDataBorderColor) {\n          // FIXME Performance\n          itemModel = dataAll.getItemModel(rawIdx);\n        }\n\n        if (!singleDataColor) {\n          var color = itemModel.get('itemStyle.color') || seriesModel.getColorFromPalette(dataAll.getName(rawIdx) || rawIdx + '', seriesModel.__paletteScope, dataAll.count()); // Data is not filtered\n\n          if (filteredIdx != null) {\n            data.setItemVisual(filteredIdx, 'color', color);\n          }\n        }\n\n        if (!singleDataBorderColor) {\n          var borderColor = itemModel.get('itemStyle.borderColor'); // Data is not filtered\n\n          if (filteredIdx != null) {\n            data.setItemVisual(filteredIdx, 'borderColor', borderColor);\n          }\n        }\n      });\n    }\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = echarts.extendComponentModel({\n  type: 'tooltip',\n  dependencies: ['axisPointer'],\n  defaultOption: {\n    zlevel: 0,\n    z: 60,\n    show: true,\n    // tooltip主体内容\n    showContent: true,\n    // 'trigger' only works on coordinate system.\n    // 'item' | 'axis' | 'none'\n    trigger: 'item',\n    // 'click' | 'mousemove' | 'none'\n    triggerOn: 'mousemove|click',\n    alwaysShowContent: false,\n    displayMode: 'single',\n    // 'single' | 'multipleByCoordSys'\n    renderMode: 'auto',\n    // 'auto' | 'html' | 'richText'\n    // 'auto': use html by default, and use non-html if `document` is not defined\n    // 'html': use html for tooltip\n    // 'richText': use canvas, svg, and etc. for tooltip\n    // 位置 {Array} | {Function}\n    // position: null\n    // Consider triggered from axisPointer handle, verticalAlign should be 'middle'\n    // align: null,\n    // verticalAlign: null,\n    // 是否约束 content 在 viewRect 中。默认 false 是为了兼容以前版本。\n    confine: false,\n    // 内容格式器：{string}（Template） ¦ {Function}\n    // formatter: null\n    showDelay: 0,\n    // 隐藏延迟，单位ms\n    hideDelay: 100,\n    // 动画变换时间，单位s\n    transitionDuration: 0.4,\n    enterable: false,\n    // 提示背景颜色，默认为透明度为0.7的黑色\n    backgroundColor: 'rgba(50,50,50,0.7)',\n    // 提示边框颜色\n    borderColor: '#333',\n    // 提示边框圆角，单位px，默认为4\n    borderRadius: 4,\n    // 提示边框线宽，单位px，默认为0（无边框）\n    borderWidth: 0,\n    // 提示内边距，单位px，默认各方向内边距为5，\n    // 接受数组分别设定上右下左边距，同css\n    padding: 5,\n    // Extra css text\n    extraCssText: '',\n    // 坐标轴指示器，坐标轴触发有效\n    axisPointer: {\n      // 默认为直线\n      // 可选为：'line' | 'shadow' | 'cross'\n      type: 'line',\n      // type 为 line 的时候有效，指定 tooltip line 所在的轴，可选\n      // 可选 'x' | 'y' | 'angle' | 'radius' | 'auto'\n      // 默认 'auto'，会选择类型为 category 的轴，对于双数值轴，笛卡尔坐标系会默认选择 x 轴\n      // 极坐标系会默认选择 angle 轴\n      axis: 'auto',\n      animation: 'auto',\n      animationDurationUpdate: 200,\n      animationEasingUpdate: 'exponentialOut',\n      crossStyle: {\n        color: '#999',\n        width: 1,\n        type: 'dashed',\n        // TODO formatter\n        textStyle: {} // lineStyle and shadowStyle should not be specified here,\n        // otherwise it will always override those styles on option.axisPointer.\n\n      }\n    },\n    textStyle: {\n      color: '#fff',\n      fontSize: 14\n    }\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar textContain = require(\"zrender/lib/contain/text\");\n\nvar _number = require(\"../../util/number\");\n\nvar parsePercent = _number.parsePercent;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// FIXME emphasis label position is not same with normal label position\nvar RADIAN = Math.PI / 180;\n\nfunction adjustSingleSide(list, cx, cy, r, dir, viewWidth, viewHeight, viewLeft, viewTop, farthestX) {\n  list.sort(function (a, b) {\n    return a.y - b.y;\n  });\n\n  function shiftDown(start, end, delta, dir) {\n    for (var j = start; j < end; j++) {\n      if (list[j].y + delta > viewTop + viewHeight) {\n        break;\n      }\n\n      list[j].y += delta;\n\n      if (j > start && j + 1 < end && list[j + 1].y > list[j].y + list[j].height) {\n        shiftUp(j, delta / 2);\n        return;\n      }\n    }\n\n    shiftUp(end - 1, delta / 2);\n  }\n\n  function shiftUp(end, delta) {\n    for (var j = end; j >= 0; j--) {\n      if (list[j].y - delta < viewTop) {\n        break;\n      }\n\n      list[j].y -= delta;\n\n      if (j > 0 && list[j].y > list[j - 1].y + list[j - 1].height) {\n        break;\n      }\n    }\n  }\n\n  function changeX(list, isDownList, cx, cy, r, dir) {\n    var lastDeltaX = dir > 0 ? isDownList // right-side\n    ? Number.MAX_VALUE // down\n    : 0 // up\n    : isDownList // left-side\n    ? Number.MAX_VALUE // down\n    : 0; // up\n\n    for (var i = 0, l = list.length; i < l; i++) {\n      if (list[i].labelAlignTo !== 'none') {\n        continue;\n      }\n\n      var deltaY = Math.abs(list[i].y - cy);\n      var length = list[i].len;\n      var length2 = list[i].len2;\n      var deltaX = deltaY < r + length ? Math.sqrt((r + length + length2) * (r + length + length2) - deltaY * deltaY) : Math.abs(list[i].x - cx);\n\n      if (isDownList && deltaX >= lastDeltaX) {\n        // right-down, left-down\n        deltaX = lastDeltaX - 10;\n      }\n\n      if (!isDownList && deltaX <= lastDeltaX) {\n        // right-up, left-up\n        deltaX = lastDeltaX + 10;\n      }\n\n      list[i].x = cx + deltaX * dir;\n      lastDeltaX = deltaX;\n    }\n  }\n\n  var lastY = 0;\n  var delta;\n  var len = list.length;\n  var upList = [];\n  var downList = [];\n\n  for (var i = 0; i < len; i++) {\n    if (list[i].position === 'outer' && list[i].labelAlignTo === 'labelLine') {\n      var dx = list[i].x - farthestX;\n      list[i].linePoints[1][0] += dx;\n      list[i].x = farthestX;\n    }\n\n    delta = list[i].y - lastY;\n\n    if (delta < 0) {\n      shiftDown(i, len, -delta, dir);\n    }\n\n    lastY = list[i].y + list[i].height;\n  }\n\n  if (viewHeight - lastY < 0) {\n    shiftUp(len - 1, lastY - viewHeight);\n  }\n\n  for (var i = 0; i < len; i++) {\n    if (list[i].y >= cy) {\n      downList.push(list[i]);\n    } else {\n      upList.push(list[i]);\n    }\n  }\n\n  changeX(upList, false, cx, cy, r, dir);\n  changeX(downList, true, cx, cy, r, dir);\n}\n\nfunction avoidOverlap(labelLayoutList, cx, cy, r, viewWidth, viewHeight, viewLeft, viewTop) {\n  var leftList = [];\n  var rightList = [];\n  var leftmostX = Number.MAX_VALUE;\n  var rightmostX = -Number.MAX_VALUE;\n\n  for (var i = 0; i < labelLayoutList.length; i++) {\n    if (isPositionCenter(labelLayoutList[i])) {\n      continue;\n    }\n\n    if (labelLayoutList[i].x < cx) {\n      leftmostX = Math.min(leftmostX, labelLayoutList[i].x);\n      leftList.push(labelLayoutList[i]);\n    } else {\n      rightmostX = Math.max(rightmostX, labelLayoutList[i].x);\n      rightList.push(labelLayoutList[i]);\n    }\n  }\n\n  adjustSingleSide(rightList, cx, cy, r, 1, viewWidth, viewHeight, viewLeft, viewTop, rightmostX);\n  adjustSingleSide(leftList, cx, cy, r, -1, viewWidth, viewHeight, viewLeft, viewTop, leftmostX);\n\n  for (var i = 0; i < labelLayoutList.length; i++) {\n    var layout = labelLayoutList[i];\n\n    if (isPositionCenter(layout)) {\n      continue;\n    }\n\n    var linePoints = layout.linePoints;\n\n    if (linePoints) {\n      var isAlignToEdge = layout.labelAlignTo === 'edge';\n      var realTextWidth = layout.textRect.width;\n      var targetTextWidth;\n\n      if (isAlignToEdge) {\n        if (layout.x < cx) {\n          targetTextWidth = linePoints[2][0] - layout.labelDistance - viewLeft - layout.labelMargin;\n        } else {\n          targetTextWidth = viewLeft + viewWidth - layout.labelMargin - linePoints[2][0] - layout.labelDistance;\n        }\n      } else {\n        if (layout.x < cx) {\n          targetTextWidth = layout.x - viewLeft - layout.bleedMargin;\n        } else {\n          targetTextWidth = viewLeft + viewWidth - layout.x - layout.bleedMargin;\n        }\n      }\n\n      if (targetTextWidth < layout.textRect.width) {\n        layout.text = textContain.truncateText(layout.text, targetTextWidth, layout.font);\n\n        if (layout.labelAlignTo === 'edge') {\n          realTextWidth = textContain.getWidth(layout.text, layout.font);\n        }\n      }\n\n      var dist = linePoints[1][0] - linePoints[2][0];\n\n      if (isAlignToEdge) {\n        if (layout.x < cx) {\n          linePoints[2][0] = viewLeft + layout.labelMargin + realTextWidth + layout.labelDistance;\n        } else {\n          linePoints[2][0] = viewLeft + viewWidth - layout.labelMargin - realTextWidth - layout.labelDistance;\n        }\n      } else {\n        if (layout.x < cx) {\n          linePoints[2][0] = layout.x + layout.labelDistance;\n        } else {\n          linePoints[2][0] = layout.x - layout.labelDistance;\n        }\n\n        linePoints[1][0] = linePoints[2][0] + dist;\n      }\n\n      linePoints[1][1] = linePoints[2][1] = layout.y;\n    }\n  }\n}\n\nfunction isPositionCenter(layout) {\n  // Not change x for center label\n  return layout.position === 'center';\n}\n\nfunction _default(seriesModel, r, viewWidth, viewHeight, viewLeft, viewTop) {\n  var data = seriesModel.getData();\n  var labelLayoutList = [];\n  var cx;\n  var cy;\n  var hasLabelRotate = false;\n  var minShowLabelRadian = (seriesModel.get('minShowLabelAngle') || 0) * RADIAN;\n  data.each(function (idx) {\n    var layout = data.getItemLayout(idx);\n    var itemModel = data.getItemModel(idx);\n    var labelModel = itemModel.getModel('label'); // Use position in normal or emphasis\n\n    var labelPosition = labelModel.get('position') || itemModel.get('emphasis.label.position');\n    var labelDistance = labelModel.get('distanceToLabelLine');\n    var labelAlignTo = labelModel.get('alignTo');\n    var labelMargin = parsePercent(labelModel.get('margin'), viewWidth);\n    var bleedMargin = labelModel.get('bleedMargin');\n    var font = labelModel.getFont();\n    var labelLineModel = itemModel.getModel('labelLine');\n    var labelLineLen = labelLineModel.get('length');\n    labelLineLen = parsePercent(labelLineLen, viewWidth);\n    var labelLineLen2 = labelLineModel.get('length2');\n    labelLineLen2 = parsePercent(labelLineLen2, viewWidth);\n\n    if (layout.angle < minShowLabelRadian) {\n      return;\n    }\n\n    var midAngle = (layout.startAngle + layout.endAngle) / 2;\n    var dx = Math.cos(midAngle);\n    var dy = Math.sin(midAngle);\n    var textX;\n    var textY;\n    var linePoints;\n    var textAlign;\n    cx = layout.cx;\n    cy = layout.cy;\n    var text = seriesModel.getFormattedLabel(idx, 'normal') || data.getName(idx);\n    var textRect = textContain.getBoundingRect(text, font, textAlign, 'top');\n    var isLabelInside = labelPosition === 'inside' || labelPosition === 'inner';\n\n    if (labelPosition === 'center') {\n      textX = layout.cx;\n      textY = layout.cy;\n      textAlign = 'center';\n    } else {\n      var x1 = (isLabelInside ? (layout.r + layout.r0) / 2 * dx : layout.r * dx) + cx;\n      var y1 = (isLabelInside ? (layout.r + layout.r0) / 2 * dy : layout.r * dy) + cy;\n      textX = x1 + dx * 3;\n      textY = y1 + dy * 3;\n\n      if (!isLabelInside) {\n        // For roseType\n        var x2 = x1 + dx * (labelLineLen + r - layout.r);\n        var y2 = y1 + dy * (labelLineLen + r - layout.r);\n        var x3 = x2 + (dx < 0 ? -1 : 1) * labelLineLen2;\n        var y3 = y2;\n\n        if (labelAlignTo === 'edge') {\n          // Adjust textX because text align of edge is opposite\n          textX = dx < 0 ? viewLeft + labelMargin : viewLeft + viewWidth - labelMargin;\n        } else {\n          textX = x3 + (dx < 0 ? -labelDistance : labelDistance);\n        }\n\n        textY = y3;\n        linePoints = [[x1, y1], [x2, y2], [x3, y3]];\n      }\n\n      textAlign = isLabelInside ? 'center' : labelAlignTo === 'edge' ? dx > 0 ? 'right' : 'left' : dx > 0 ? 'left' : 'right';\n    }\n\n    var labelRotate;\n    var rotate = labelModel.get('rotate');\n\n    if (typeof rotate === 'number') {\n      labelRotate = rotate * (Math.PI / 180);\n    } else {\n      labelRotate = rotate ? dx < 0 ? -midAngle + Math.PI : -midAngle : 0;\n    }\n\n    hasLabelRotate = !!labelRotate;\n    layout.label = {\n      x: textX,\n      y: textY,\n      position: labelPosition,\n      height: textRect.height,\n      len: labelLineLen,\n      len2: labelLineLen2,\n      linePoints: linePoints,\n      textAlign: textAlign,\n      verticalAlign: 'middle',\n      rotation: labelRotate,\n      inside: isLabelInside,\n      labelDistance: labelDistance,\n      labelAlignTo: labelAlignTo,\n      labelMargin: labelMargin,\n      bleedMargin: bleedMargin,\n      textRect: textRect,\n      text: text,\n      font: font\n    }; // Not layout the inside label\n\n    if (!isLabelInside) {\n      labelLayoutList.push(layout.label);\n    }\n  });\n\n  if (!hasLabelRotate && seriesModel.get('avoidLabelOverlap')) {\n    avoidOverlap(labelLayoutList, cx, cy, r, viewWidth, viewHeight, viewLeft, viewTop);\n  }\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nrequire(\"./pie/PieSeries\");\n\nrequire(\"./pie/PieView\");\n\nvar createDataSelectAction = require(\"../action/createDataSelectAction\");\n\nvar dataColor = require(\"../visual/dataColor\");\n\nvar pieLayout = require(\"./pie/pieLayout\");\n\nvar dataFilter = require(\"../processor/dataFilter\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\ncreateDataSelectAction('pie', [{\n  type: 'pieToggleSelect',\n  event: 'pieselectchanged',\n  method: 'toggleSelected'\n}, {\n  type: 'pieSelect',\n  event: 'pieselected',\n  method: 'select'\n}, {\n  type: 'pieUnSelect',\n  event: 'pieunselected',\n  method: 'unSelect'\n}]);\necharts.registerVisual(dataColor('pie'));\necharts.registerLayout(zrUtil.curry(pieLayout, 'pie'));\necharts.registerProcessor(dataFilter('pie'));","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * LegendVisualProvider is an bridge that pick encoded color from data and\n * provide to the legend component.\n * @param {Function} getDataWithEncodedVisual Function to get data after filtered. It stores all the encoding info\n * @param {Function} getRawData Function to get raw data before filtered.\n */\nfunction LegendVisualProvider(getDataWithEncodedVisual, getRawData) {\n  this.getAllNames = function () {\n    var rawData = getRawData(); // We find the name from the raw data. In case it's filtered by the legend component.\n    // Normally, the name can be found in rawData, but can't be found in filtered data will display as gray.\n\n    return rawData.mapArray(rawData.getName);\n  };\n\n  this.containName = function (name) {\n    var rawData = getRawData();\n    return rawData.indexOfName(name) >= 0;\n  };\n\n  this.indexOfName = function (name) {\n    // Only get data when necessary.\n    // Because LegendVisualProvider constructor may be new in the stage that data is not prepared yet.\n    // Invoking Series#getData immediately will throw an error.\n    var dataWithEncodedVisual = getDataWithEncodedVisual();\n    return dataWithEncodedVisual.indexOfName(name);\n  };\n\n  this.getItemVisual = function (dataIndex, key) {\n    // Get encoded visual properties from final filtered data.\n    var dataWithEncodedVisual = getDataWithEncodedVisual();\n    return dataWithEncodedVisual.getItemVisual(dataIndex, key);\n  };\n}\n\nvar _default = LegendVisualProvider;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar axisPointerModelHelper = require(\"./axisPointer/modelHelper\");\n\nvar axisTrigger = require(\"./axisPointer/axisTrigger\");\n\nrequire(\"./axisPointer/AxisPointerModel\");\n\nrequire(\"./axisPointer/AxisPointerView\");\n\nrequire(\"./axisPointer/CartesianAxisPointer\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// CartesianAxisPointer is not supposed to be required here. But consider\n// echarts.simple.js and online build tooltip, which only require gridSimple,\n// CartesianAxisPointer should be able to required somewhere.\necharts.registerPreprocessor(function (option) {\n  // Always has a global axisPointerModel for default setting.\n  if (option) {\n    (!option.axisPointer || option.axisPointer.length === 0) && (option.axisPointer = {});\n    var link = option.axisPointer.link; // Normalize to array to avoid object mergin. But if link\n    // is not set, remain null/undefined, otherwise it will\n    // override existent link setting.\n\n    if (link && !zrUtil.isArray(link)) {\n      option.axisPointer.link = [link];\n    }\n  }\n}); // This process should proformed after coordinate systems created\n// and series data processed. So put it on statistic processing stage.\n\necharts.registerProcessor(echarts.PRIORITY.PROCESSOR.STATISTIC, function (ecModel, api) {\n  // Build axisPointerModel, mergin tooltip.axisPointer model for each axis.\n  // allAxesInfo should be updated when setOption performed.\n  ecModel.getComponent('axisPointer').coordSysAxesInfo = axisPointerModelHelper.collect(ecModel, api);\n}); // Broadcast to all views.\n\necharts.registerAction({\n  type: 'updateAxisPointer',\n  event: 'updateAxisPointer',\n  update: ':updateAxisPointer'\n}, axisTrigger);","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar Model = require(\"../../model/Model\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar each = zrUtil.each;\nvar curry = zrUtil.curry; // Build axisPointerModel, mergin tooltip.axisPointer model for each axis.\n// allAxesInfo should be updated when setOption performed.\n\nfunction collect(ecModel, api) {\n  var result = {\n    /**\n     * key: makeKey(axis.model)\n     * value: {\n     *      axis,\n     *      coordSys,\n     *      axisPointerModel,\n     *      triggerTooltip,\n     *      involveSeries,\n     *      snap,\n     *      seriesModels,\n     *      seriesDataCount\n     * }\n     */\n    axesInfo: {},\n    seriesInvolved: false,\n\n    /**\n     * key: makeKey(coordSys.model)\n     * value: Object: key makeKey(axis.model), value: axisInfo\n     */\n    coordSysAxesInfo: {},\n    coordSysMap: {}\n  };\n  collectAxesInfo(result, ecModel, api); // Check seriesInvolved for performance, in case too many series in some chart.\n\n  result.seriesInvolved && collectSeriesInfo(result, ecModel);\n  return result;\n}\n\nfunction collectAxesInfo(result, ecModel, api) {\n  var globalTooltipModel = ecModel.getComponent('tooltip');\n  var globalAxisPointerModel = ecModel.getComponent('axisPointer'); // links can only be set on global.\n\n  var linksOption = globalAxisPointerModel.get('link', true) || [];\n  var linkGroups = []; // Collect axes info.\n\n  each(api.getCoordinateSystems(), function (coordSys) {\n    // Some coordinate system do not support axes, like geo.\n    if (!coordSys.axisPointerEnabled) {\n      return;\n    }\n\n    var coordSysKey = makeKey(coordSys.model);\n    var axesInfoInCoordSys = result.coordSysAxesInfo[coordSysKey] = {};\n    result.coordSysMap[coordSysKey] = coordSys; // Set tooltip (like 'cross') is a convienent way to show axisPointer\n    // for user. So we enable seting tooltip on coordSys model.\n\n    var coordSysModel = coordSys.model;\n    var baseTooltipModel = coordSysModel.getModel('tooltip', globalTooltipModel);\n    each(coordSys.getAxes(), curry(saveTooltipAxisInfo, false, null)); // If axis tooltip used, choose tooltip axis for each coordSys.\n    // Notice this case: coordSys is `grid` but not `cartesian2D` here.\n\n    if (coordSys.getTooltipAxes && globalTooltipModel // If tooltip.showContent is set as false, tooltip will not\n    // show but axisPointer will show as normal.\n    && baseTooltipModel.get('show')) {\n      // Compatible with previous logic. But series.tooltip.trigger: 'axis'\n      // or series.data[n].tooltip.trigger: 'axis' are not support any more.\n      var triggerAxis = baseTooltipModel.get('trigger') === 'axis';\n      var cross = baseTooltipModel.get('axisPointer.type') === 'cross';\n      var tooltipAxes = coordSys.getTooltipAxes(baseTooltipModel.get('axisPointer.axis'));\n\n      if (triggerAxis || cross) {\n        each(tooltipAxes.baseAxes, curry(saveTooltipAxisInfo, cross ? 'cross' : true, triggerAxis));\n      }\n\n      if (cross) {\n        each(tooltipAxes.otherAxes, curry(saveTooltipAxisInfo, 'cross', false));\n      }\n    } // fromTooltip: true | false | 'cross'\n    // triggerTooltip: true | false | null\n\n\n    function saveTooltipAxisInfo(fromTooltip, triggerTooltip, axis) {\n      var axisPointerModel = axis.model.getModel('axisPointer', globalAxisPointerModel);\n      var axisPointerShow = axisPointerModel.get('show');\n\n      if (!axisPointerShow || axisPointerShow === 'auto' && !fromTooltip && !isHandleTrigger(axisPointerModel)) {\n        return;\n      }\n\n      if (triggerTooltip == null) {\n        triggerTooltip = axisPointerModel.get('triggerTooltip');\n      }\n\n      axisPointerModel = fromTooltip ? makeAxisPointerModel(axis, baseTooltipModel, globalAxisPointerModel, ecModel, fromTooltip, triggerTooltip) : axisPointerModel;\n      var snap = axisPointerModel.get('snap');\n      var key = makeKey(axis.model);\n      var involveSeries = triggerTooltip || snap || axis.type === 'category'; // If result.axesInfo[key] exist, override it (tooltip has higher priority).\n\n      var axisInfo = result.axesInfo[key] = {\n        key: key,\n        axis: axis,\n        coordSys: coordSys,\n        axisPointerModel: axisPointerModel,\n        triggerTooltip: triggerTooltip,\n        involveSeries: involveSeries,\n        snap: snap,\n        useHandle: isHandleTrigger(axisPointerModel),\n        seriesModels: []\n      };\n      axesInfoInCoordSys[key] = axisInfo;\n      result.seriesInvolved |= involveSeries;\n      var groupIndex = getLinkGroupIndex(linksOption, axis);\n\n      if (groupIndex != null) {\n        var linkGroup = linkGroups[groupIndex] || (linkGroups[groupIndex] = {\n          axesInfo: {}\n        });\n        linkGroup.axesInfo[key] = axisInfo;\n        linkGroup.mapper = linksOption[groupIndex].mapper;\n        axisInfo.linkGroup = linkGroup;\n      }\n    }\n  });\n}\n\nfunction makeAxisPointerModel(axis, baseTooltipModel, globalAxisPointerModel, ecModel, fromTooltip, triggerTooltip) {\n  var tooltipAxisPointerModel = baseTooltipModel.getModel('axisPointer');\n  var volatileOption = {};\n  each(['type', 'snap', 'lineStyle', 'shadowStyle', 'label', 'animation', 'animationDurationUpdate', 'animationEasingUpdate', 'z'], function (field) {\n    volatileOption[field] = zrUtil.clone(tooltipAxisPointerModel.get(field));\n  }); // category axis do not auto snap, otherwise some tick that do not\n  // has value can not be hovered. value/time/log axis default snap if\n  // triggered from tooltip and trigger tooltip.\n\n  volatileOption.snap = axis.type !== 'category' && !!triggerTooltip; // Compatibel with previous behavior, tooltip axis do not show label by default.\n  // Only these properties can be overrided from tooltip to axisPointer.\n\n  if (tooltipAxisPointerModel.get('type') === 'cross') {\n    volatileOption.type = 'line';\n  }\n\n  var labelOption = volatileOption.label || (volatileOption.label = {}); // Follow the convention, do not show label when triggered by tooltip by default.\n\n  labelOption.show == null && (labelOption.show = false);\n\n  if (fromTooltip === 'cross') {\n    // When 'cross', both axes show labels.\n    var tooltipAxisPointerLabelShow = tooltipAxisPointerModel.get('label.show');\n    labelOption.show = tooltipAxisPointerLabelShow != null ? tooltipAxisPointerLabelShow : true; // If triggerTooltip, this is a base axis, which should better not use cross style\n    // (cross style is dashed by default)\n\n    if (!triggerTooltip) {\n      var crossStyle = volatileOption.lineStyle = tooltipAxisPointerModel.get('crossStyle');\n      crossStyle && zrUtil.defaults(labelOption, crossStyle.textStyle);\n    }\n  }\n\n  return axis.model.getModel('axisPointer', new Model(volatileOption, globalAxisPointerModel, ecModel));\n}\n\nfunction collectSeriesInfo(result, ecModel) {\n  // Prepare data for axis trigger\n  ecModel.eachSeries(function (seriesModel) {\n    // Notice this case: this coordSys is `cartesian2D` but not `grid`.\n    var coordSys = seriesModel.coordinateSystem;\n    var seriesTooltipTrigger = seriesModel.get('tooltip.trigger', true);\n    var seriesTooltipShow = seriesModel.get('tooltip.show', true);\n\n    if (!coordSys || seriesTooltipTrigger === 'none' || seriesTooltipTrigger === false || seriesTooltipTrigger === 'item' || seriesTooltipShow === false || seriesModel.get('axisPointer.show', true) === false) {\n      return;\n    }\n\n    each(result.coordSysAxesInfo[makeKey(coordSys.model)], function (axisInfo) {\n      var axis = axisInfo.axis;\n\n      if (coordSys.getAxis(axis.dim) === axis) {\n        axisInfo.seriesModels.push(seriesModel);\n        axisInfo.seriesDataCount == null && (axisInfo.seriesDataCount = 0);\n        axisInfo.seriesDataCount += seriesModel.getData().count();\n      }\n    });\n  }, this);\n}\n/**\n * For example:\n * {\n *     axisPointer: {\n *         links: [{\n *             xAxisIndex: [2, 4],\n *             yAxisIndex: 'all'\n *         }, {\n *             xAxisId: ['a5', 'a7'],\n *             xAxisName: 'xxx'\n *         }]\n *     }\n * }\n */\n\n\nfunction getLinkGroupIndex(linksOption, axis) {\n  var axisModel = axis.model;\n  var dim = axis.dim;\n\n  for (var i = 0; i < linksOption.length; i++) {\n    var linkOption = linksOption[i] || {};\n\n    if (checkPropInLink(linkOption[dim + 'AxisId'], axisModel.id) || checkPropInLink(linkOption[dim + 'AxisIndex'], axisModel.componentIndex) || checkPropInLink(linkOption[dim + 'AxisName'], axisModel.name)) {\n      return i;\n    }\n  }\n}\n\nfunction checkPropInLink(linkPropValue, axisPropValue) {\n  return linkPropValue === 'all' || zrUtil.isArray(linkPropValue) && zrUtil.indexOf(linkPropValue, axisPropValue) >= 0 || linkPropValue === axisPropValue;\n}\n\nfunction fixValue(axisModel) {\n  var axisInfo = getAxisInfo(axisModel);\n\n  if (!axisInfo) {\n    return;\n  }\n\n  var axisPointerModel = axisInfo.axisPointerModel;\n  var scale = axisInfo.axis.scale;\n  var option = axisPointerModel.option;\n  var status = axisPointerModel.get('status');\n  var value = axisPointerModel.get('value'); // Parse init value for category and time axis.\n\n  if (value != null) {\n    value = scale.parse(value);\n  }\n\n  var useHandle = isHandleTrigger(axisPointerModel); // If `handle` used, `axisPointer` will always be displayed, so value\n  // and status should be initialized.\n\n  if (status == null) {\n    option.status = useHandle ? 'show' : 'hide';\n  }\n\n  var extent = scale.getExtent().slice();\n  extent[0] > extent[1] && extent.reverse();\n\n  if ( // Pick a value on axis when initializing.\n  value == null // If both `handle` and `dataZoom` are used, value may be out of axis extent,\n  // where we should re-pick a value to keep `handle` displaying normally.\n  || value > extent[1]) {\n    // Make handle displayed on the end of the axis when init, which looks better.\n    value = extent[1];\n  }\n\n  if (value < extent[0]) {\n    value = extent[0];\n  }\n\n  option.value = value;\n\n  if (useHandle) {\n    option.status = axisInfo.axis.scale.isBlank() ? 'hide' : 'show';\n  }\n}\n\nfunction getAxisInfo(axisModel) {\n  var coordSysAxesInfo = (axisModel.ecModel.getComponent('axisPointer') || {}).coordSysAxesInfo;\n  return coordSysAxesInfo && coordSysAxesInfo.axesInfo[makeKey(axisModel)];\n}\n\nfunction getAxisPointerModel(axisModel) {\n  var axisInfo = getAxisInfo(axisModel);\n  return axisInfo && axisInfo.axisPointerModel;\n}\n\nfunction isHandleTrigger(axisPointerModel) {\n  return !!axisPointerModel.get('handle.show');\n}\n/**\n * @param {module:echarts/model/Model} model\n * @return {string} unique key\n */\n\n\nfunction makeKey(model) {\n  return model.type + '||' + model.id;\n}\n\nexports.collect = collect;\nexports.fixValue = fixValue;\nexports.getAxisInfo = getAxisInfo;\nexports.getAxisPointerModel = getAxisPointerModel;\nexports.makeKey = makeKey;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nrequire(\"./legend/LegendModel\");\n\nrequire(\"./legend/legendAction\");\n\nrequire(\"./legend/LegendView\");\n\nvar legendFilter = require(\"./legend/legendFilter\");\n\nvar Component = require(\"../model/Component\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Do not contain scrollable legend, for sake of file size.\n// Series Filter\necharts.registerProcessor(echarts.PRIORITY.PROCESSOR.SERIES_FILTER, legendFilter);\nComponent.registerSubTypeDefaulter('legend', function () {\n  // Default 'plain' when no type specified.\n  return 'plain';\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction _default(seriesType) {\n  return {\n    seriesType: seriesType,\n    reset: function (seriesModel, ecModel) {\n      var legendModels = ecModel.findComponents({\n        mainType: 'legend'\n      });\n\n      if (!legendModels || !legendModels.length) {\n        return;\n      }\n\n      var data = seriesModel.getData();\n      data.filterSelf(function (idx) {\n        var name = data.getName(idx); // If in any legend component the status is not selected.\n\n        for (var i = 0; i < legendModels.length; i++) {\n          if (!legendModels[i].isSelected(name)) {\n            return false;\n          }\n        }\n\n        return true;\n      });\n    }\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar globalListener = require(\"./globalListener\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar AxisPointerView = echarts.extendComponentView({\n  type: 'axisPointer',\n  render: function (globalAxisPointerModel, ecModel, api) {\n    var globalTooltipModel = ecModel.getComponent('tooltip');\n    var triggerOn = globalAxisPointerModel.get('triggerOn') || globalTooltipModel && globalTooltipModel.get('triggerOn') || 'mousemove|click'; // Register global listener in AxisPointerView to enable\n    // AxisPointerView to be independent to Tooltip.\n\n    globalListener.register('axisPointer', api, function (currTrigger, e, dispatchAction) {\n      // If 'none', it is not controlled by mouse totally.\n      if (triggerOn !== 'none' && (currTrigger === 'leave' || triggerOn.indexOf(currTrigger) >= 0)) {\n        dispatchAction({\n          type: 'updateAxisPointer',\n          currTrigger: currTrigger,\n          x: e && e.offsetX,\n          y: e && e.offsetY\n        });\n      }\n    });\n  },\n\n  /**\n   * @override\n   */\n  remove: function (ecModel, api) {\n    globalListener.unregister(api.getZr(), 'axisPointer');\n    AxisPointerView.superApply(this._model, 'remove', arguments);\n  },\n\n  /**\n   * @override\n   */\n  dispose: function (ecModel, api) {\n    globalListener.unregister('axisPointer', api);\n    AxisPointerView.superApply(this._model, 'dispose', arguments);\n  }\n});\nvar _default = AxisPointerView;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar clazzUtil = require(\"../../util/clazz\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar axisPointerModelHelper = require(\"./modelHelper\");\n\nvar eventTool = require(\"zrender/lib/core/event\");\n\nvar throttleUtil = require(\"../../util/throttle\");\n\nvar _model = require(\"../../util/model\");\n\nvar makeInner = _model.makeInner;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar inner = makeInner();\nvar clone = zrUtil.clone;\nvar bind = zrUtil.bind;\n/**\n * Base axis pointer class in 2D.\n * Implemenents {module:echarts/component/axis/IAxisPointer}.\n */\n\nfunction BaseAxisPointer() {}\n\nBaseAxisPointer.prototype = {\n  /**\n   * @private\n   */\n  _group: null,\n\n  /**\n   * @private\n   */\n  _lastGraphicKey: null,\n\n  /**\n   * @private\n   */\n  _handle: null,\n\n  /**\n   * @private\n   */\n  _dragging: false,\n\n  /**\n   * @private\n   */\n  _lastValue: null,\n\n  /**\n   * @private\n   */\n  _lastStatus: null,\n\n  /**\n   * @private\n   */\n  _payloadInfo: null,\n\n  /**\n   * In px, arbitrary value. Do not set too small,\n   * no animation is ok for most cases.\n   * @protected\n   */\n  animationThreshold: 15,\n\n  /**\n   * @implement\n   */\n  render: function (axisModel, axisPointerModel, api, forceRender) {\n    var value = axisPointerModel.get('value');\n    var status = axisPointerModel.get('status'); // Bind them to `this`, not in closure, otherwise they will not\n    // be replaced when user calling setOption in not merge mode.\n\n    this._axisModel = axisModel;\n    this._axisPointerModel = axisPointerModel;\n    this._api = api; // Optimize: `render` will be called repeatly during mouse move.\n    // So it is power consuming if performing `render` each time,\n    // especially on mobile device.\n\n    if (!forceRender && this._lastValue === value && this._lastStatus === status) {\n      return;\n    }\n\n    this._lastValue = value;\n    this._lastStatus = status;\n    var group = this._group;\n    var handle = this._handle;\n\n    if (!status || status === 'hide') {\n      // Do not clear here, for animation better.\n      group && group.hide();\n      handle && handle.hide();\n      return;\n    }\n\n    group && group.show();\n    handle && handle.show(); // Otherwise status is 'show'\n\n    var elOption = {};\n    this.makeElOption(elOption, value, axisModel, axisPointerModel, api); // Enable change axis pointer type.\n\n    var graphicKey = elOption.graphicKey;\n\n    if (graphicKey !== this._lastGraphicKey) {\n      this.clear(api);\n    }\n\n    this._lastGraphicKey = graphicKey;\n    var moveAnimation = this._moveAnimation = this.determineAnimation(axisModel, axisPointerModel);\n\n    if (!group) {\n      group = this._group = new graphic.Group();\n      this.createPointerEl(group, elOption, axisModel, axisPointerModel);\n      this.createLabelEl(group, elOption, axisModel, axisPointerModel);\n      api.getZr().add(group);\n    } else {\n      var doUpdateProps = zrUtil.curry(updateProps, axisPointerModel, moveAnimation);\n      this.updatePointerEl(group, elOption, doUpdateProps, axisPointerModel);\n      this.updateLabelEl(group, elOption, doUpdateProps, axisPointerModel);\n    }\n\n    updateMandatoryProps(group, axisPointerModel, true);\n\n    this._renderHandle(value);\n  },\n\n  /**\n   * @implement\n   */\n  remove: function (api) {\n    this.clear(api);\n  },\n\n  /**\n   * @implement\n   */\n  dispose: function (api) {\n    this.clear(api);\n  },\n\n  /**\n   * @protected\n   */\n  determineAnimation: function (axisModel, axisPointerModel) {\n    var animation = axisPointerModel.get('animation');\n    var axis = axisModel.axis;\n    var isCategoryAxis = axis.type === 'category';\n    var useSnap = axisPointerModel.get('snap'); // Value axis without snap always do not snap.\n\n    if (!useSnap && !isCategoryAxis) {\n      return false;\n    }\n\n    if (animation === 'auto' || animation == null) {\n      var animationThreshold = this.animationThreshold;\n\n      if (isCategoryAxis && axis.getBandWidth() > animationThreshold) {\n        return true;\n      } // It is important to auto animation when snap used. Consider if there is\n      // a dataZoom, animation will be disabled when too many points exist, while\n      // it will be enabled for better visual effect when little points exist.\n\n\n      if (useSnap) {\n        var seriesDataCount = axisPointerModelHelper.getAxisInfo(axisModel).seriesDataCount;\n        var axisExtent = axis.getExtent(); // Approximate band width\n\n        return Math.abs(axisExtent[0] - axisExtent[1]) / seriesDataCount > animationThreshold;\n      }\n\n      return false;\n    }\n\n    return animation === true;\n  },\n\n  /**\n   * add {pointer, label, graphicKey} to elOption\n   * @protected\n   */\n  makeElOption: function (elOption, value, axisModel, axisPointerModel, api) {// Shoule be implemenented by sub-class.\n  },\n\n  /**\n   * @protected\n   */\n  createPointerEl: function (group, elOption, axisModel, axisPointerModel) {\n    var pointerOption = elOption.pointer;\n\n    if (pointerOption) {\n      var pointerEl = inner(group).pointerEl = new graphic[pointerOption.type](clone(elOption.pointer));\n      group.add(pointerEl);\n    }\n  },\n\n  /**\n   * @protected\n   */\n  createLabelEl: function (group, elOption, axisModel, axisPointerModel) {\n    if (elOption.label) {\n      var labelEl = inner(group).labelEl = new graphic.Rect(clone(elOption.label));\n      group.add(labelEl);\n      updateLabelShowHide(labelEl, axisPointerModel);\n    }\n  },\n\n  /**\n   * @protected\n   */\n  updatePointerEl: function (group, elOption, updateProps) {\n    var pointerEl = inner(group).pointerEl;\n\n    if (pointerEl && elOption.pointer) {\n      pointerEl.setStyle(elOption.pointer.style);\n      updateProps(pointerEl, {\n        shape: elOption.pointer.shape\n      });\n    }\n  },\n\n  /**\n   * @protected\n   */\n  updateLabelEl: function (group, elOption, updateProps, axisPointerModel) {\n    var labelEl = inner(group).labelEl;\n\n    if (labelEl) {\n      labelEl.setStyle(elOption.label.style);\n      updateProps(labelEl, {\n        // Consider text length change in vertical axis, animation should\n        // be used on shape, otherwise the effect will be weird.\n        shape: elOption.label.shape,\n        position: elOption.label.position\n      });\n      updateLabelShowHide(labelEl, axisPointerModel);\n    }\n  },\n\n  /**\n   * @private\n   */\n  _renderHandle: function (value) {\n    if (this._dragging || !this.updateHandleTransform) {\n      return;\n    }\n\n    var axisPointerModel = this._axisPointerModel;\n\n    var zr = this._api.getZr();\n\n    var handle = this._handle;\n    var handleModel = axisPointerModel.getModel('handle');\n    var status = axisPointerModel.get('status');\n\n    if (!handleModel.get('show') || !status || status === 'hide') {\n      handle && zr.remove(handle);\n      this._handle = null;\n      return;\n    }\n\n    var isInit;\n\n    if (!this._handle) {\n      isInit = true;\n      handle = this._handle = graphic.createIcon(handleModel.get('icon'), {\n        cursor: 'move',\n        draggable: true,\n        onmousemove: function (e) {\n          // Fot mobile devicem, prevent screen slider on the button.\n          eventTool.stop(e.event);\n        },\n        onmousedown: bind(this._onHandleDragMove, this, 0, 0),\n        drift: bind(this._onHandleDragMove, this),\n        ondragend: bind(this._onHandleDragEnd, this)\n      });\n      zr.add(handle);\n    }\n\n    updateMandatoryProps(handle, axisPointerModel, false); // update style\n\n    var includeStyles = ['color', 'borderColor', 'borderWidth', 'opacity', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY'];\n    handle.setStyle(handleModel.getItemStyle(null, includeStyles)); // update position\n\n    var handleSize = handleModel.get('size');\n\n    if (!zrUtil.isArray(handleSize)) {\n      handleSize = [handleSize, handleSize];\n    }\n\n    handle.attr('scale', [handleSize[0] / 2, handleSize[1] / 2]);\n    throttleUtil.createOrUpdate(this, '_doDispatchAxisPointer', handleModel.get('throttle') || 0, 'fixRate');\n\n    this._moveHandleToValue(value, isInit);\n  },\n\n  /**\n   * @private\n   */\n  _moveHandleToValue: function (value, isInit) {\n    updateProps(this._axisPointerModel, !isInit && this._moveAnimation, this._handle, getHandleTransProps(this.getHandleTransform(value, this._axisModel, this._axisPointerModel)));\n  },\n\n  /**\n   * @private\n   */\n  _onHandleDragMove: function (dx, dy) {\n    var handle = this._handle;\n\n    if (!handle) {\n      return;\n    }\n\n    this._dragging = true; // Persistent for throttle.\n\n    var trans = this.updateHandleTransform(getHandleTransProps(handle), [dx, dy], this._axisModel, this._axisPointerModel);\n    this._payloadInfo = trans;\n    handle.stopAnimation();\n    handle.attr(getHandleTransProps(trans));\n    inner(handle).lastProp = null;\n\n    this._doDispatchAxisPointer();\n  },\n\n  /**\n   * Throttled method.\n   * @private\n   */\n  _doDispatchAxisPointer: function () {\n    var handle = this._handle;\n\n    if (!handle) {\n      return;\n    }\n\n    var payloadInfo = this._payloadInfo;\n    var axisModel = this._axisModel;\n\n    this._api.dispatchAction({\n      type: 'updateAxisPointer',\n      x: payloadInfo.cursorPoint[0],\n      y: payloadInfo.cursorPoint[1],\n      tooltipOption: payloadInfo.tooltipOption,\n      axesInfo: [{\n        axisDim: axisModel.axis.dim,\n        axisIndex: axisModel.componentIndex\n      }]\n    });\n  },\n\n  /**\n   * @private\n   */\n  _onHandleDragEnd: function (moveAnimation) {\n    this._dragging = false;\n    var handle = this._handle;\n\n    if (!handle) {\n      return;\n    }\n\n    var value = this._axisPointerModel.get('value'); // Consider snap or categroy axis, handle may be not consistent with\n    // axisPointer. So move handle to align the exact value position when\n    // drag ended.\n\n\n    this._moveHandleToValue(value); // For the effect: tooltip will be shown when finger holding on handle\n    // button, and will be hidden after finger left handle button.\n\n\n    this._api.dispatchAction({\n      type: 'hideTip'\n    });\n  },\n\n  /**\n   * Should be implemenented by sub-class if support `handle`.\n   * @protected\n   * @param {number} value\n   * @param {module:echarts/model/Model} axisModel\n   * @param {module:echarts/model/Model} axisPointerModel\n   * @return {Object} {position: [x, y], rotation: 0}\n   */\n  getHandleTransform: null,\n\n  /**\n   * * Should be implemenented by sub-class if support `handle`.\n   * @protected\n   * @param {Object} transform {position, rotation}\n   * @param {Array.<number>} delta [dx, dy]\n   * @param {module:echarts/model/Model} axisModel\n   * @param {module:echarts/model/Model} axisPointerModel\n   * @return {Object} {position: [x, y], rotation: 0, cursorPoint: [x, y]}\n   */\n  updateHandleTransform: null,\n\n  /**\n   * @private\n   */\n  clear: function (api) {\n    this._lastValue = null;\n    this._lastStatus = null;\n    var zr = api.getZr();\n    var group = this._group;\n    var handle = this._handle;\n\n    if (zr && group) {\n      this._lastGraphicKey = null;\n      group && zr.remove(group);\n      handle && zr.remove(handle);\n      this._group = null;\n      this._handle = null;\n      this._payloadInfo = null;\n    }\n  },\n\n  /**\n   * @protected\n   */\n  doClear: function () {// Implemented by sub-class if necessary.\n  },\n\n  /**\n   * @protected\n   * @param {Array.<number>} xy\n   * @param {Array.<number>} wh\n   * @param {number} [xDimIndex=0] or 1\n   */\n  buildLabel: function (xy, wh, xDimIndex) {\n    xDimIndex = xDimIndex || 0;\n    return {\n      x: xy[xDimIndex],\n      y: xy[1 - xDimIndex],\n      width: wh[xDimIndex],\n      height: wh[1 - xDimIndex]\n    };\n  }\n};\nBaseAxisPointer.prototype.constructor = BaseAxisPointer;\n\nfunction updateProps(animationModel, moveAnimation, el, props) {\n  // Animation optimize.\n  if (!propsEqual(inner(el).lastProp, props)) {\n    inner(el).lastProp = props;\n    moveAnimation ? graphic.updateProps(el, props, animationModel) : (el.stopAnimation(), el.attr(props));\n  }\n}\n\nfunction propsEqual(lastProps, newProps) {\n  if (zrUtil.isObject(lastProps) && zrUtil.isObject(newProps)) {\n    var equals = true;\n    zrUtil.each(newProps, function (item, key) {\n      equals = equals && propsEqual(lastProps[key], item);\n    });\n    return !!equals;\n  } else {\n    return lastProps === newProps;\n  }\n}\n\nfunction updateLabelShowHide(labelEl, axisPointerModel) {\n  labelEl[axisPointerModel.get('label.show') ? 'show' : 'hide']();\n}\n\nfunction getHandleTransProps(trans) {\n  return {\n    position: trans.position.slice(),\n    rotation: trans.rotation || 0\n  };\n}\n\nfunction updateMandatoryProps(group, axisPointerModel, silent) {\n  var z = axisPointerModel.get('z');\n  var zlevel = axisPointerModel.get('zlevel');\n  group && group.traverse(function (el) {\n    if (el.type !== 'group') {\n      z != null && (el.z = z);\n      zlevel != null && (el.zlevel = zlevel);\n      el.silent = silent;\n    }\n  });\n}\n\nclazzUtil.enableClassExtend(BaseAxisPointer);\nvar _default = BaseAxisPointer;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar createDimensions = require(\"../../data/helper/createDimensions\");\n\nvar List = require(\"../../data/List\");\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar extend = _util.extend;\nvar isArray = _util.isArray;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * [Usage]:\n * (1)\n * createListSimply(seriesModel, ['value']);\n * (2)\n * createListSimply(seriesModel, {\n *     coordDimensions: ['value'],\n *     dimensionsCount: 5\n * });\n *\n * @param {module:echarts/model/Series} seriesModel\n * @param {Object|Array.<string|Object>} opt opt or coordDimensions\n *        The options in opt, see `echarts/data/helper/createDimensions`\n * @param {Array.<string>} [nameList]\n * @return {module:echarts/data/List}\n */\nfunction _default(seriesModel, opt, nameList) {\n  opt = isArray(opt) && {\n    coordDimensions: opt\n  } || extend({}, opt);\n  var source = seriesModel.getSource();\n  var dimensionsInfo = createDimensions(source, opt);\n  var list = new List(dimensionsInfo, seriesModel);\n  list.initData(source, nameList);\n  return list;\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _model = require(\"../../util/model\");\n\nvar makeInner = _model.makeInner;\n\nvar modelHelper = require(\"./modelHelper\");\n\nvar findPointFromSeries = require(\"./findPointFromSeries\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar each = zrUtil.each;\nvar curry = zrUtil.curry;\nvar inner = makeInner();\n/**\n * Basic logic: check all axis, if they do not demand show/highlight,\n * then hide/downplay them.\n *\n * @param {Object} coordSysAxesInfo\n * @param {Object} payload\n * @param {string} [payload.currTrigger] 'click' | 'mousemove' | 'leave'\n * @param {Array.<number>} [payload.x] x and y, which are mandatory, specify a point to\n *              trigger axisPointer and tooltip.\n * @param {Array.<number>} [payload.y] x and y, which are mandatory, specify a point to\n *              trigger axisPointer and tooltip.\n * @param {Object} [payload.seriesIndex] finder, optional, restrict target axes.\n * @param {Object} [payload.dataIndex] finder, restrict target axes.\n * @param {Object} [payload.axesInfo] finder, restrict target axes.\n *        [{\n *          axisDim: 'x'|'y'|'angle'|...,\n *          axisIndex: ...,\n *          value: ...\n *        }, ...]\n * @param {Function} [payload.dispatchAction]\n * @param {Object} [payload.tooltipOption]\n * @param {Object|Array.<number>|Function} [payload.position] Tooltip position,\n *        which can be specified in dispatchAction\n * @param {module:echarts/model/Global} ecModel\n * @param {module:echarts/ExtensionAPI} api\n * @return {Object} content of event obj for echarts.connect.\n */\n\nfunction _default(payload, ecModel, api) {\n  var currTrigger = payload.currTrigger;\n  var point = [payload.x, payload.y];\n  var finder = payload;\n  var dispatchAction = payload.dispatchAction || zrUtil.bind(api.dispatchAction, api);\n  var coordSysAxesInfo = ecModel.getComponent('axisPointer').coordSysAxesInfo; // Pending\n  // See #6121. But we are not able to reproduce it yet.\n\n  if (!coordSysAxesInfo) {\n    return;\n  }\n\n  if (illegalPoint(point)) {\n    // Used in the default behavior of `connection`: use the sample seriesIndex\n    // and dataIndex. And also used in the tooltipView trigger.\n    point = findPointFromSeries({\n      seriesIndex: finder.seriesIndex,\n      // Do not use dataIndexInside from other ec instance.\n      // FIXME: auto detect it?\n      dataIndex: finder.dataIndex\n    }, ecModel).point;\n  }\n\n  var isIllegalPoint = illegalPoint(point); // Axis and value can be specified when calling dispatchAction({type: 'updateAxisPointer'}).\n  // Notice: In this case, it is difficult to get the `point` (which is necessary to show\n  // tooltip, so if point is not given, we just use the point found by sample seriesIndex\n  // and dataIndex.\n\n  var inputAxesInfo = finder.axesInfo;\n  var axesInfo = coordSysAxesInfo.axesInfo;\n  var shouldHide = currTrigger === 'leave' || illegalPoint(point);\n  var outputFinder = {};\n  var showValueMap = {};\n  var dataByCoordSys = {\n    list: [],\n    map: {}\n  };\n  var updaters = {\n    showPointer: curry(showPointer, showValueMap),\n    showTooltip: curry(showTooltip, dataByCoordSys)\n  }; // Process for triggered axes.\n\n  each(coordSysAxesInfo.coordSysMap, function (coordSys, coordSysKey) {\n    // If a point given, it must be contained by the coordinate system.\n    var coordSysContainsPoint = isIllegalPoint || coordSys.containPoint(point);\n    each(coordSysAxesInfo.coordSysAxesInfo[coordSysKey], function (axisInfo, key) {\n      var axis = axisInfo.axis;\n      var inputAxisInfo = findInputAxisInfo(inputAxesInfo, axisInfo); // If no inputAxesInfo, no axis is restricted.\n\n      if (!shouldHide && coordSysContainsPoint && (!inputAxesInfo || inputAxisInfo)) {\n        var val = inputAxisInfo && inputAxisInfo.value;\n\n        if (val == null && !isIllegalPoint) {\n          val = axis.pointToData(point);\n        }\n\n        val != null && processOnAxis(axisInfo, val, updaters, false, outputFinder);\n      }\n    });\n  }); // Process for linked axes.\n\n  var linkTriggers = {};\n  each(axesInfo, function (tarAxisInfo, tarKey) {\n    var linkGroup = tarAxisInfo.linkGroup; // If axis has been triggered in the previous stage, it should not be triggered by link.\n\n    if (linkGroup && !showValueMap[tarKey]) {\n      each(linkGroup.axesInfo, function (srcAxisInfo, srcKey) {\n        var srcValItem = showValueMap[srcKey]; // If srcValItem exist, source axis is triggered, so link to target axis.\n\n        if (srcAxisInfo !== tarAxisInfo && srcValItem) {\n          var val = srcValItem.value;\n          linkGroup.mapper && (val = tarAxisInfo.axis.scale.parse(linkGroup.mapper(val, makeMapperParam(srcAxisInfo), makeMapperParam(tarAxisInfo))));\n          linkTriggers[tarAxisInfo.key] = val;\n        }\n      });\n    }\n  });\n  each(linkTriggers, function (val, tarKey) {\n    processOnAxis(axesInfo[tarKey], val, updaters, true, outputFinder);\n  });\n  updateModelActually(showValueMap, axesInfo, outputFinder);\n  dispatchTooltipActually(dataByCoordSys, point, payload, dispatchAction);\n  dispatchHighDownActually(axesInfo, dispatchAction, api);\n  return outputFinder;\n}\n\nfunction processOnAxis(axisInfo, newValue, updaters, dontSnap, outputFinder) {\n  var axis = axisInfo.axis;\n\n  if (axis.scale.isBlank() || !axis.containData(newValue)) {\n    return;\n  }\n\n  if (!axisInfo.involveSeries) {\n    updaters.showPointer(axisInfo, newValue);\n    return;\n  } // Heavy calculation. So put it after axis.containData checking.\n\n\n  var payloadInfo = buildPayloadsBySeries(newValue, axisInfo);\n  var payloadBatch = payloadInfo.payloadBatch;\n  var snapToValue = payloadInfo.snapToValue; // Fill content of event obj for echarts.connect.\n  // By defualt use the first involved series data as a sample to connect.\n\n  if (payloadBatch[0] && outputFinder.seriesIndex == null) {\n    zrUtil.extend(outputFinder, payloadBatch[0]);\n  } // If no linkSource input, this process is for collecting link\n  // target, where snap should not be accepted.\n\n\n  if (!dontSnap && axisInfo.snap) {\n    if (axis.containData(snapToValue) && snapToValue != null) {\n      newValue = snapToValue;\n    }\n  }\n\n  updaters.showPointer(axisInfo, newValue, payloadBatch, outputFinder); // Tooltip should always be snapToValue, otherwise there will be\n  // incorrect \"axis value ~ series value\" mapping displayed in tooltip.\n\n  updaters.showTooltip(axisInfo, payloadInfo, snapToValue);\n}\n\nfunction buildPayloadsBySeries(value, axisInfo) {\n  var axis = axisInfo.axis;\n  var dim = axis.dim;\n  var snapToValue = value;\n  var payloadBatch = [];\n  var minDist = Number.MAX_VALUE;\n  var minDiff = -1;\n  each(axisInfo.seriesModels, function (series, idx) {\n    var dataDim = series.getData().mapDimension(dim, true);\n    var seriesNestestValue;\n    var dataIndices;\n\n    if (series.getAxisTooltipData) {\n      var result = series.getAxisTooltipData(dataDim, value, axis);\n      dataIndices = result.dataIndices;\n      seriesNestestValue = result.nestestValue;\n    } else {\n      dataIndices = series.getData().indicesOfNearest(dataDim[0], value, // Add a threshold to avoid find the wrong dataIndex\n      // when data length is not same.\n      // false,\n      axis.type === 'category' ? 0.5 : null);\n\n      if (!dataIndices.length) {\n        return;\n      }\n\n      seriesNestestValue = series.getData().get(dataDim[0], dataIndices[0]);\n    }\n\n    if (seriesNestestValue == null || !isFinite(seriesNestestValue)) {\n      return;\n    }\n\n    var diff = value - seriesNestestValue;\n    var dist = Math.abs(diff); // Consider category case\n\n    if (dist <= minDist) {\n      if (dist < minDist || diff >= 0 && minDiff < 0) {\n        minDist = dist;\n        minDiff = diff;\n        snapToValue = seriesNestestValue;\n        payloadBatch.length = 0;\n      }\n\n      each(dataIndices, function (dataIndex) {\n        payloadBatch.push({\n          seriesIndex: series.seriesIndex,\n          dataIndexInside: dataIndex,\n          dataIndex: series.getData().getRawIndex(dataIndex)\n        });\n      });\n    }\n  });\n  return {\n    payloadBatch: payloadBatch,\n    snapToValue: snapToValue\n  };\n}\n\nfunction showPointer(showValueMap, axisInfo, value, payloadBatch) {\n  showValueMap[axisInfo.key] = {\n    value: value,\n    payloadBatch: payloadBatch\n  };\n}\n\nfunction showTooltip(dataByCoordSys, axisInfo, payloadInfo, value) {\n  var payloadBatch = payloadInfo.payloadBatch;\n  var axis = axisInfo.axis;\n  var axisModel = axis.model;\n  var axisPointerModel = axisInfo.axisPointerModel; // If no data, do not create anything in dataByCoordSys,\n  // whose length will be used to judge whether dispatch action.\n\n  if (!axisInfo.triggerTooltip || !payloadBatch.length) {\n    return;\n  }\n\n  var coordSysModel = axisInfo.coordSys.model;\n  var coordSysKey = modelHelper.makeKey(coordSysModel);\n  var coordSysItem = dataByCoordSys.map[coordSysKey];\n\n  if (!coordSysItem) {\n    coordSysItem = dataByCoordSys.map[coordSysKey] = {\n      coordSysId: coordSysModel.id,\n      coordSysIndex: coordSysModel.componentIndex,\n      coordSysType: coordSysModel.type,\n      coordSysMainType: coordSysModel.mainType,\n      dataByAxis: []\n    };\n    dataByCoordSys.list.push(coordSysItem);\n  }\n\n  coordSysItem.dataByAxis.push({\n    axisDim: axis.dim,\n    axisIndex: axisModel.componentIndex,\n    axisType: axisModel.type,\n    axisId: axisModel.id,\n    value: value,\n    // Caustion: viewHelper.getValueLabel is actually on \"view stage\", which\n    // depends that all models have been updated. So it should not be performed\n    // here. Considering axisPointerModel used here is volatile, which is hard\n    // to be retrieve in TooltipView, we prepare parameters here.\n    valueLabelOpt: {\n      precision: axisPointerModel.get('label.precision'),\n      formatter: axisPointerModel.get('label.formatter')\n    },\n    seriesDataIndices: payloadBatch.slice()\n  });\n}\n\nfunction updateModelActually(showValueMap, axesInfo, outputFinder) {\n  var outputAxesInfo = outputFinder.axesInfo = []; // Basic logic: If no 'show' required, 'hide' this axisPointer.\n\n  each(axesInfo, function (axisInfo, key) {\n    var option = axisInfo.axisPointerModel.option;\n    var valItem = showValueMap[key];\n\n    if (valItem) {\n      !axisInfo.useHandle && (option.status = 'show');\n      option.value = valItem.value; // For label formatter param and highlight.\n\n      option.seriesDataIndices = (valItem.payloadBatch || []).slice();\n    } // When always show (e.g., handle used), remain\n    // original value and status.\n    else {\n        // If hide, value still need to be set, consider\n        // click legend to toggle axis blank.\n        !axisInfo.useHandle && (option.status = 'hide');\n      } // If status is 'hide', should be no info in payload.\n\n\n    option.status === 'show' && outputAxesInfo.push({\n      axisDim: axisInfo.axis.dim,\n      axisIndex: axisInfo.axis.model.componentIndex,\n      value: option.value\n    });\n  });\n}\n\nfunction dispatchTooltipActually(dataByCoordSys, point, payload, dispatchAction) {\n  // Basic logic: If no showTip required, hideTip will be dispatched.\n  if (illegalPoint(point) || !dataByCoordSys.list.length) {\n    dispatchAction({\n      type: 'hideTip'\n    });\n    return;\n  } // In most case only one axis (or event one series is used). It is\n  // convinient to fetch payload.seriesIndex and payload.dataIndex\n  // dirtectly. So put the first seriesIndex and dataIndex of the first\n  // axis on the payload.\n\n\n  var sampleItem = ((dataByCoordSys.list[0].dataByAxis[0] || {}).seriesDataIndices || [])[0] || {};\n  dispatchAction({\n    type: 'showTip',\n    escapeConnect: true,\n    x: point[0],\n    y: point[1],\n    tooltipOption: payload.tooltipOption,\n    position: payload.position,\n    dataIndexInside: sampleItem.dataIndexInside,\n    dataIndex: sampleItem.dataIndex,\n    seriesIndex: sampleItem.seriesIndex,\n    dataByCoordSys: dataByCoordSys.list\n  });\n}\n\nfunction dispatchHighDownActually(axesInfo, dispatchAction, api) {\n  // FIXME\n  // highlight status modification shoule be a stage of main process?\n  // (Consider confilct (e.g., legend and axisPointer) and setOption)\n  var zr = api.getZr();\n  var highDownKey = 'axisPointerLastHighlights';\n  var lastHighlights = inner(zr)[highDownKey] || {};\n  var newHighlights = inner(zr)[highDownKey] = {}; // Update highlight/downplay status according to axisPointer model.\n  // Build hash map and remove duplicate incidentally.\n\n  each(axesInfo, function (axisInfo, key) {\n    var option = axisInfo.axisPointerModel.option;\n    option.status === 'show' && each(option.seriesDataIndices, function (batchItem) {\n      var key = batchItem.seriesIndex + ' | ' + batchItem.dataIndex;\n      newHighlights[key] = batchItem;\n    });\n  }); // Diff.\n\n  var toHighlight = [];\n  var toDownplay = [];\n  zrUtil.each(lastHighlights, function (batchItem, key) {\n    !newHighlights[key] && toDownplay.push(batchItem);\n  });\n  zrUtil.each(newHighlights, function (batchItem, key) {\n    !lastHighlights[key] && toHighlight.push(batchItem);\n  });\n  toDownplay.length && api.dispatchAction({\n    type: 'downplay',\n    escapeConnect: true,\n    batch: toDownplay\n  });\n  toHighlight.length && api.dispatchAction({\n    type: 'highlight',\n    escapeConnect: true,\n    batch: toHighlight\n  });\n}\n\nfunction findInputAxisInfo(inputAxesInfo, axisInfo) {\n  for (var i = 0; i < (inputAxesInfo || []).length; i++) {\n    var inputAxisInfo = inputAxesInfo[i];\n\n    if (axisInfo.axis.dim === inputAxisInfo.axisDim && axisInfo.axis.model.componentIndex === inputAxisInfo.axisIndex) {\n      return inputAxisInfo;\n    }\n  }\n}\n\nfunction makeMapperParam(axisInfo) {\n  var axisModel = axisInfo.axis.model;\n  var item = {};\n  var dim = item.axisDim = axisInfo.axis.dim;\n  item.axisIndex = item[dim + 'AxisIndex'] = axisModel.componentIndex;\n  item.axisName = item[dim + 'AxisName'] = axisModel.name;\n  item.axisId = item[dim + 'AxisId'] = axisModel.id;\n  return item;\n}\n\nfunction illegalPoint(point) {\n  return !point || point[0] == null || isNaN(point[0]) || point[1] == null || isNaN(point[1]);\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../../echarts\");\n\nvar createListSimply = require(\"../helper/createListSimply\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar modelUtil = require(\"../../util/model\");\n\nvar _number = require(\"../../util/number\");\n\nvar getPercentWithPrecision = _number.getPercentWithPrecision;\n\nvar dataSelectableMixin = require(\"../../component/helper/selectableMixin\");\n\nvar _dataProvider = require(\"../../data/helper/dataProvider\");\n\nvar retrieveRawAttr = _dataProvider.retrieveRawAttr;\n\nvar _sourceHelper = require(\"../../data/helper/sourceHelper\");\n\nvar makeSeriesEncodeForNameBased = _sourceHelper.makeSeriesEncodeForNameBased;\n\nvar LegendVisualProvider = require(\"../../visual/LegendVisualProvider\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar PieSeries = echarts.extendSeriesModel({\n  type: 'series.pie',\n  // Overwrite\n  init: function (option) {\n    PieSeries.superApply(this, 'init', arguments); // Enable legend selection for each data item\n    // Use a function instead of direct access because data reference may changed\n\n    this.legendVisualProvider = new LegendVisualProvider(zrUtil.bind(this.getData, this), zrUtil.bind(this.getRawData, this));\n    this.updateSelectedMap(this._createSelectableList());\n\n    this._defaultLabelLine(option);\n  },\n  // Overwrite\n  mergeOption: function (newOption) {\n    PieSeries.superCall(this, 'mergeOption', newOption);\n    this.updateSelectedMap(this._createSelectableList());\n  },\n  getInitialData: function (option, ecModel) {\n    return createListSimply(this, {\n      coordDimensions: ['value'],\n      encodeDefaulter: zrUtil.curry(makeSeriesEncodeForNameBased, this)\n    });\n  },\n  _createSelectableList: function () {\n    var data = this.getRawData();\n    var valueDim = data.mapDimension('value');\n    var targetList = [];\n\n    for (var i = 0, len = data.count(); i < len; i++) {\n      targetList.push({\n        name: data.getName(i),\n        value: data.get(valueDim, i),\n        selected: retrieveRawAttr(data, i, 'selected')\n      });\n    }\n\n    return targetList;\n  },\n  // Overwrite\n  getDataParams: function (dataIndex) {\n    var data = this.getData();\n    var params = PieSeries.superCall(this, 'getDataParams', dataIndex); // FIXME toFixed?\n\n    var valueList = [];\n    data.each(data.mapDimension('value'), function (value) {\n      valueList.push(value);\n    });\n    params.percent = getPercentWithPrecision(valueList, dataIndex, data.hostModel.get('percentPrecision'));\n    params.$vars.push('percent');\n    return params;\n  },\n  _defaultLabelLine: function (option) {\n    // Extend labelLine emphasis\n    modelUtil.defaultEmphasis(option, 'labelLine', ['show']);\n    var labelLineNormalOpt = option.labelLine;\n    var labelLineEmphasisOpt = option.emphasis.labelLine; // Not show label line if `label.normal.show = false`\n\n    labelLineNormalOpt.show = labelLineNormalOpt.show && option.label.show;\n    labelLineEmphasisOpt.show = labelLineEmphasisOpt.show && option.emphasis.label.show;\n  },\n  defaultOption: {\n    zlevel: 0,\n    z: 2,\n    legendHoverLink: true,\n    hoverAnimation: true,\n    // 默认全局居中\n    center: ['50%', '50%'],\n    radius: [0, '75%'],\n    // 默认顺时针\n    clockwise: true,\n    startAngle: 90,\n    // 最小角度改为0\n    minAngle: 0,\n    // If the angle of a sector less than `minShowLabelAngle`,\n    // the label will not be displayed.\n    minShowLabelAngle: 0,\n    // 选中时扇区偏移量\n    selectedOffset: 10,\n    // 高亮扇区偏移量\n    hoverOffset: 10,\n    // If use strategy to avoid label overlapping\n    avoidLabelOverlap: true,\n    // 选择模式，默认关闭，可选single，multiple\n    // selectedMode: false,\n    // 南丁格尔玫瑰图模式，'radius'（半径） | 'area'（面积）\n    // roseType: null,\n    percentPrecision: 2,\n    // If still show when all data zero.\n    stillShowZeroSum: true,\n    // cursor: null,\n    left: 0,\n    top: 0,\n    right: 0,\n    bottom: 0,\n    width: null,\n    height: null,\n    label: {\n      // If rotate around circle\n      rotate: false,\n      show: true,\n      // 'outer', 'inside', 'center'\n      position: 'outer',\n      // 'none', 'labelLine', 'edge'. Works only when position is 'outer'\n      alignTo: 'none',\n      // Closest distance between label and chart edge.\n      // Works only position is 'outer' and alignTo is 'edge'.\n      margin: '25%',\n      // Works only position is 'outer' and alignTo is not 'edge'.\n      bleedMargin: 10,\n      // Distance between text and label line.\n      distanceToLabelLine: 5 // formatter: 标签文本格式器，同Tooltip.formatter，不支持异步回调\n      // 默认使用全局文本样式，详见TEXTSTYLE\n      // distance: 当position为inner时有效，为label位置到圆心的距离与圆半径(环状图为内外半径和)的比例系数\n\n    },\n    // Enabled when label.normal.position is 'outer'\n    labelLine: {\n      show: true,\n      // 引导线两段中的第一段长度\n      length: 15,\n      // 引导线两段中的第二段长度\n      length2: 15,\n      smooth: false,\n      lineStyle: {\n        // color: 各异,\n        width: 1,\n        type: 'solid'\n      }\n    },\n    itemStyle: {\n      borderWidth: 1\n    },\n    // Animation type. Valid values: expansion, scale\n    animationType: 'expansion',\n    // Animation type when update. Valid values: transition, expansion\n    animationTypeUpdate: 'transition',\n    animationEasing: 'cubicOut'\n  }\n});\nzrUtil.mixin(PieSeries, dataSelectableMixin);\nvar _default = PieSeries;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar retrieve = _util.retrieve;\nvar defaults = _util.defaults;\nvar extend = _util.extend;\nvar each = _util.each;\n\nvar formatUtil = require(\"../../util/format\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar Model = require(\"../../model/Model\");\n\nvar _number = require(\"../../util/number\");\n\nvar isRadianAroundZero = _number.isRadianAroundZero;\nvar remRadian = _number.remRadian;\n\nvar _symbol = require(\"../../util/symbol\");\n\nvar createSymbol = _symbol.createSymbol;\n\nvar matrixUtil = require(\"zrender/lib/core/matrix\");\n\nvar _vector = require(\"zrender/lib/core/vector\");\n\nvar v2ApplyTransform = _vector.applyTransform;\n\nvar _axisHelper = require(\"../../coord/axisHelper\");\n\nvar shouldShowAllLabels = _axisHelper.shouldShowAllLabels;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar PI = Math.PI;\n/**\n * A final axis is translated and rotated from a \"standard axis\".\n * So opt.position and opt.rotation is required.\n *\n * A standard axis is and axis from [0, 0] to [0, axisExtent[1]],\n * for example: (0, 0) ------------> (0, 50)\n *\n * nameDirection or tickDirection or labelDirection is 1 means tick\n * or label is below the standard axis, whereas is -1 means above\n * the standard axis. labelOffset means offset between label and axis,\n * which is useful when 'onZero', where axisLabel is in the grid and\n * label in outside grid.\n *\n * Tips: like always,\n * positive rotation represents anticlockwise, and negative rotation\n * represents clockwise.\n * The direction of position coordinate is the same as the direction\n * of screen coordinate.\n *\n * Do not need to consider axis 'inverse', which is auto processed by\n * axis extent.\n *\n * @param {module:zrender/container/Group} group\n * @param {Object} axisModel\n * @param {Object} opt Standard axis parameters.\n * @param {Array.<number>} opt.position [x, y]\n * @param {number} opt.rotation by radian\n * @param {number} [opt.nameDirection=1] 1 or -1 Used when nameLocation is 'middle' or 'center'.\n * @param {number} [opt.tickDirection=1] 1 or -1\n * @param {number} [opt.labelDirection=1] 1 or -1\n * @param {number} [opt.labelOffset=0] Usefull when onZero.\n * @param {string} [opt.axisLabelShow] default get from axisModel.\n * @param {string} [opt.axisName] default get from axisModel.\n * @param {number} [opt.axisNameAvailableWidth]\n * @param {number} [opt.labelRotate] by degree, default get from axisModel.\n * @param {number} [opt.strokeContainThreshold] Default label interval when label\n * @param {number} [opt.nameTruncateMaxWidth]\n */\n\nvar AxisBuilder = function (axisModel, opt) {\n  /**\n   * @readOnly\n   */\n  this.opt = opt;\n  /**\n   * @readOnly\n   */\n\n  this.axisModel = axisModel; // Default value\n\n  defaults(opt, {\n    labelOffset: 0,\n    nameDirection: 1,\n    tickDirection: 1,\n    labelDirection: 1,\n    silent: true\n  });\n  /**\n   * @readOnly\n   */\n\n  this.group = new graphic.Group(); // FIXME Not use a seperate text group?\n\n  var dumbGroup = new graphic.Group({\n    position: opt.position.slice(),\n    rotation: opt.rotation\n  }); // this.group.add(dumbGroup);\n  // this._dumbGroup = dumbGroup;\n\n  dumbGroup.updateTransform();\n  this._transform = dumbGroup.transform;\n  this._dumbGroup = dumbGroup;\n};\n\nAxisBuilder.prototype = {\n  constructor: AxisBuilder,\n  hasBuilder: function (name) {\n    return !!builders[name];\n  },\n  add: function (name) {\n    builders[name].call(this);\n  },\n  getGroup: function () {\n    return this.group;\n  }\n};\nvar builders = {\n  /**\n   * @private\n   */\n  axisLine: function () {\n    var opt = this.opt;\n    var axisModel = this.axisModel;\n\n    if (!axisModel.get('axisLine.show')) {\n      return;\n    }\n\n    var extent = this.axisModel.axis.getExtent();\n    var matrix = this._transform;\n    var pt1 = [extent[0], 0];\n    var pt2 = [extent[1], 0];\n\n    if (matrix) {\n      v2ApplyTransform(pt1, pt1, matrix);\n      v2ApplyTransform(pt2, pt2, matrix);\n    }\n\n    var lineStyle = extend({\n      lineCap: 'round'\n    }, axisModel.getModel('axisLine.lineStyle').getLineStyle());\n    this.group.add(new graphic.Line({\n      // Id for animation\n      anid: 'line',\n      subPixelOptimize: true,\n      shape: {\n        x1: pt1[0],\n        y1: pt1[1],\n        x2: pt2[0],\n        y2: pt2[1]\n      },\n      style: lineStyle,\n      strokeContainThreshold: opt.strokeContainThreshold || 5,\n      silent: true,\n      z2: 1\n    }));\n    var arrows = axisModel.get('axisLine.symbol');\n    var arrowSize = axisModel.get('axisLine.symbolSize');\n    var arrowOffset = axisModel.get('axisLine.symbolOffset') || 0;\n\n    if (typeof arrowOffset === 'number') {\n      arrowOffset = [arrowOffset, arrowOffset];\n    }\n\n    if (arrows != null) {\n      if (typeof arrows === 'string') {\n        // Use the same arrow for start and end point\n        arrows = [arrows, arrows];\n      }\n\n      if (typeof arrowSize === 'string' || typeof arrowSize === 'number') {\n        // Use the same size for width and height\n        arrowSize = [arrowSize, arrowSize];\n      }\n\n      var symbolWidth = arrowSize[0];\n      var symbolHeight = arrowSize[1];\n      each([{\n        rotate: opt.rotation + Math.PI / 2,\n        offset: arrowOffset[0],\n        r: 0\n      }, {\n        rotate: opt.rotation - Math.PI / 2,\n        offset: arrowOffset[1],\n        r: Math.sqrt((pt1[0] - pt2[0]) * (pt1[0] - pt2[0]) + (pt1[1] - pt2[1]) * (pt1[1] - pt2[1]))\n      }], function (point, index) {\n        if (arrows[index] !== 'none' && arrows[index] != null) {\n          var symbol = createSymbol(arrows[index], -symbolWidth / 2, -symbolHeight / 2, symbolWidth, symbolHeight, lineStyle.stroke, true); // Calculate arrow position with offset\n\n          var r = point.r + point.offset;\n          var pos = [pt1[0] + r * Math.cos(opt.rotation), pt1[1] - r * Math.sin(opt.rotation)];\n          symbol.attr({\n            rotation: point.rotate,\n            position: pos,\n            silent: true,\n            z2: 11\n          });\n          this.group.add(symbol);\n        }\n      }, this);\n    }\n  },\n\n  /**\n   * @private\n   */\n  axisTickLabel: function () {\n    var axisModel = this.axisModel;\n    var opt = this.opt;\n    var ticksEls = buildAxisMajorTicks(this, axisModel, opt);\n    var labelEls = buildAxisLabel(this, axisModel, opt);\n    fixMinMaxLabelShow(axisModel, labelEls, ticksEls);\n    buildAxisMinorTicks(this, axisModel, opt);\n  },\n\n  /**\n   * @private\n   */\n  axisName: function () {\n    var opt = this.opt;\n    var axisModel = this.axisModel;\n    var name = retrieve(opt.axisName, axisModel.get('name'));\n\n    if (!name) {\n      return;\n    }\n\n    var nameLocation = axisModel.get('nameLocation');\n    var nameDirection = opt.nameDirection;\n    var textStyleModel = axisModel.getModel('nameTextStyle');\n    var gap = axisModel.get('nameGap') || 0;\n    var extent = this.axisModel.axis.getExtent();\n    var gapSignal = extent[0] > extent[1] ? -1 : 1;\n    var pos = [nameLocation === 'start' ? extent[0] - gapSignal * gap : nameLocation === 'end' ? extent[1] + gapSignal * gap : (extent[0] + extent[1]) / 2, // 'middle'\n    // Reuse labelOffset.\n    isNameLocationCenter(nameLocation) ? opt.labelOffset + nameDirection * gap : 0];\n    var labelLayout;\n    var nameRotation = axisModel.get('nameRotate');\n\n    if (nameRotation != null) {\n      nameRotation = nameRotation * PI / 180; // To radian.\n    }\n\n    var axisNameAvailableWidth;\n\n    if (isNameLocationCenter(nameLocation)) {\n      labelLayout = innerTextLayout(opt.rotation, nameRotation != null ? nameRotation : opt.rotation, // Adapt to axis.\n      nameDirection);\n    } else {\n      labelLayout = endTextLayout(opt, nameLocation, nameRotation || 0, extent);\n      axisNameAvailableWidth = opt.axisNameAvailableWidth;\n\n      if (axisNameAvailableWidth != null) {\n        axisNameAvailableWidth = Math.abs(axisNameAvailableWidth / Math.sin(labelLayout.rotation));\n        !isFinite(axisNameAvailableWidth) && (axisNameAvailableWidth = null);\n      }\n    }\n\n    var textFont = textStyleModel.getFont();\n    var truncateOpt = axisModel.get('nameTruncate', true) || {};\n    var ellipsis = truncateOpt.ellipsis;\n    var maxWidth = retrieve(opt.nameTruncateMaxWidth, truncateOpt.maxWidth, axisNameAvailableWidth); // FIXME\n    // truncate rich text? (consider performance)\n\n    var truncatedText = ellipsis != null && maxWidth != null ? formatUtil.truncateText(name, maxWidth, textFont, ellipsis, {\n      minChar: 2,\n      placeholder: truncateOpt.placeholder\n    }) : name;\n    var tooltipOpt = axisModel.get('tooltip', true);\n    var mainType = axisModel.mainType;\n    var formatterParams = {\n      componentType: mainType,\n      name: name,\n      $vars: ['name']\n    };\n    formatterParams[mainType + 'Index'] = axisModel.componentIndex;\n    var textEl = new graphic.Text({\n      // Id for animation\n      anid: 'name',\n      __fullText: name,\n      __truncatedText: truncatedText,\n      position: pos,\n      rotation: labelLayout.rotation,\n      silent: isLabelSilent(axisModel),\n      z2: 1,\n      tooltip: tooltipOpt && tooltipOpt.show ? extend({\n        content: name,\n        formatter: function () {\n          return name;\n        },\n        formatterParams: formatterParams\n      }, tooltipOpt) : null\n    });\n    graphic.setTextStyle(textEl.style, textStyleModel, {\n      text: truncatedText,\n      textFont: textFont,\n      textFill: textStyleModel.getTextColor() || axisModel.get('axisLine.lineStyle.color'),\n      textAlign: textStyleModel.get('align') || labelLayout.textAlign,\n      textVerticalAlign: textStyleModel.get('verticalAlign') || labelLayout.textVerticalAlign\n    });\n\n    if (axisModel.get('triggerEvent')) {\n      textEl.eventData = makeAxisEventDataBase(axisModel);\n      textEl.eventData.targetType = 'axisName';\n      textEl.eventData.name = name;\n    } // FIXME\n\n\n    this._dumbGroup.add(textEl);\n\n    textEl.updateTransform();\n    this.group.add(textEl);\n    textEl.decomposeTransform();\n  }\n};\n\nvar makeAxisEventDataBase = AxisBuilder.makeAxisEventDataBase = function (axisModel) {\n  var eventData = {\n    componentType: axisModel.mainType,\n    componentIndex: axisModel.componentIndex\n  };\n  eventData[axisModel.mainType + 'Index'] = axisModel.componentIndex;\n  return eventData;\n};\n/**\n * @public\n * @static\n * @param {Object} opt\n * @param {number} axisRotation in radian\n * @param {number} textRotation in radian\n * @param {number} direction\n * @return {Object} {\n *  rotation, // according to axis\n *  textAlign,\n *  textVerticalAlign\n * }\n */\n\n\nvar innerTextLayout = AxisBuilder.innerTextLayout = function (axisRotation, textRotation, direction) {\n  var rotationDiff = remRadian(textRotation - axisRotation);\n  var textAlign;\n  var textVerticalAlign;\n\n  if (isRadianAroundZero(rotationDiff)) {\n    // Label is parallel with axis line.\n    textVerticalAlign = direction > 0 ? 'top' : 'bottom';\n    textAlign = 'center';\n  } else if (isRadianAroundZero(rotationDiff - PI)) {\n    // Label is inverse parallel with axis line.\n    textVerticalAlign = direction > 0 ? 'bottom' : 'top';\n    textAlign = 'center';\n  } else {\n    textVerticalAlign = 'middle';\n\n    if (rotationDiff > 0 && rotationDiff < PI) {\n      textAlign = direction > 0 ? 'right' : 'left';\n    } else {\n      textAlign = direction > 0 ? 'left' : 'right';\n    }\n  }\n\n  return {\n    rotation: rotationDiff,\n    textAlign: textAlign,\n    textVerticalAlign: textVerticalAlign\n  };\n};\n\nfunction endTextLayout(opt, textPosition, textRotate, extent) {\n  var rotationDiff = remRadian(textRotate - opt.rotation);\n  var textAlign;\n  var textVerticalAlign;\n  var inverse = extent[0] > extent[1];\n  var onLeft = textPosition === 'start' && !inverse || textPosition !== 'start' && inverse;\n\n  if (isRadianAroundZero(rotationDiff - PI / 2)) {\n    textVerticalAlign = onLeft ? 'bottom' : 'top';\n    textAlign = 'center';\n  } else if (isRadianAroundZero(rotationDiff - PI * 1.5)) {\n    textVerticalAlign = onLeft ? 'top' : 'bottom';\n    textAlign = 'center';\n  } else {\n    textVerticalAlign = 'middle';\n\n    if (rotationDiff < PI * 1.5 && rotationDiff > PI / 2) {\n      textAlign = onLeft ? 'left' : 'right';\n    } else {\n      textAlign = onLeft ? 'right' : 'left';\n    }\n  }\n\n  return {\n    rotation: rotationDiff,\n    textAlign: textAlign,\n    textVerticalAlign: textVerticalAlign\n  };\n}\n\nvar isLabelSilent = AxisBuilder.isLabelSilent = function (axisModel) {\n  var tooltipOpt = axisModel.get('tooltip');\n  return axisModel.get('silent') // Consider mouse cursor, add these restrictions.\n  || !(axisModel.get('triggerEvent') || tooltipOpt && tooltipOpt.show);\n};\n\nfunction fixMinMaxLabelShow(axisModel, labelEls, tickEls) {\n  if (shouldShowAllLabels(axisModel.axis)) {\n    return;\n  } // If min or max are user set, we need to check\n  // If the tick on min(max) are overlap on their neighbour tick\n  // If they are overlapped, we need to hide the min(max) tick label\n\n\n  var showMinLabel = axisModel.get('axisLabel.showMinLabel');\n  var showMaxLabel = axisModel.get('axisLabel.showMaxLabel'); // FIXME\n  // Have not consider onBand yet, where tick els is more than label els.\n\n  labelEls = labelEls || [];\n  tickEls = tickEls || [];\n  var firstLabel = labelEls[0];\n  var nextLabel = labelEls[1];\n  var lastLabel = labelEls[labelEls.length - 1];\n  var prevLabel = labelEls[labelEls.length - 2];\n  var firstTick = tickEls[0];\n  var nextTick = tickEls[1];\n  var lastTick = tickEls[tickEls.length - 1];\n  var prevTick = tickEls[tickEls.length - 2];\n\n  if (showMinLabel === false) {\n    ignoreEl(firstLabel);\n    ignoreEl(firstTick);\n  } else if (isTwoLabelOverlapped(firstLabel, nextLabel)) {\n    if (showMinLabel) {\n      ignoreEl(nextLabel);\n      ignoreEl(nextTick);\n    } else {\n      ignoreEl(firstLabel);\n      ignoreEl(firstTick);\n    }\n  }\n\n  if (showMaxLabel === false) {\n    ignoreEl(lastLabel);\n    ignoreEl(lastTick);\n  } else if (isTwoLabelOverlapped(prevLabel, lastLabel)) {\n    if (showMaxLabel) {\n      ignoreEl(prevLabel);\n      ignoreEl(prevTick);\n    } else {\n      ignoreEl(lastLabel);\n      ignoreEl(lastTick);\n    }\n  }\n}\n\nfunction ignoreEl(el) {\n  el && (el.ignore = true);\n}\n\nfunction isTwoLabelOverlapped(current, next, labelLayout) {\n  // current and next has the same rotation.\n  var firstRect = current && current.getBoundingRect().clone();\n  var nextRect = next && next.getBoundingRect().clone();\n\n  if (!firstRect || !nextRect) {\n    return;\n  } // When checking intersect of two rotated labels, we use mRotationBack\n  // to avoid that boundingRect is enlarge when using `boundingRect.applyTransform`.\n\n\n  var mRotationBack = matrixUtil.identity([]);\n  matrixUtil.rotate(mRotationBack, mRotationBack, -current.rotation);\n  firstRect.applyTransform(matrixUtil.mul([], mRotationBack, current.getLocalTransform()));\n  nextRect.applyTransform(matrixUtil.mul([], mRotationBack, next.getLocalTransform()));\n  return firstRect.intersect(nextRect);\n}\n\nfunction isNameLocationCenter(nameLocation) {\n  return nameLocation === 'middle' || nameLocation === 'center';\n}\n\nfunction createTicks(ticksCoords, tickTransform, tickEndCoord, tickLineStyle, aniid) {\n  var tickEls = [];\n  var pt1 = [];\n  var pt2 = [];\n\n  for (var i = 0; i < ticksCoords.length; i++) {\n    var tickCoord = ticksCoords[i].coord;\n    pt1[0] = tickCoord;\n    pt1[1] = 0;\n    pt2[0] = tickCoord;\n    pt2[1] = tickEndCoord;\n\n    if (tickTransform) {\n      v2ApplyTransform(pt1, pt1, tickTransform);\n      v2ApplyTransform(pt2, pt2, tickTransform);\n    } // Tick line, Not use group transform to have better line draw\n\n\n    var tickEl = new graphic.Line({\n      // Id for animation\n      anid: aniid + '_' + ticksCoords[i].tickValue,\n      subPixelOptimize: true,\n      shape: {\n        x1: pt1[0],\n        y1: pt1[1],\n        x2: pt2[0],\n        y2: pt2[1]\n      },\n      style: tickLineStyle,\n      z2: 2,\n      silent: true\n    });\n    tickEls.push(tickEl);\n  }\n\n  return tickEls;\n}\n\nfunction buildAxisMajorTicks(axisBuilder, axisModel, opt) {\n  var axis = axisModel.axis;\n  var tickModel = axisModel.getModel('axisTick');\n\n  if (!tickModel.get('show') || axis.scale.isBlank()) {\n    return;\n  }\n\n  var lineStyleModel = tickModel.getModel('lineStyle');\n  var tickEndCoord = opt.tickDirection * tickModel.get('length');\n  var ticksCoords = axis.getTicksCoords();\n  var ticksEls = createTicks(ticksCoords, axisBuilder._transform, tickEndCoord, defaults(lineStyleModel.getLineStyle(), {\n    stroke: axisModel.get('axisLine.lineStyle.color')\n  }), 'ticks');\n\n  for (var i = 0; i < ticksEls.length; i++) {\n    axisBuilder.group.add(ticksEls[i]);\n  }\n\n  return ticksEls;\n}\n\nfunction buildAxisMinorTicks(axisBuilder, axisModel, opt) {\n  var axis = axisModel.axis;\n  var minorTickModel = axisModel.getModel('minorTick');\n\n  if (!minorTickModel.get('show') || axis.scale.isBlank()) {\n    return;\n  }\n\n  var minorTicksCoords = axis.getMinorTicksCoords();\n\n  if (!minorTicksCoords.length) {\n    return;\n  }\n\n  var lineStyleModel = minorTickModel.getModel('lineStyle');\n  var tickEndCoord = opt.tickDirection * minorTickModel.get('length');\n  var minorTickLineStyle = defaults(lineStyleModel.getLineStyle(), defaults(axisModel.getModel('axisTick').getLineStyle(), {\n    stroke: axisModel.get('axisLine.lineStyle.color')\n  }));\n\n  for (var i = 0; i < minorTicksCoords.length; i++) {\n    var minorTicksEls = createTicks(minorTicksCoords[i], axisBuilder._transform, tickEndCoord, minorTickLineStyle, 'minorticks_' + i);\n\n    for (var k = 0; k < minorTicksEls.length; k++) {\n      axisBuilder.group.add(minorTicksEls[k]);\n    }\n  }\n}\n\nfunction buildAxisLabel(axisBuilder, axisModel, opt) {\n  var axis = axisModel.axis;\n  var show = retrieve(opt.axisLabelShow, axisModel.get('axisLabel.show'));\n\n  if (!show || axis.scale.isBlank()) {\n    return;\n  }\n\n  var labelModel = axisModel.getModel('axisLabel');\n  var labelMargin = labelModel.get('margin');\n  var labels = axis.getViewLabels(); // Special label rotate.\n\n  var labelRotation = (retrieve(opt.labelRotate, labelModel.get('rotate')) || 0) * PI / 180;\n  var labelLayout = innerTextLayout(opt.rotation, labelRotation, opt.labelDirection);\n  var rawCategoryData = axisModel.getCategories && axisModel.getCategories(true);\n  var labelEls = [];\n  var silent = isLabelSilent(axisModel);\n  var triggerEvent = axisModel.get('triggerEvent');\n  each(labels, function (labelItem, index) {\n    var tickValue = labelItem.tickValue;\n    var formattedLabel = labelItem.formattedLabel;\n    var rawLabel = labelItem.rawLabel;\n    var itemLabelModel = labelModel;\n\n    if (rawCategoryData && rawCategoryData[tickValue] && rawCategoryData[tickValue].textStyle) {\n      itemLabelModel = new Model(rawCategoryData[tickValue].textStyle, labelModel, axisModel.ecModel);\n    }\n\n    var textColor = itemLabelModel.getTextColor() || axisModel.get('axisLine.lineStyle.color');\n    var tickCoord = axis.dataToCoord(tickValue);\n    var pos = [tickCoord, opt.labelOffset + opt.labelDirection * labelMargin];\n    var textEl = new graphic.Text({\n      // Id for animation\n      anid: 'label_' + tickValue,\n      position: pos,\n      rotation: labelLayout.rotation,\n      silent: silent,\n      z2: 10\n    });\n    graphic.setTextStyle(textEl.style, itemLabelModel, {\n      text: formattedLabel,\n      textAlign: itemLabelModel.getShallow('align', true) || labelLayout.textAlign,\n      textVerticalAlign: itemLabelModel.getShallow('verticalAlign', true) || itemLabelModel.getShallow('baseline', true) || labelLayout.textVerticalAlign,\n      textFill: typeof textColor === 'function' ? textColor( // (1) In category axis with data zoom, tick is not the original\n      // index of axis.data. So tick should not be exposed to user\n      // in category axis.\n      // (2) Compatible with previous version, which always use formatted label as\n      // input. But in interval scale the formatted label is like '223,445', which\n      // maked user repalce ','. So we modify it to return original val but remain\n      // it as 'string' to avoid error in replacing.\n      axis.type === 'category' ? rawLabel : axis.type === 'value' ? tickValue + '' : tickValue, index) : textColor\n    }); // Pack data for mouse event\n\n    if (triggerEvent) {\n      textEl.eventData = makeAxisEventDataBase(axisModel);\n      textEl.eventData.targetType = 'axisLabel';\n      textEl.eventData.value = rawLabel;\n    } // FIXME\n\n\n    axisBuilder._dumbGroup.add(textEl);\n\n    textEl.updateTransform();\n    labelEls.push(textEl);\n    axisBuilder.group.add(textEl);\n    textEl.decomposeTransform();\n  });\n  return labelEls;\n}\n\nvar _default = AxisBuilder;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar textContain = require(\"zrender/lib/contain/text\");\n\nvar formatUtil = require(\"../../util/format\");\n\nvar matrix = require(\"zrender/lib/core/matrix\");\n\nvar axisHelper = require(\"../../coord/axisHelper\");\n\nvar AxisBuilder = require(\"../axis/AxisBuilder\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @param {module:echarts/model/Model} axisPointerModel\n */\nfunction buildElStyle(axisPointerModel) {\n  var axisPointerType = axisPointerModel.get('type');\n  var styleModel = axisPointerModel.getModel(axisPointerType + 'Style');\n  var style;\n\n  if (axisPointerType === 'line') {\n    style = styleModel.getLineStyle();\n    style.fill = null;\n  } else if (axisPointerType === 'shadow') {\n    style = styleModel.getAreaStyle();\n    style.stroke = null;\n  }\n\n  return style;\n}\n/**\n * @param {Function} labelPos {align, verticalAlign, position}\n */\n\n\nfunction buildLabelElOption(elOption, axisModel, axisPointerModel, api, labelPos) {\n  var value = axisPointerModel.get('value');\n  var text = getValueLabel(value, axisModel.axis, axisModel.ecModel, axisPointerModel.get('seriesDataIndices'), {\n    precision: axisPointerModel.get('label.precision'),\n    formatter: axisPointerModel.get('label.formatter')\n  });\n  var labelModel = axisPointerModel.getModel('label');\n  var paddings = formatUtil.normalizeCssArray(labelModel.get('padding') || 0);\n  var font = labelModel.getFont();\n  var textRect = textContain.getBoundingRect(text, font);\n  var position = labelPos.position;\n  var width = textRect.width + paddings[1] + paddings[3];\n  var height = textRect.height + paddings[0] + paddings[2]; // Adjust by align.\n\n  var align = labelPos.align;\n  align === 'right' && (position[0] -= width);\n  align === 'center' && (position[0] -= width / 2);\n  var verticalAlign = labelPos.verticalAlign;\n  verticalAlign === 'bottom' && (position[1] -= height);\n  verticalAlign === 'middle' && (position[1] -= height / 2); // Not overflow ec container\n\n  confineInContainer(position, width, height, api);\n  var bgColor = labelModel.get('backgroundColor');\n\n  if (!bgColor || bgColor === 'auto') {\n    bgColor = axisModel.get('axisLine.lineStyle.color');\n  }\n\n  elOption.label = {\n    shape: {\n      x: 0,\n      y: 0,\n      width: width,\n      height: height,\n      r: labelModel.get('borderRadius')\n    },\n    position: position.slice(),\n    // TODO: rich\n    style: {\n      text: text,\n      textFont: font,\n      textFill: labelModel.getTextColor(),\n      textPosition: 'inside',\n      textPadding: paddings,\n      fill: bgColor,\n      stroke: labelModel.get('borderColor') || 'transparent',\n      lineWidth: labelModel.get('borderWidth') || 0,\n      shadowBlur: labelModel.get('shadowBlur'),\n      shadowColor: labelModel.get('shadowColor'),\n      shadowOffsetX: labelModel.get('shadowOffsetX'),\n      shadowOffsetY: labelModel.get('shadowOffsetY')\n    },\n    // Lable should be over axisPointer.\n    z2: 10\n  };\n} // Do not overflow ec container\n\n\nfunction confineInContainer(position, width, height, api) {\n  var viewWidth = api.getWidth();\n  var viewHeight = api.getHeight();\n  position[0] = Math.min(position[0] + width, viewWidth) - width;\n  position[1] = Math.min(position[1] + height, viewHeight) - height;\n  position[0] = Math.max(position[0], 0);\n  position[1] = Math.max(position[1], 0);\n}\n/**\n * @param {number} value\n * @param {module:echarts/coord/Axis} axis\n * @param {module:echarts/model/Global} ecModel\n * @param {Object} opt\n * @param {Array.<Object>} seriesDataIndices\n * @param {number|string} opt.precision 'auto' or a number\n * @param {string|Function} opt.formatter label formatter\n */\n\n\nfunction getValueLabel(value, axis, ecModel, seriesDataIndices, opt) {\n  value = axis.scale.parse(value);\n  var text = axis.scale.getLabel( // If `precision` is set, width can be fixed (like '12.00500'), which\n  // helps to debounce when when moving label.\n  value, {\n    precision: opt.precision\n  });\n  var formatter = opt.formatter;\n\n  if (formatter) {\n    var params = {\n      value: axisHelper.getAxisRawValue(axis, value),\n      axisDimension: axis.dim,\n      axisIndex: axis.index,\n      seriesData: []\n    };\n    zrUtil.each(seriesDataIndices, function (idxItem) {\n      var series = ecModel.getSeriesByIndex(idxItem.seriesIndex);\n      var dataIndex = idxItem.dataIndexInside;\n      var dataParams = series && series.getDataParams(dataIndex);\n      dataParams && params.seriesData.push(dataParams);\n    });\n\n    if (zrUtil.isString(formatter)) {\n      text = formatter.replace('{value}', text);\n    } else if (zrUtil.isFunction(formatter)) {\n      text = formatter(params);\n    }\n  }\n\n  return text;\n}\n/**\n * @param {module:echarts/coord/Axis} axis\n * @param {number} value\n * @param {Object} layoutInfo {\n *  rotation, position, labelOffset, labelDirection, labelMargin\n * }\n */\n\n\nfunction getTransformedPosition(axis, value, layoutInfo) {\n  var transform = matrix.create();\n  matrix.rotate(transform, transform, layoutInfo.rotation);\n  matrix.translate(transform, transform, layoutInfo.position);\n  return graphic.applyTransform([axis.dataToCoord(value), (layoutInfo.labelOffset || 0) + (layoutInfo.labelDirection || 1) * (layoutInfo.labelMargin || 0)], transform);\n}\n\nfunction buildCartesianSingleLabelElOption(value, elOption, layoutInfo, axisModel, axisPointerModel, api) {\n  var textLayout = AxisBuilder.innerTextLayout(layoutInfo.rotation, 0, layoutInfo.labelDirection);\n  layoutInfo.labelMargin = axisPointerModel.get('label.margin');\n  buildLabelElOption(elOption, axisModel, axisPointerModel, api, {\n    position: getTransformedPosition(axisModel.axis, value, layoutInfo),\n    align: textLayout.textAlign,\n    verticalAlign: textLayout.textVerticalAlign\n  });\n}\n/**\n * @param {Array.<number>} p1\n * @param {Array.<number>} p2\n * @param {number} [xDimIndex=0] or 1\n */\n\n\nfunction makeLineShape(p1, p2, xDimIndex) {\n  xDimIndex = xDimIndex || 0;\n  return {\n    x1: p1[xDimIndex],\n    y1: p1[1 - xDimIndex],\n    x2: p2[xDimIndex],\n    y2: p2[1 - xDimIndex]\n  };\n}\n/**\n * @param {Array.<number>} xy\n * @param {Array.<number>} wh\n * @param {number} [xDimIndex=0] or 1\n */\n\n\nfunction makeRectShape(xy, wh, xDimIndex) {\n  xDimIndex = xDimIndex || 0;\n  return {\n    x: xy[xDimIndex],\n    y: xy[1 - xDimIndex],\n    width: wh[xDimIndex],\n    height: wh[1 - xDimIndex]\n  };\n}\n\nfunction makeSectorShape(cx, cy, r0, r, startAngle, endAngle) {\n  return {\n    cx: cx,\n    cy: cy,\n    r0: r0,\n    r: r,\n    startAngle: startAngle,\n    endAngle: endAngle,\n    clockwise: true\n  };\n}\n\nexports.buildElStyle = buildElStyle;\nexports.buildLabelElOption = buildLabelElOption;\nexports.getValueLabel = getValueLabel;\nexports.getTransformedPosition = getTransformedPosition;\nexports.buildCartesianSingleLabelElOption = buildCartesianSingleLabelElOption;\nexports.makeLineShape = makeLineShape;\nexports.makeRectShape = makeRectShape;\nexports.makeSectorShape = makeSectorShape;"],"sourceRoot":""}